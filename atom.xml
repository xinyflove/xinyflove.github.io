<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Peak Xin</title>
  
  <subtitle>å°å³°çš„åšå®¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://xinyufeng.net/"/>
  <updated>2025-07-21T03:25:59.055Z</updated>
  <id>https://xinyufeng.net/</id>
  
  <author>
    <name>Peak Xin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä½¿ç”¨ Bootstrap 3 å®ç°å¸¦ Affix æ»šåŠ¨å›ºå®šçš„ ScrollSpy ä¾§è¾¹å¯¼èˆª</title>
    <link href="https://xinyufeng.net/2025/07/21/%E4%BD%BF%E7%94%A8-Bootstrap-3-%E5%AE%9E%E7%8E%B0%E5%B8%A6-Affix-%E6%BB%9A%E5%8A%A8%E5%9B%BA%E5%AE%9A%E7%9A%84-ScrollSpy-%E4%BE%A7%E8%BE%B9%E5%AF%BC%E8%88%AA/"/>
    <id>https://xinyufeng.net/2025/07/21/ä½¿ç”¨-Bootstrap-3-å®ç°å¸¦-Affix-æ»šåŠ¨å›ºå®šçš„-ScrollSpy-ä¾§è¾¹å¯¼èˆª/</id>
    <published>2025-07-21T02:59:36.000Z</published>
    <updated>2025-07-21T03:25:59.055Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ Bootstrap 3 çš„ <code>ScrollSpy</code> å’Œ <code>Affix</code> æ’ä»¶ï¼Œæ„å»ºä¸€ä¸ªå…·æœ‰é¡¶éƒ¨å¯¼èˆªã€å·¨å¹•ä¿¡æ¯åŒºã€å·¦ä¾§æ»šåŠ¨å›ºå®šå¯¼èˆªå’Œå†…å®¹åŒæ­¥é«˜äº®çš„é¡µé¢ï¼Œå¹¶ä½¿ç”¨ JavaScript æ–¹å¼ä»£æ›¿ä¼ ç»Ÿçš„ <code>data-spy</code> å±æ€§å®Œæˆåˆå§‹åŒ–ã€‚</p></blockquote><h2 id="ğŸ“Œ-èƒŒæ™¯ä¸ç›®æ ‡"><a href="#ğŸ“Œ-èƒŒæ™¯ä¸ç›®æ ‡" class="headerlink" title="ğŸ“Œ èƒŒæ™¯ä¸ç›®æ ‡"></a>ğŸ“Œ èƒŒæ™¯ä¸ç›®æ ‡</h2><p>åœ¨ Bootstrap 3 ä¸­ï¼Œ<code>ScrollSpy</code> æ’ä»¶å¯æ ¹æ®é¡µé¢æ»šåŠ¨è‡ªåŠ¨æ›´æ–°å¯¼èˆªé«˜äº®ï¼Œ<code>Affix</code> æ’ä»¶å¯å®ç°å…ƒç´ æ»šåŠ¨åˆ°ç‰¹å®šä½ç½®åå›ºå®šåœ¨é¡µé¢ä¸Šã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½ç»„åˆåï¼Œå¯ä»¥å®ç°å¦‚ä¸‹äº¤äº’å¼é¡µé¢ç»“æ„ï¼š</p><a id="more"></a><ul><li>é¡¶éƒ¨å›ºå®šå¯¼èˆªæ ï¼ˆnavbar-fixed-topï¼‰</li><li>å·¨å¹•æ¬¢è¿åŒºï¼ˆJumbotronï¼‰</li><li>å·¦ä¾§å¯¼èˆªä¸å³ä¾§å†…å®¹å…±ç”¨ä¸€ä¸ª .container</li><li>å·¦ä¾§å¯¼èˆªéšç€æ»šåŠ¨å›ºå®šåœ¨é¡µé¢é¡¶éƒ¨</li><li>å½“å‰æ»šåŠ¨ä½ç½®è‡ªåŠ¨åœ¨å¯¼èˆªä¸­é«˜äº®æ˜¾ç¤º</li></ul><h2 id="âœ…-æŠ€æœ¯é€‰å‹"><a href="#âœ…-æŠ€æœ¯é€‰å‹" class="headerlink" title="âœ… æŠ€æœ¯é€‰å‹"></a>âœ… æŠ€æœ¯é€‰å‹</h2><table><thead><tr><th>æŠ€æœ¯</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Bootstrap 3</td><td>UI æ¡†æ¶ï¼Œæä¾› ScrollSpy å’Œ Affix æ’ä»¶</td></tr><tr><td>jQuery</td><td>äº‹ä»¶ç›‘å¬ã€DOM æ“ä½œ</td></tr><tr><td>ScrollSpy</td><td>å®ç°æ»šåŠ¨ç›‘å¬å’Œå¯¼èˆªé«˜äº®åˆ‡æ¢</td></tr><tr><td>Affix</td><td>å®ç°æ»šåŠ¨è§¦å‘å…ƒç´ â€œå¸é¡¶â€å›ºå®š</td></tr></tbody></table><h2 id="ğŸ§±-é¡µé¢ç»“æ„è¯´æ˜"><a href="#ğŸ§±-é¡µé¢ç»“æ„è¯´æ˜" class="headerlink" title="ğŸ§± é¡µé¢ç»“æ„è¯´æ˜"></a>ğŸ§± é¡µé¢ç»“æ„è¯´æ˜</h2><p>é¡µé¢é‡‡ç”¨ Bootstrap æ …æ ¼å¸ƒå±€ï¼Œå·¦ä¾§ä¸ºå¯¼èˆªæ  <code>col-sm-3</code>ï¼Œå³ä¾§ä¸ºå†…å®¹åŒºåŸŸ <code>col-sm-9</code>ï¼Œæ•´ä½“åŒ…å«åœ¨ <code>.container</code> å†…éƒ¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-3"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- å·¦ä¾§å¯¼èˆª --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-9"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- å†…å®¹åŒº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="âœ¨-æ•ˆæœå±•ç¤ºå›¾ï¼ˆé€»è¾‘ç»“æ„ï¼‰"><a href="#âœ¨-æ•ˆæœå±•ç¤ºå›¾ï¼ˆé€»è¾‘ç»“æ„ï¼‰" class="headerlink" title="âœ¨ æ•ˆæœå±•ç¤ºå›¾ï¼ˆé€»è¾‘ç»“æ„ï¼‰"></a>âœ¨ æ•ˆæœå±•ç¤ºå›¾ï¼ˆé€»è¾‘ç»“æ„ï¼‰</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">-----------------------------+</span></span><br><span class="line">| é¡¶éƒ¨å¯¼èˆªï¼ˆfixed-topï¼‰       |</span><br><span class="line">+<span class="comment">-----------------------------+</span></span><br><span class="line">| å·¨å¹•ä¿¡æ¯åŒºï¼ˆjumbotronï¼‰     |</span><br><span class="line">+<span class="comment">-----------------------------+</span></span><br><span class="line">| container                  |</span><br><span class="line">| +<span class="comment">-------+  +-------------+ |</span></span><br><span class="line">| | nav   |  | content     | |</span><br><span class="line">| +<span class="comment">-------+  +-------------+ |</span></span><br><span class="line">+<span class="comment">-----------------------------+</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ”§-æ ¸å¿ƒä»£ç å®ç°"><a href="#ğŸ”§-æ ¸å¿ƒä»£ç å®ç°" class="headerlink" title="ğŸ”§ æ ¸å¿ƒä»£ç å®ç°"></a>ğŸ”§ æ ¸å¿ƒä»£ç å®ç°</h2><h3 id="âœ…-HTML-ç»“æ„ï¼ˆå…³é”®éƒ¨åˆ†ï¼‰"><a href="#âœ…-HTML-ç»“æ„ï¼ˆå…³é”®éƒ¨åˆ†ï¼‰" class="headerlink" title="âœ… HTML ç»“æ„ï¼ˆå…³é”®éƒ¨åˆ†ï¼‰"></a>âœ… HTML ç»“æ„ï¼ˆå…³é”®éƒ¨åˆ†ï¼‰</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å·¦ä¾§å¯¼èˆª --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">id</span>=<span class="string">"sidebarNav"</span> <span class="attr">class</span>=<span class="string">"nav nav-pills nav-stacked"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section1"</span>&gt;</span>éƒ¨åˆ† 1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section2"</span>&gt;</span>éƒ¨åˆ† 2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å†…å®¹åŒºåŸŸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section1"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section2"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="âœ…-JavaScript-åˆå§‹åŒ–ï¼ˆæ— éœ€-data-spyï¼‰"><a href="#âœ…-JavaScript-åˆå§‹åŒ–ï¼ˆæ— éœ€-data-spyï¼‰" class="headerlink" title="âœ… JavaScript åˆå§‹åŒ–ï¼ˆæ— éœ€ data-spyï¼‰"></a>âœ… JavaScript åˆå§‹åŒ–ï¼ˆæ— éœ€ data-spyï¼‰</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> navbarH = $(<span class="string">".navbar"</span>).outerHeight(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> jumbotronH = $(<span class="string">".jumbotron"</span>).outerHeight(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(navbarH, jumbotronH);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"#sidebarNav"</span>).affix(&#123;</span></span><br><span class="line"><span class="undefined">      offset: &#123;</span></span><br><span class="line"><span class="javascript">        top: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> top = navbarH + jumbotronH;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> (<span class="keyword">this</span>.top = top);</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="javascript">        bottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> bottom = $(<span class="string">"footer"</span>).outerHeight(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> (<span class="keyword">this</span>.bottom = bottom);</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="undefined">      &#125;,</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// æ‰‹åŠ¨è§¦å‘ scrollspy ç›‘å¬</span></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"body"</span>).scrollspy(&#123;</span></span><br><span class="line"><span class="javascript">      target: <span class="string">"#sidebarNav"</span>,</span></span><br><span class="line"><span class="undefined">      offset: navbarH + jumbotronH,</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ¯-Affix-å›ºå®šå¯¼èˆªå®ç°è¯´æ˜"><a href="#ğŸ¯-Affix-å›ºå®šå¯¼èˆªå®ç°è¯´æ˜" class="headerlink" title="ğŸ¯ Affix å›ºå®šå¯¼èˆªå®ç°è¯´æ˜"></a>ğŸ¯ Affix å›ºå®šå¯¼èˆªå®ç°è¯´æ˜</h2><p><strong>æ ¸å¿ƒç‚¹ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">"sidebarNav"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-spy</span>=<span class="string">"affix"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-offset-top</span>=<span class="string">"260"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-offset-bottom</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç­‰åŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"#sidebarNav"</span>).affix(&#123;</span><br><span class="line">      offset: &#123;</span><br><span class="line">        top: <span class="number">260</span>,</span><br><span class="line">        bottom: <span class="number">200</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>data-spy=&quot;affix&quot;</code></td><td>å¯ç”¨ Affix æ’ä»¶</td></tr><tr><td><code>data-offset-top</code></td><td>è§¦å‘å›ºå®šçš„é¡µé¢çºµå‘åç§»é‡ï¼ˆä»¥ px ä¸ºå•ä½ï¼‰</td></tr><tr><td><code>data-offset-bottom</code></td><td>åœ¨é¡µé¢åº•éƒ¨å–æ¶ˆå›ºå®šï¼Œé¿å…è¦†ç›–é¡µè„š</td></tr></tbody></table><p><strong><code>.affix</code> æ ·å¼å®šä¹‰ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#sidebarNav</span><span class="selector-class">.affix</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">220px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Demoä»£ç "><a href="#Demoä»£ç " class="headerlink" title="Demoä»£ç "></a>Demoä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Bootstrap3 ScrollSpy + Affix ç¤ºä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Bootstrap 3 æ ·å¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">      position: relative;</span></span><br><span class="line"><span class="undefined">      padding-top: 70px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.jumbotron</span> &#123;</span></span><br><span class="line"><span class="undefined">      margin-bottom: 30px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#sidebarNav</span><span class="selector-class">.affix</span> &#123;</span></span><br><span class="line"><span class="undefined">      top: 70px;</span></span><br><span class="line"><span class="css">      <span class="comment">/* ä¸é¡¶éƒ¨ navbar é«˜åº¦ä¸€è‡´ */</span></span></span><br><span class="line"><span class="undefined">      width: 220px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.scroll-section</span> &#123;</span></span><br><span class="line"><span class="undefined">      height: 500px;</span></span><br><span class="line"><span class="undefined">      padding: 20px;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background</span>: <span class="selector-id">#f5f5f5</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">      margin-bottom: 20px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- é¡¶éƒ¨å¯¼èˆªæ  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-inverse navbar-fixed-top"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>æˆ‘çš„ç½‘ç«™<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav navbar-nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section1"</span>&gt;</span>éƒ¨åˆ†1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section2"</span>&gt;</span>éƒ¨åˆ†2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section3"</span>&gt;</span>éƒ¨åˆ†3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section4"</span>&gt;</span>éƒ¨åˆ†4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å·¨å¹•ä¿¡æ¯ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"jumbotron"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ¬¢è¿è®¿é—®ï¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ª ScrollSpy + Affix ç¤ºä¾‹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ä¸»ä½“åŒºåŸŸ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- å·¦ä¾§å¯¼èˆª --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">id</span>=<span class="string">"sidebarNav"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav nav-pills nav-stacked"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section1"</span>&gt;</span>éƒ¨åˆ†1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section2"</span>&gt;</span>éƒ¨åˆ†2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section3"</span>&gt;</span>éƒ¨åˆ†3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#section4"</span>&gt;</span>éƒ¨åˆ†4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- å†…å®¹åŒº --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-9"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section1"</span> <span class="attr">class</span>=<span class="string">"scroll-section"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h2</span>&gt;</span>éƒ¨åˆ† 1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯éƒ¨åˆ†1çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section2"</span> <span class="attr">class</span>=<span class="string">"scroll-section"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h2</span>&gt;</span>éƒ¨åˆ† 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯éƒ¨åˆ†2çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section3"</span> <span class="attr">class</span>=<span class="string">"scroll-section"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h2</span>&gt;</span>éƒ¨åˆ† 3<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯éƒ¨åˆ†3çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"section4"</span> <span class="attr">class</span>=<span class="string">"scroll-section"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h2</span>&gt;</span>éƒ¨åˆ† 4<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™é‡Œæ˜¯éƒ¨åˆ†4çš„å†…å®¹ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    è¿™æ˜¯åº•éƒ¨å†…å®¹</span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- è„šæœ¬ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> navbarH = $(<span class="string">'.navbar'</span>).outerHeight(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> jumbotronH = $(<span class="string">'.jumbotron'</span>).outerHeight(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(navbarH, jumbotronH);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      $(<span class="string">'#sidebarNav'</span>).affix(&#123;</span></span><br><span class="line"><span class="undefined">        offset: &#123;</span></span><br><span class="line"><span class="javascript">          top: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> top = navbarH + jumbotronH;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> (<span class="keyword">this</span>.top = top);</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="javascript">          bottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> bottom = $(<span class="string">'footer'</span>).outerHeight(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> (<span class="keyword">this</span>.bottom = bottom);</span></span><br><span class="line"><span class="undefined">          &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ‰‹åŠ¨è§¦å‘ scrollspy ç›‘å¬</span></span></span><br><span class="line"><span class="javascript">      $(<span class="string">'body'</span>).scrollspy(&#123; <span class="attr">target</span>: <span class="string">'#sidebarNav'</span>, <span class="attr">offset</span>: navbarH + jumbotronH &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ Bootstrap 3 çš„ &lt;code&gt;ScrollSpy&lt;/code&gt; å’Œ &lt;code&gt;Affix&lt;/code&gt; æ’ä»¶ï¼Œæ„å»ºä¸€ä¸ªå…·æœ‰é¡¶éƒ¨å¯¼èˆªã€å·¨å¹•ä¿¡æ¯åŒºã€å·¦ä¾§æ»šåŠ¨å›ºå®šå¯¼èˆªå’Œå†…å®¹åŒæ­¥é«˜äº®çš„é¡µé¢ï¼Œå¹¶ä½¿ç”¨ JavaScript æ–¹å¼ä»£æ›¿ä¼ ç»Ÿçš„ &lt;code&gt;data-spy&lt;/code&gt; å±æ€§å®Œæˆåˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ğŸ“Œ-èƒŒæ™¯ä¸ç›®æ ‡&quot;&gt;&lt;a href=&quot;#ğŸ“Œ-èƒŒæ™¯ä¸ç›®æ ‡&quot; class=&quot;headerlink&quot; title=&quot;ğŸ“Œ èƒŒæ™¯ä¸ç›®æ ‡&quot;&gt;&lt;/a&gt;ğŸ“Œ èƒŒæ™¯ä¸ç›®æ ‡&lt;/h2&gt;&lt;p&gt;åœ¨ Bootstrap 3 ä¸­ï¼Œ&lt;code&gt;ScrollSpy&lt;/code&gt; æ’ä»¶å¯æ ¹æ®é¡µé¢æ»šåŠ¨è‡ªåŠ¨æ›´æ–°å¯¼èˆªé«˜äº®ï¼Œ&lt;code&gt;Affix&lt;/code&gt; æ’ä»¶å¯å®ç°å…ƒç´ æ»šåŠ¨åˆ°ç‰¹å®šä½ç½®åå›ºå®šåœ¨é¡µé¢ä¸Šã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½ç»„åˆåï¼Œå¯ä»¥å®ç°å¦‚ä¸‹äº¤äº’å¼é¡µé¢ç»“æ„ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ¡†æ¶" scheme="https://xinyufeng.net/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Bootstrap" scheme="https://xinyufeng.net/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Bootstrap/"/>
    
    
      <category term="Bootstrap" scheme="https://xinyufeng.net/tags/Bootstrap/"/>
    
  </entry>
  
  <entry>
    <title>Windows ä¸‹å®ç° PHP å¤šç‰ˆæœ¬åŠ¨æ€åˆ‡æ¢ç®¡ç†ï¼ˆé€‚é… phpStudyï¼‰+ ä¸€é”®åˆ‡æ¢å·¥å…·æºç åˆ†äº«</title>
    <link href="https://xinyufeng.net/2025/04/15/Windows-%E4%B8%8B%E5%AE%9E%E7%8E%B0-PHP-%E5%A4%9A%E7%89%88%E6%9C%AC%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E7%AE%A1%E7%90%86%EF%BC%88%E9%80%82%E9%85%8D-phpStudy%EF%BC%89-%E4%B8%80%E9%94%AE%E5%88%87%E6%8D%A2%E5%B7%A5%E5%85%B7%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    <id>https://xinyufeng.net/2025/04/15/Windows-ä¸‹å®ç°-PHP-å¤šç‰ˆæœ¬åŠ¨æ€åˆ‡æ¢ç®¡ç†ï¼ˆé€‚é…-phpStudyï¼‰-ä¸€é”®åˆ‡æ¢å·¥å…·æºç åˆ†äº«/</id>
    <published>2025-04-15T02:19:43.000Z</published>
    <updated>2025-04-15T02:42:13.132Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ—¥å¸¸ PHP å¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯ Windows ç³»ç»Ÿç”¨æˆ·ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦åœ¨ä¸åŒ PHP ç‰ˆæœ¬ä¹‹é—´æ¥å›åˆ‡æ¢çš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š</p><ul><li>æŸäº›è€é¡¹ç›®éœ€è¦ PHP 5.6ï¼Œè€Œæ–°é¡¹ç›®éœ€è¦ PHP 8.2ï¼›</li><li>ä½¿ç”¨ phpStudy ç®¡ç†å¤šä¸ª PHP ç‰ˆæœ¬ï¼Œåˆ‡æ¢å¤ªéº»çƒ¦ï¼›</li><li>æƒ³åœ¨å‘½ä»¤è¡Œä¸­å¿«é€Ÿ <code>php -v</code> å°±èƒ½çœ‹åˆ°ç›®æ ‡ç‰ˆæœ¬ã€‚</li></ul><p>è™½ç„¶ phpStudy æä¾›äº†åŸºæœ¬çš„è¿è¡Œç¯å¢ƒç®¡ç†ï¼Œä½†å®ƒ<strong>å¹¶ä¸ä¼šè‡ªåŠ¨ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ PHP è·¯å¾„</strong>ï¼Œè¿™ä¼šå¯¼è‡´å‘½ä»¤è¡Œè¿˜æ˜¯é»˜è®¤æŸä¸ªç‰ˆæœ¬ï¼Œå¸¦æ¥ä¸å°‘å›°æ‰°ã€‚</p><p>äºæ˜¯æˆ‘å†™äº†ä¸€ä¸ªç®€å•å°å·¥å…·ï¼Œå¸®å¤§å®¶ <strong>ä¸€é”®åˆ‡æ¢ PHP ç‰ˆæœ¬ï¼ˆç¯å¢ƒå˜é‡çº§åˆ«ï¼‰</strong>ï¼Œæ”¯æŒ <strong>Windows + phpStudy</strong>ï¼Œå¹¶é™„ä¸Šæºç å’Œæ‰“åŒ…æ–¹æ³•ï¼Œæ–¹ä¾¿ä½ è‡ªå·±ç”¨æˆ–åˆ†äº«ç»™å›¢é˜Ÿã€‚</p><a id="more"></a><h1 id="ğŸ“¦-å·¥å…·ç‰¹ç‚¹"><a href="#ğŸ“¦-å·¥å…·ç‰¹ç‚¹" class="headerlink" title="ğŸ“¦ å·¥å…·ç‰¹ç‚¹"></a>ğŸ“¦ å·¥å…·ç‰¹ç‚¹</h1><ul><li>ğŸ’¡ è‡ªåŠ¨è¯†åˆ« phpStudy ä¸­æ‰€æœ‰ PHP ç‰ˆæœ¬ï¼ˆè·¯å¾„ä¸º D:\phpstudy_pro\Extensions\phpï¼‰</li><li>ğŸ“Œ æ”¯æŒä¸€é”®åˆ‡æ¢ç³»ç»Ÿ PATH ä¸­çš„ PHP è·¯å¾„</li><li>ğŸ§© å›¾å½¢åŒ–ç•Œé¢ï¼ˆTkinter å®ç°ï¼‰</li><li>ğŸ§° å¯æ‰“åŒ…æˆ .exe å·¥å…·ï¼Œå… Python è¿è¡Œç¯å¢ƒ</li><li>ğŸ§¼ å®‰å…¨ä¸ç ´ååŸç³»ç»Ÿè®¾ç½®</li></ul><h1 id="ğŸ§ª-æ•ˆæœå±•ç¤º"><a href="#ğŸ§ª-æ•ˆæœå±•ç¤º" class="headerlink" title="ğŸ§ª æ•ˆæœå±•ç¤º"></a>ğŸ§ª æ•ˆæœå±•ç¤º</h1><p>è¿è¡Œæˆªå›¾å¦‚ä¸‹ï¼ˆåˆ‡æ¢åˆ° PHP 8.0.2ï¼‰ï¼š<br><img src="/2025/04/15/Windows-ä¸‹å®ç°-PHP-å¤šç‰ˆæœ¬åŠ¨æ€åˆ‡æ¢ç®¡ç†ï¼ˆé€‚é…-phpStudyï¼‰-ä¸€é”®åˆ‡æ¢å·¥å…·æºç åˆ†äº«/20250415102840.png" alt="phpç‰ˆæœ¬åˆ‡æ¢å™¨æˆªå›¾"></p><h1 id="ğŸ§±-ç¯å¢ƒè¦æ±‚"><a href="#ğŸ§±-ç¯å¢ƒè¦æ±‚" class="headerlink" title="ğŸ§± ç¯å¢ƒè¦æ±‚"></a>ğŸ§± ç¯å¢ƒè¦æ±‚</h1><ul><li>Windows ç³»ç»Ÿ</li><li>å®‰è£…äº† <a href="https://www.xp.cn/" target="_blank" rel="noopener">phpStudy</a></li><li>å®‰è£… Python 3.7+ï¼ˆæ‰“åŒ…æˆ .exe å¯ä¸éœ€è¦ï¼‰</li></ul><h1 id="ğŸ§‘â€ğŸ’»-æºç å±•ç¤ºï¼šphp-switcher-py"><a href="#ğŸ§‘â€ğŸ’»-æºç å±•ç¤ºï¼šphp-switcher-py" class="headerlink" title="ğŸ§‘â€ğŸ’» æºç å±•ç¤ºï¼šphp_switcher.py"></a>ğŸ§‘â€ğŸ’» æºç å±•ç¤ºï¼šphp_switcher.py</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk, messagebox</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ä¸ºä½ phpStudyçš„PHPç›®å½•</span></span><br><span class="line">PHP_BASE_PATH = <span class="string">r'D:\phpstudy_pro\Extensions\php'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_php_versions</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""è·å–phpç›®å½•ä¸‹æ‰€æœ‰ç‰ˆæœ¬æ–‡ä»¶å¤¹"""</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        versions = [f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(PHP_BASE_PATH)</span><br><span class="line">                    <span class="keyword">if</span> os.path.isdir(os.path.join(PHP_BASE_PATH, f))</span><br><span class="line">                    <span class="keyword">and</span> os.path.exists(os.path.join(PHP_BASE_PATH, f, <span class="string">'php.exe'</span>))]</span><br><span class="line">        <span class="keyword">return</span> versions</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">switch_php_version</span><span class="params">(version)</span>:</span></span><br><span class="line">    <span class="string">"""åˆ‡æ¢ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„PHPç‰ˆæœ¬"""</span></span><br><span class="line">    php_path = os.path.join(PHP_BASE_PATH, version)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># è®¾ç½®ç³»ç»ŸPATHï¼ˆå‰ç½®æ’å…¥phpè·¯å¾„ï¼‰</span></span><br><span class="line">        subprocess.run(<span class="string">f'setx PATH "<span class="subst">&#123;php_path&#125;</span>;%PATH%" /M'</span>, shell=<span class="literal">True</span>)</span><br><span class="line">        messagebox.showinfo(<span class="string">"æˆåŠŸ"</span>, <span class="string">f"å·²åˆ‡æ¢åˆ° PHP <span class="subst">&#123;version&#125;</span>ï¼Œè¯·é‡å¯å‘½ä»¤è¡Œçª—å£ã€‚"</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        messagebox.showerror(<span class="string">"é”™è¯¯"</span>, <span class="string">f"åˆ‡æ¢å¤±è´¥: <span class="subst">&#123;e&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_switch</span><span class="params">()</span>:</span></span><br><span class="line">    selected = combo.get()</span><br><span class="line">    <span class="keyword">if</span> selected:</span><br><span class="line">        switch_php_version(selected)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        messagebox.showwarning(<span class="string">"æç¤º"</span>, <span class="string">"è¯·é€‰æ‹©ä¸€ä¸ª PHP ç‰ˆæœ¬ã€‚"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># GUI</span></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">"PHPç‰ˆæœ¬åˆ‡æ¢å™¨ - phpStudyç‰ˆ"</span>)</span><br><span class="line">root.geometry(<span class="string">"400x180"</span>)</span><br><span class="line">root.resizable(<span class="literal">False</span>, <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">tk.Label(root, text=<span class="string">"è¯·é€‰æ‹©è¦åˆ‡æ¢çš„ PHP ç‰ˆæœ¬ï¼š"</span>, font=(<span class="string">"Arial"</span>, <span class="number">12</span>)).pack(pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">versions = get_php_versions()</span><br><span class="line">combo = ttk.Combobox(root, values=versions, font=(<span class="string">"Arial"</span>, <span class="number">12</span>))</span><br><span class="line">combo.pack(pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">btn = tk.Button(root, text=<span class="string">"åˆ‡æ¢ç‰ˆæœ¬"</span>, command=on_switch, font=(<span class="string">"Arial"</span>, <span class="number">12</span>), bg=<span class="string">"#4CAF50"</span>, fg=<span class="string">"white"</span>)</span><br><span class="line">btn.pack(pady=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure><h1 id="ğŸ› -æ‰“åŒ…ä¸º-exe-å·¥å…·ï¼ˆå¯é€‰ï¼‰"><a href="#ğŸ› -æ‰“åŒ…ä¸º-exe-å·¥å…·ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="ğŸ›  æ‰“åŒ…ä¸º .exe å·¥å…·ï¼ˆå¯é€‰ï¼‰"></a>ğŸ›  æ‰“åŒ…ä¸º .exe å·¥å…·ï¼ˆå¯é€‰ï¼‰</h1><p>å¦‚æœä½ ä¸æƒ³æ¯æ¬¡ç”¨ Python è¿è¡Œï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒæ‰“åŒ…ä¸ºç‹¬ç«‹çš„ <code>.exe</code> å·¥å…·ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><h2 id="ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ‰“åŒ…å·¥å…·"><a href="#ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ‰“åŒ…å·¥å…·" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ‰“åŒ…å·¥å…·"></a>ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ‰“åŒ…å·¥å…·</h2><p>æ¨èä¸è¦ç”¨ Microsoft Store çš„ Pythonã€‚è¯·ä» <a href="https://www.python.org" target="_blank" rel="noopener">https://www.python.org/</a> ä¸‹è½½æ ‡å‡†ç‰ˆã€‚<br>å®‰è£…å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…"><a href="#ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…"></a>ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…</h2><p>è¿›å…¥è„šæœ¬ç›®å½•ï¼Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller --onefile --noconsole php_switcher.py</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…å®Œæˆåï¼Œ<code>dist/</code> ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„ <code>php_switcher.exe</code>ï¼ŒåŒå‡»è¿è¡Œå³å¯ä½¿ç”¨ã€‚</p><h1 id="â—-æ³¨æ„äº‹é¡¹"><a href="#â—-æ³¨æ„äº‹é¡¹" class="headerlink" title="â— æ³¨æ„äº‹é¡¹"></a>â— æ³¨æ„äº‹é¡¹</h1><ul><li>è¿è¡Œåä¿®æ”¹çš„æ˜¯ç³»ç»Ÿ PATH ç¯å¢ƒå˜é‡ï¼Œéœ€è¦é‡å¯ CMD/Powershell çª—å£æ‰ç”Ÿæ•ˆ</li><li>å¦‚æœæƒ³è¿˜åŸåˆ°åŸå§‹çŠ¶æ€ï¼Œåªéœ€æ‰‹åŠ¨å°† PATH ä¸­å¤šä½™çš„ PHP è·¯å¾„åˆ é™¤å³å¯</li><li>å¦‚æœ‰å¤šä¸ª PHP è·¯å¾„å­˜åœ¨ PATH ä¸­ï¼Œå»ºè®®ä¿ç•™å½“å‰ä¸€ä¸ªï¼Œé¿å…æ··æ·†</li></ul><h1 id="ğŸ“¥-ç»“è¯­"><a href="#ğŸ“¥-ç»“è¯­" class="headerlink" title="ğŸ“¥ ç»“è¯­"></a>ğŸ“¥ ç»“è¯­</h1><p>æœ¬å·¥å…·æ—¨åœ¨è§£å†³ Windows ä¸‹ PHP å¤šç‰ˆæœ¬é¢‘ç¹åˆ‡æ¢çš„éº»çƒ¦ï¼Œè½»é‡æ— ä¾µå…¥ã€‚å¦‚æœä½ ä¹Ÿç»å¸¸ä½¿ç”¨ phpStudy æˆ–åœ¨ Windows ä¸Šå¼€å‘ PHP é¡¹ç›®ï¼Œå¸Œæœ›å®ƒèƒ½å¸®åˆ°ä½ ã€‚</p><p>æ¬¢è¿ç‚¹èµã€æ”¶è—æˆ–è½¬å‘ç»™æœ‰éœ€è¦çš„å°ä¼™ä¼´ï½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨æ—¥å¸¸ PHP å¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯ Windows ç³»ç»Ÿç”¨æˆ·ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦åœ¨ä¸åŒ PHP ç‰ˆæœ¬ä¹‹é—´æ¥å›åˆ‡æ¢çš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸäº›è€é¡¹ç›®éœ€è¦ PHP 5.6ï¼Œè€Œæ–°é¡¹ç›®éœ€è¦ PHP 8.2ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ phpStudy ç®¡ç†å¤šä¸ª PHP ç‰ˆæœ¬ï¼Œåˆ‡æ¢å¤ªéº»çƒ¦ï¼›&lt;/li&gt;
&lt;li&gt;æƒ³åœ¨å‘½ä»¤è¡Œä¸­å¿«é€Ÿ &lt;code&gt;php -v&lt;/code&gt; å°±èƒ½çœ‹åˆ°ç›®æ ‡ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è™½ç„¶ phpStudy æä¾›äº†åŸºæœ¬çš„è¿è¡Œç¯å¢ƒç®¡ç†ï¼Œä½†å®ƒ&lt;strong&gt;å¹¶ä¸ä¼šè‡ªåŠ¨ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ PHP è·¯å¾„&lt;/strong&gt;ï¼Œè¿™ä¼šå¯¼è‡´å‘½ä»¤è¡Œè¿˜æ˜¯é»˜è®¤æŸä¸ªç‰ˆæœ¬ï¼Œå¸¦æ¥ä¸å°‘å›°æ‰°ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯æˆ‘å†™äº†ä¸€ä¸ªç®€å•å°å·¥å…·ï¼Œå¸®å¤§å®¶ &lt;strong&gt;ä¸€é”®åˆ‡æ¢ PHP ç‰ˆæœ¬ï¼ˆç¯å¢ƒå˜é‡çº§åˆ«ï¼‰&lt;/strong&gt;ï¼Œæ”¯æŒ &lt;strong&gt;Windows + phpStudy&lt;/strong&gt;ï¼Œå¹¶é™„ä¸Šæºç å’Œæ‰“åŒ…æ–¹æ³•ï¼Œæ–¹ä¾¿ä½ è‡ªå·±ç”¨æˆ–åˆ†äº«ç»™å›¢é˜Ÿã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è½¯ä»¶å·¥å…·" scheme="https://xinyufeng.net/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="PHPå·¥å…·" scheme="https://xinyufeng.net/tags/PHP%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot é¡¹ç›®æ‰“åŒ…åŠåœ¨å®å¡”é¢æ¿ä¸Šéƒ¨ç½²çš„ç®€æ˜“æŒ‡å—</title>
    <link href="https://xinyufeng.net/2024/08/29/Spring%20Boot%20%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E5%8F%8A%E5%9C%A8%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E4%B8%8A%E9%83%A8%E7%BD%B2%E7%9A%84%E7%AE%80%E6%98%93%E6%8C%87%E5%8D%97/"/>
    <id>https://xinyufeng.net/2024/08/29/Spring Boot é¡¹ç›®æ‰“åŒ…åŠåœ¨å®å¡”é¢æ¿ä¸Šéƒ¨ç½²çš„ç®€æ˜“æŒ‡å—/</id>
    <published>2024-08-29T02:58:19.000Z</published>
    <updated>2025-06-13T01:49:01.181Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ul><li>ä¸€ä¸ªå¯ä»¥è®¿é—®çš„æœåŠ¡å™¨ï¼Œå·²å®‰è£…å®å¡”é¢æ¿ã€‚</li><li>Javaå¼€å‘ç¯å¢ƒï¼ˆJDKï¼‰å·²å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šã€‚</li><li>Mavenæˆ–Gradleç­‰æ„å»ºå·¥å…·ï¼Œç”¨äºæ‰“åŒ… Spring Boot é¡¹ç›®ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯ Maven</li><li>é›†æˆå¼€å‘ç¯å¢ƒï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯IntelliJ IDEAã€‚</li></ul><h2 id="é¡¹ç›®æ‰“åŒ…"><a href="#é¡¹ç›®æ‰“åŒ…" class="headerlink" title="é¡¹ç›®æ‰“åŒ…"></a>é¡¹ç›®æ‰“åŒ…</h2><ol><li>é…ç½® pom.xmlï¼ˆé’ˆå¯¹ Mavenï¼‰ï¼š</li></ol><p>å› ä¸ºæˆ‘è¿™è¾¹æ˜¯é€šè¿‡é˜¿é‡Œäº‘äº‘åŸç”Ÿåº”ç”¨è„šæ‰‹æ¶ç”Ÿæˆçš„ Spring Boot é¡¹ç›®ï¼Œæ‰€ä»¥åœ¨ <code>pom.xml</code> æ–‡ä»¶ä¸­åŒ…å«äº† Spring Boot æ’ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><a id="more"></a><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å…¶ä»–é…ç½®ä¿¡æ¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-boot.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.yuming.javaservice.JavaServiceApplication<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">skip</span>&gt;</span>false<span class="tag">&lt;/<span class="name">skip</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repackage<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>repackage<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>spring-boot-maven-plugin</code> æ’ä»¶é…ç½®ä¸­çš„ <code>skip</code> å±æ€§è¦è®¾ç½®ä¸º <code>false</code>ã€‚ é»˜è®¤è¢«è®¾ç½®ä¸º <code>true</code>ï¼Œè¿™ä¼šå¯¼è‡´ <code>Spring Boot</code> åœ¨æ‰“åŒ…æ—¶è·³è¿‡æ„å»ºå¯æ‰§è¡Œ <code>JAR</code> æ–‡ä»¶çš„æ“ä½œï¼Œåœ¨ç”Ÿæˆçš„ <code>JAR</code> æ–‡ä»¶ä¸­ç¼ºå°‘å¿…è¦çš„ä¸»æ¸…å•å±æ€§ï¼Œä»è€Œä¼šå¯¼è‡´ â€œno main manifest attributeâ€ çš„é”™è¯¯ã€‚</p><ol start="2"><li>æ‰“åŒ…é¡¹ç›®ï¼š</li></ol><p>æˆ‘è¿™é‡Œç›´æ¥é€šè¿‡ IntelliJ IDEA å³è¾¹æ çš„ Maven æ’ä»¶ï¼Œå…ˆæ‰§è¡Œ <code>clean</code> å‘½ä»¤ï¼Œç„¶åé€‰æ‹© <code>package</code> å‘½ä»¤ï¼Œç„¶åç­‰å¾…æ‰“åŒ…å®Œæˆã€‚</p><p>åœ¨ <code>target</code> ç›®å½•ä¸‹ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ª <code>jar</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦éƒ¨ç½²çš„ Spring Boot é¡¹ç›®ã€‚</p><h2 id="éƒ¨ç½²åˆ°å®å¡”é¢æ¿"><a href="#éƒ¨ç½²åˆ°å®å¡”é¢æ¿" class="headerlink" title="éƒ¨ç½²åˆ°å®å¡”é¢æ¿"></a>éƒ¨ç½²åˆ°å®å¡”é¢æ¿</h2><ol><li>ä¸Šä¼ æ„å»ºäº§ç‰©</li></ol><p>ä½¿ç”¨FTPå®¢æˆ·ç«¯æˆ–å®å¡”é¢æ¿çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½ï¼Œå°†æ„å»ºå¥½çš„JARæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æŒ‡å®šç›®å½•ï¼ˆæ¯”å¦‚<code>/www/wwwroot/your_project</code>ç›®å½•ä¸‹ï¼‰ã€‚</p><ol start="2"><li>æ–°å»ºJavaé¡¹ç›®</li></ol><p>åœ¨â€œç½‘ç«™â€ç®¡ç†ä¸­çš„â€œJavaé¡¹ç›®â€Tabé¡µä¸‹ï¼Œç‚¹å‡»â€œæ·»åŠ Javaé¡¹ç›®â€ï¼Œå¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š</p><ul><li>é¡¹ç›®ç±»å‹ï¼šé€‰æ‹© SpringBoot</li><li>é¡¹ç›®jarè·¯å¾„ï¼šé€‰æ‹©åˆšåˆšä¸Šä¼ çš„JARæ–‡ä»¶</li><li>é¡¹ç›®åç§°ï¼šè‡ªå®šä¹‰å¡«å†™</li><li>é¡¹ç›®ç«¯å£ï¼šé»˜è®¤8080å³å¯ï¼Œå¹¶é€‰ä¸­â€œæ”¾è¡Œç«¯å£â€é€‰é¡¹</li><li>é¡¹ç›®JDKï¼šé€‰æ‹©å·²å®‰è£…çš„JDKç‰ˆæœ¬</li><li>é¡¹ç›®æ‰§è¡Œå‘½ä»¤ï¼šé»˜è®¤å³å¯ï¼Œæ— éœ€ä¿®æ”¹</li><li>å…¶ä»–å‚æ•°ï¼šé»˜è®¤å³å¯ï¼Œæ— éœ€ä¿®æ”¹</li></ul><p>ç„¶åç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ï¼Œç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆï¼Œä¸€èˆ¬åˆ›å»ºæˆåŠŸåï¼Œé¡¹ç›®å°±å¯åŠ¨äº†ã€‚</p><p>å¦‚æœé¡¹ç›®çŠ¶æ€æœªæ˜¾ç¤ºâ€œè¿è¡Œä¸­â€ï¼Œè¯·ç‚¹å‡»â€œè®¾ç½®â€æŒ‰é’®ï¼Œæ£€æŸ¥é¡¹ç›®æ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ã€‚</p><ol start="3"><li>è®¿é—®é¡¹ç›®</li></ol><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœåŠ¡å™¨çš„IPåœ°å€å’Œé¡¹ç›®ç«¯å£å·ï¼Œå³å¯è®¿é—®åˆ°Spring Booté¡¹ç›®ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªå¯ä»¥è®¿é—®çš„æœåŠ¡å™¨ï¼Œå·²å®‰è£…å®å¡”é¢æ¿ã€‚&lt;/li&gt;
&lt;li&gt;Javaå¼€å‘ç¯å¢ƒï¼ˆJDKï¼‰å·²å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;Mavenæˆ–Gradleç­‰æ„å»ºå·¥å…·ï¼Œç”¨äºæ‰“åŒ… Spring Boot é¡¹ç›®ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯ Maven&lt;/li&gt;
&lt;li&gt;é›†æˆå¼€å‘ç¯å¢ƒï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯IntelliJ IDEAã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;é¡¹ç›®æ‰“åŒ…&quot;&gt;&lt;a href=&quot;#é¡¹ç›®æ‰“åŒ…&quot; class=&quot;headerlink&quot; title=&quot;é¡¹ç›®æ‰“åŒ…&quot;&gt;&lt;/a&gt;é¡¹ç›®æ‰“åŒ…&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;é…ç½® pom.xmlï¼ˆé’ˆå¯¹ Mavenï¼‰ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› ä¸ºæˆ‘è¿™è¾¹æ˜¯é€šè¿‡é˜¿é‡Œäº‘äº‘åŸç”Ÿåº”ç”¨è„šæ‰‹æ¶ç”Ÿæˆçš„ Spring Boot é¡¹ç›®ï¼Œæ‰€ä»¥åœ¨ &lt;code&gt;pom.xml&lt;/code&gt; æ–‡ä»¶ä¸­åŒ…å«äº† Spring Boot æ’ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="Javaæ¡†æ¶" scheme="https://xinyufeng.net/categories/Java%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring Boot" scheme="https://xinyufeng.net/categories/Java%E6%A1%86%E6%9E%B6/Spring-Boot/"/>
    
    
      <category term="Java" scheme="https://xinyufeng.net/tags/Java/"/>
    
      <category term="Spring Boot" scheme="https://xinyufeng.net/tags/Spring-Boot/"/>
    
      <category term="å®å¡”" scheme="https://xinyufeng.net/tags/%E5%AE%9D%E5%A1%94/"/>
    
      <category term="éƒ¨ç½²" scheme="https://xinyufeng.net/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>å¿«é€Ÿæ­å»ºå’Œè¿è¡ŒSpring Booté¡¹ç›®çš„ç®€æ˜“æŒ‡å—</title>
    <link href="https://xinyufeng.net/2024/08/28/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%92%8C%E8%BF%90%E8%A1%8CSpring-Boot%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%AE%80%E6%98%93%E6%8C%87%E5%8D%97/"/>
    <id>https://xinyufeng.net/2024/08/28/å¿«é€Ÿæ­å»ºå’Œè¿è¡ŒSpring-Booté¡¹ç›®çš„ç®€æ˜“æŒ‡å—/</id>
    <published>2024-08-28T06:58:59.000Z</published>
    <updated>2024-08-28T08:09:25.064Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºéJavaå¼€å‘çš„åç«¯å¼€å‘äººå‘˜è€Œè¨€ï¼Œå³ä¾¿æœªæ›¾æ¥è§¦è¿‡Javaï¼Œä¹Ÿå¯èƒ½å¬è¯´è¿‡Spring Bootè¿™ä¸€æ¡†æ¶ã€‚è‹¥æƒ³è¦å¿«é€Ÿæ­å»ºå¹¶è¿è¡Œä¸€ä¸ªSpring Booté¡¹ç›®ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul><li><strong>å®‰è£…Java JDKï¼š</strong>ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒä¸­å®‰è£…äº†Java JDK8ï¼ˆJDK1.8æˆ–JDK8ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯JDK8ã€‚</li><li><strong>å®‰è£…Mavenï¼š</strong>Mavenæ˜¯Javaé¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†å·¥å…·ï¼Œç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½ç¯å¢ƒå˜é‡ã€‚</li><li><strong>IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰ï¼š</strong>æ¨èä½¿ç”¨IntelliJ IDEAæˆ–Eclipseï¼Œè¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©ä½ è½»æ¾ç®¡ç†å’Œè¿è¡ŒJavaé¡¹ç›®ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯IntelliJ IDEAã€‚</li></ul><a id="more"></a><h2 id="ä½¿ç”¨Spring-Initializrç”Ÿæˆé¡¹ç›®"><a href="#ä½¿ç”¨Spring-Initializrç”Ÿæˆé¡¹ç›®" class="headerlink" title="ä½¿ç”¨Spring Initializrç”Ÿæˆé¡¹ç›®"></a>ä½¿ç”¨Spring Initializrç”Ÿæˆé¡¹ç›®</h2><p>Spring Initializræ˜¯ä¸€ä¸ªåœ¨çº¿å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿç”ŸæˆSpring Booté¡¹ç›®çš„åˆå§‹ç»“æ„ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Spring Initializrç”Ÿæˆé¡¹ç›®çš„æ­¥éª¤ï¼š</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘äº‘åŸç”Ÿåº”ç”¨è„šæ‰‹æ¶ï¼ˆCloud Native App Initializerï¼‰ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®<a href="https://start.aliyun.com" target="_blank" rel="noopener">https://start.aliyun.com</a>ï¼Œå¡«å†™é…ç½®é¡¹ç›®é…ç½®å‚æ•°</p><p><img src="/2024/08/28/å¿«é€Ÿæ­å»ºå’Œè¿è¡ŒSpring-Booté¡¹ç›®çš„ç®€æ˜“æŒ‡å—/1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>é…ç½®é¡¹ç›®å‚æ•°ï¼š</strong></p><ul><li>é¡¹ç›®æ„å»ºæ–¹å¼ï¼ˆProjectï¼‰: é€‰æ‹©â€œMaven Projectâ€</li><li>å¼€å‘è¯­è¨€ï¼ˆLanguageï¼‰: é€‰æ‹©â€œJavaâ€</li><li>Spring Bootç‰ˆæœ¬ï¼ˆSpring Bootï¼‰: é»˜è®¤é€‰æ‹©æœ€æ–°ç¨³å®šç‰ˆ</li><li>é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ˆProject Metadataï¼‰:<ul><li>Group: è¾“å…¥é¡¹ç›®çš„ç»„ç»‡åï¼Œä¾‹å¦‚com.example</li><li>Artifact: è¾“å…¥é¡¹ç›®çš„åç§°ï¼Œä¾‹å¦‚demoï¼ˆé¡¹ç›®çš„å”¯ä¸€æ ‡è¯†ï¼‰</li><li>é¡¹ç›®åç§°ï¼ˆNameï¼‰ï¼šè¾“å…¥é¡¹ç›®çš„åç§°ï¼Œä¾‹å¦‚demo</li><li>é¡¹ç›®æè¿°ï¼ˆDescriptionï¼‰ï¼šè¾“å…¥é¡¹ç›®çš„æè¿°ï¼Œä¾‹å¦‚ä¸€ä¸ªç®€å•çš„Spring Booté¡¹ç›®</li><li>åŸºç¡€åŒ…ï¼ˆPackage nameï¼‰ï¼šè¾“å…¥é¡¹ç›®çš„åŸºç¡€åŒ…ï¼Œä¾‹å¦‚com.example.demo</li><li>æ‰“åŒ…æ–¹å¼ï¼ˆPackagingï¼‰: é€‰æ‹©â€œJarâ€</li><li>Javaç‰ˆæœ¬: é€‰æ‹©ä½ å®‰è£…çš„Javaç‰ˆæœ¬ï¼ˆå¦‚8ï¼‰ã€‚</li></ul></li><li>åº”ç”¨æ¶æ„ï¼š é€‰æ‹©â€œå•æ¨¡å—â€</li><li>ç»„ä»¶ä¸ç¤ºä¾‹ï¼ˆDependenciesï¼‰: é€‰æ‹©ä½ éœ€è¦çš„ä¾èµ–ã€‚é€šå¸¸ï¼Œé€‰æ‹©â€œSpring Webâ€å°±è¶³å¤Ÿäº†ï¼Œå®ƒä¼šæä¾›åŸºæœ¬çš„Webå¼€å‘æ”¯æŒã€‚</li></ul><p>ç”Ÿæˆå¹¶ä¸‹è½½é¡¹ç›®ï¼š ç‚¹å‡»â€œè·å–ä»£ç ï¼ˆGenerateï¼‰â€æŒ‰é’®ï¼Œä¸‹è½½ç”Ÿæˆçš„é¡¹ç›®å‹ç¼©åŒ…ã€‚</p><h2 id="å¯¼å…¥é¡¹ç›®åˆ°IDE"><a href="#å¯¼å…¥é¡¹ç›®åˆ°IDE" class="headerlink" title="å¯¼å…¥é¡¹ç›®åˆ°IDE"></a>å¯¼å…¥é¡¹ç›®åˆ°IDE</h2><p>è§£å‹ç¼©é¡¹ç›®ï¼š å°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ°æœ¬åœ°ç›®å½•ã€‚</p><p>å¯¼å…¥åˆ°IDEï¼š</p><ul><li>IntelliJ IDEA:</li></ul><p>æ‰“å¼€IDEï¼Œé€‰æ‹©â€œOpenâ€å¹¶é€‰æ‹©è§£å‹åçš„é¡¹ç›®ç›®å½•ã€‚<br>IDEAä¼šè‡ªåŠ¨è¯†åˆ«Mavené¡¹ç›®å¹¶è¿›è¡Œåˆå§‹åŒ–ã€‚</p><ul><li>Eclipse:</li></ul><p>æ‰“å¼€IDEï¼Œé€‰æ‹©â€œFileâ€ -&gt; â€œImportâ€ã€‚<br>é€‰æ‹©â€œMavenâ€ -&gt; â€œExisting Maven Projectsâ€ï¼Œç„¶åé€‰æ‹©è§£å‹åçš„é¡¹ç›®ç›®å½•ã€‚</p><h2 id="è¿è¡ŒSpring-Bootåº”ç”¨"><a href="#è¿è¡ŒSpring-Bootåº”ç”¨" class="headerlink" title="è¿è¡ŒSpring Bootåº”ç”¨"></a>è¿è¡ŒSpring Bootåº”ç”¨</h2><p>æ‰¾åˆ°ä¸»ç¨‹åºç±»ï¼š åœ¨IDEä¸­ï¼Œæ‰¾åˆ°ä¸»ç¨‹åºç±»ï¼ˆé€šå¸¸æ˜¯<code>Application.java</code>ï¼‰ï¼Œè¿™ä¸ªç±»ä½äº<code>src/main/java/com/example/demo</code>ç›®å½•ä¸‹ï¼ˆå…·ä½“è·¯å¾„å–å†³äºä½ åœ¨Spring Initializrä¸­è®¾ç½®çš„åŒ…åï¼‰ã€‚</p><p>è¿è¡Œä¸»ç¨‹åºï¼ˆè¿™é‡Œçš„ä¸»ç¨‹åºæ–‡ä»¶æ˜¯<code>DemoApplication.java</code>ï¼‰ï¼š</p><ul><li>IntelliJ IDEA:</li></ul><p>å³é”®ç‚¹å‡»<code>DemoApplication.java</code>ï¼Œé€‰æ‹©â€œRun â€˜DemoApplicationâ€™â€ã€‚</p><ul><li>Eclipse:</li></ul><p>å³é”®ç‚¹å‡»<code>DemoApplication.java</code>ï¼Œé€‰æ‹©â€œRun Asâ€ -&gt; â€œJava DemoApplicationâ€ã€‚</p><p>è®¿é—®åº”ç”¨ï¼š å¯åŠ¨æˆåŠŸåï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶è®¿é—®<a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a>ï¼Œä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°Spring Bootçš„æ¬¢è¿é¡µé¢æˆ–è€…ä½ è‡ªå®šä¹‰çš„å†…å®¹ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å³ä½¿ä½ æ²¡æœ‰Javaå¼€å‘ç»éªŒï¼Œä½¿ç”¨Spring Bootæ­å»ºå’Œè¿è¡Œé¡¹ç›®ä¹Ÿå˜å¾—éå¸¸ç®€å•ã€‚é€šè¿‡Spring Initializrç”Ÿæˆé¡¹ç›®æ¨¡æ¿ï¼Œç„¶åé€šè¿‡IDEå¯¼å…¥å’Œè¿è¡Œï¼Œä½ å¯ä»¥å¿«é€Ÿä¸Šæ‰‹å¹¶ä½“éªŒSpring Bootçš„å¼ºå¤§åŠŸèƒ½ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹äºéJavaå¼€å‘çš„åç«¯å¼€å‘äººå‘˜è€Œè¨€ï¼Œå³ä¾¿æœªæ›¾æ¥è§¦è¿‡Javaï¼Œä¹Ÿå¯èƒ½å¬è¯´è¿‡Spring Bootè¿™ä¸€æ¡†æ¶ã€‚è‹¥æƒ³è¦å¿«é€Ÿæ­å»ºå¹¶è¿è¡Œä¸€ä¸ªSpring Booté¡¹ç›®ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;h2 id=&quot;ç¯å¢ƒå‡†å¤‡&quot;&gt;&lt;a href=&quot;#ç¯å¢ƒå‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;ç¯å¢ƒå‡†å¤‡&quot;&gt;&lt;/a&gt;ç¯å¢ƒå‡†å¤‡&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…Java JDKï¼š&lt;/strong&gt;ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒä¸­å®‰è£…äº†Java JDK8ï¼ˆJDK1.8æˆ–JDK8ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯JDK8ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…Mavenï¼š&lt;/strong&gt;Mavenæ˜¯Javaé¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†å·¥å…·ï¼Œç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½ç¯å¢ƒå˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰ï¼š&lt;/strong&gt;æ¨èä½¿ç”¨IntelliJ IDEAæˆ–Eclipseï¼Œè¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©ä½ è½»æ¾ç®¡ç†å’Œè¿è¡ŒJavaé¡¹ç›®ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯IntelliJ IDEAã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Javaæ¡†æ¶" scheme="https://xinyufeng.net/categories/Java%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Spring Boot" scheme="https://xinyufeng.net/categories/Java%E6%A1%86%E6%9E%B6/Spring-Boot/"/>
    
    
      <category term="Java" scheme="https://xinyufeng.net/tags/Java/"/>
    
      <category term="Spring Boot" scheme="https://xinyufeng.net/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ Windows ä¸Šç”Ÿæˆæœ¬åœ° SSL è¯ä¹¦å¹¶ä½¿ç”¨ HTTPS è®¿é—®æœ¬åœ° Nginx æœåŠ¡å™¨</title>
    <link href="https://xinyufeng.net/2024/08/16/%E5%9C%A8-Windows-%E4%B8%8A%E7%94%9F%E6%88%90%E6%9C%AC%E5%9C%B0-SSL-%E8%AF%81%E4%B9%A6%E5%B9%B6%E4%BD%BF%E7%94%A8-HTTPS-%E8%AE%BF%E9%97%AE%E6%9C%AC%E5%9C%B0-Nginx-%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://xinyufeng.net/2024/08/16/åœ¨-Windows-ä¸Šç”Ÿæˆæœ¬åœ°-SSL-è¯ä¹¦å¹¶ä½¿ç”¨-HTTPS-è®¿é—®æœ¬åœ°-Nginx-æœåŠ¡å™¨/</id>
    <published>2024-08-16T08:19:42.000Z</published>
    <updated>2024-08-16T08:59:50.173Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨å¼€å‘å’Œæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ HTTPS è¿›è¡Œæœ¬åœ°å¼€å‘å¯ä»¥æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒï¼Œç¡®ä¿åº”ç”¨ç¨‹åºåœ¨å®é™…éƒ¨ç½²æ—¶çš„å®‰å…¨æ€§ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ Windows ç¯å¢ƒä¸­ç”Ÿæˆæœ¬åœ° SSL è¯ä¹¦ï¼Œå¹¶å°†å…¶é…ç½®åˆ° Nginx æœåŠ¡å™¨ä¸Šï¼Œä»¥ä¾¿é€šè¿‡ HTTPS è®¿é—®æœ¬åœ°æœåŠ¡å™¨ã€‚</p><h2 id="å®‰è£…å¿…è¦å·¥å…·"><a href="#å®‰è£…å¿…è¦å·¥å…·" class="headerlink" title="å®‰è£…å¿…è¦å·¥å…·"></a>å®‰è£…å¿…è¦å·¥å…·</h2><h3 id="å®‰è£…-OpenSSL"><a href="#å®‰è£…-OpenSSL" class="headerlink" title="å®‰è£… OpenSSL"></a>å®‰è£… OpenSSL</h3><p>OpenSSL æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆå’Œç®¡ç† SSL/TLS è¯ä¹¦çš„å·¥å…·ã€‚ä¸‹è½½å¹¶å®‰è£… OpenSSLï¼š</p><ol><li>è®¿é—® <a href="https://slproweb.com/products/Win32OpenSSL.html" target="_blank" rel="noopener">OpenSSL çš„ Windows å®‰è£…ç¨‹åº</a>ã€‚</li><li>ä¸‹è½½é€‚åˆä½  Windows ç‰ˆæœ¬çš„å®‰è£…ç¨‹åºï¼ˆä¾‹å¦‚ Win64 OpenSSL v3.3.1ï¼‰ã€‚<br>æŒ‰ç…§å®‰è£…ç¨‹åºçš„æç¤ºå®Œæˆå®‰è£…ã€‚</li><li>å®‰è£…åé…ç½®æŠŠ<code>D:\Program Files\OpenSSL-Win64\bin</code>é…ç½®åˆ°ç¯å¢ƒå˜é‡ã€‚</li></ol><a id="more"></a><h3 id="å®‰è£…-Nginx"><a href="#å®‰è£…-Nginx" class="headerlink" title="å®‰è£… Nginx"></a>å®‰è£… Nginx</h3><p>æˆ‘ä½¿ç”¨çš„æ˜¯PHPStudyé›†æˆç¯å¢ƒï¼Œè‡ªå¸¦NginxæœåŠ¡å™¨ã€‚</p><h2 id="ç”Ÿæˆæœ¬åœ°-SSL-è¯ä¹¦"><a href="#ç”Ÿæˆæœ¬åœ°-SSL-è¯ä¹¦" class="headerlink" title="ç”Ÿæˆæœ¬åœ° SSL è¯ä¹¦"></a>ç”Ÿæˆæœ¬åœ° SSL è¯ä¹¦</h2><h3 id="åˆ›å»ºè¯ä¹¦å’Œç§é’¥"><a href="#åˆ›å»ºè¯ä¹¦å’Œç§é’¥" class="headerlink" title="åˆ›å»ºè¯ä¹¦å’Œç§é’¥"></a>åˆ›å»ºè¯ä¹¦å’Œç§é’¥</h3><ol><li>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰æˆ– PowerShellã€‚</li><li>è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆä¸€ä¸ªæ–°çš„ç§é’¥å’Œè‡ªç­¾åè¯ä¹¦ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout localhost.key -out localhost.crt</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>-x509</code>ï¼šæŒ‡å®šç”Ÿæˆè‡ªç­¾åè¯ä¹¦ã€‚</li><li><code>-nodes</code>ï¼šä¸å¯¹ç§é’¥åŠ å¯†ã€‚</li><li><code>-days 365</code>ï¼šè¯ä¹¦æœ‰æ•ˆæœŸä¸º 365 å¤©ã€‚</li><li><code>-newkey rsa:2048</code>ï¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ RSA å¯†é’¥ã€‚</li><li><code>-keyout</code>ï¼šæŒ‡å®šç§é’¥è¾“å‡ºè·¯å¾„ã€‚</li><li><code>-out</code>ï¼šæŒ‡å®šè¯ä¹¦è¾“å‡ºè·¯å¾„ã€‚</li></ul><ol start="3"><li>åœ¨æç¤ºç¬¦ä¸‹ï¼Œè¾“å…¥è¯ä¹¦ä¿¡æ¯<ul><li>å›½å®¶ï¼šå¡«å†™<code>CN</code></li><li>å·/çœï¼šå¡«å†™<code>ShandDong</code>ï¼ˆæ ¹æ®è‡ªèº«æƒ…å†µå¡«å†™å³å¯ï¼‰</li><li>å¸‚ï¼šå¡«å†™<code>QingDao</code>ï¼ˆæ ¹æ®è‡ªèº«æƒ…å†µå¡«å†™å³å¯ï¼‰</li><li>ç»„ç»‡ï¼šå¡«å†™å…¬å¸åç§°è‹±æ–‡å³å¯ï¼ˆæ ¹æ®è‡ªèº«æƒ…å†µå¡«å†™å³å¯ï¼‰</li><li>ç»„ç»‡å•ä½ï¼šå¡«å†™éƒ¨é—¨åç§°è‹±æ–‡å³å¯ï¼ˆæ ¹æ®è‡ªèº«æƒ…å†µå¡«å†™å³å¯ï¼‰</li><li>å…¬å…±åç§°ï¼šå¯¹äºæœ¬åœ°å¼€å‘ï¼ŒCommon Name åº”è®¾ç½®ä¸º <code>localhost</code></li><li>ç”µå­é‚®ä»¶: ï¼ˆæ ¹æ®è‡ªèº«æƒ…å†µå¡«å†™å³å¯ï¼‰</li></ul></li></ol><h2 id="é…ç½®-Nginx-ä½¿ç”¨-SSL"><a href="#é…ç½®-Nginx-ä½¿ç”¨-SSL" class="headerlink" title="é…ç½® Nginx ä½¿ç”¨ SSL"></a>é…ç½® Nginx ä½¿ç”¨ SSL</h2><h3 id="ä¿®æ”¹-Nginx-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-Nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ Nginx é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ Nginx é…ç½®æ–‡ä»¶</h3><p>æ‰“å¼€ Nginx é…ç½®æ–‡ä»¶ï¼ˆnginx.confï¼‰ã€‚è¯¥æ–‡ä»¶é€šå¸¸ä½äº Nginx å®‰è£…ç›®å½•çš„ conf å­ç›®å½•ä¸‹ã€‚æˆ–è€…vhostç›®å½•ä¸‹çš„å­åŸŸåé…ç½®æ–‡ä»¶ã€‚</p><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ä»¥å¯ç”¨ HTTPSï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>        <span class="number">443</span> ssl;</span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line">        <span class="attribute">root</span>   <span class="string">"D:/phpstudy_pro/WWW"</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">ssl_certificate</span> D:/phpstudy_pro/Extensions/Nginx1.<span class="number">15</span>.<span class="number">11</span>/conf/ssl/localhost.crt;</span><br><span class="line"><span class="attribute">ssl_certificate_key</span> D:/phpstudy_pro/Extensions/Nginx1.<span class="number">15</span>.<span class="number">11</span>/conf/ssl/localhost.key;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">index</span> index.php index.html;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ \.php(.*)$</span> &#123;</span><br><span class="line">            <span class="attribute">fastcgi_pass</span>   <span class="number">127.0.0.1:9009</span>;</span><br><span class="line">            <span class="attribute">fastcgi_index</span>  index.php;</span><br><span class="line">            <span class="attribute">fastcgi_split_path_info</span> <span class="regexp"> ^((?U).+\.php)(/?.+)$</span>;</span><br><span class="line">            <span class="attribute">fastcgi_param</span>  SCRIPT_FILENAME  <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">            <span class="attribute">fastcgi_param</span>  PATH_INFO  <span class="variable">$fastcgi_path_info</span>;</span><br><span class="line">            <span class="attribute">fastcgi_param</span>  PATH_TRANSLATED  <span class="variable">$document_root</span><span class="variable">$fastcgi_path_info</span>;</span><br><span class="line">            <span class="attribute">include</span>        fastcgi_params;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®äº† HTTPS ç›‘å¬ï¼ˆç«¯å£ 443ï¼‰ï¼Œå¹¶æŒ‡å®šäº†è¯ä¹¦å’Œç§é’¥çš„ä½ç½®ã€‚é…ç½®æ–‡ä»¶å†…å®¹æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µé…ç½®ã€‚</p><h3 id="é‡æ–°å¯åŠ¨-Nginx"><a href="#é‡æ–°å¯åŠ¨-Nginx" class="headerlink" title="é‡æ–°å¯åŠ¨ Nginx"></a>é‡æ–°å¯åŠ¨ Nginx</h3><p>æ ¹æ®å®é™…æƒ…å†µé‡å¯NginxæœåŠ¡å™¨ã€‚</p><h2 id="æµ‹è¯•-HTTPS-é…ç½®"><a href="#æµ‹è¯•-HTTPS-é…ç½®" class="headerlink" title="æµ‹è¯• HTTPS é…ç½®"></a>æµ‹è¯• HTTPS é…ç½®</h2><ol><li>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <code>https://localhost</code>ã€‚</li><li>æµè§ˆå™¨å¯èƒ½ä¼šæç¤ºä¸å®‰å…¨çš„è¯ä¹¦ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è‡ªç­¾åè¯ä¹¦ï¼Œæµè§ˆå™¨æ— æ³•éªŒè¯å…¶çœŸå®æ€§ã€‚ä½ å¯ä»¥é€‰æ‹©å¿½ç•¥è­¦å‘Šå¹¶ç»§ç»­è®¿é—®ã€‚</li><li>å¦‚æœä¸€åˆ‡é…ç½®æ­£ç¡®ï¼Œä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ° Nginx çš„æ¬¢è¿é¡µé¢æˆ–ä½ é…ç½®çš„ç½‘é¡µå†…å®¹ã€‚</li></ol><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><h3 id="æµè§ˆå™¨è­¦å‘Š"><a href="#æµè§ˆå™¨è­¦å‘Š" class="headerlink" title="æµè§ˆå™¨è­¦å‘Š"></a>æµè§ˆå™¨è­¦å‘Š</h3><p>è‡ªç­¾åè¯ä¹¦ä¸ä¼šè¢«æµè§ˆå™¨ä¿¡ä»»ï¼Œä½ å¯ä»¥å°†è¯ä¹¦æ·»åŠ åˆ°å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„æ¥é¿å…è­¦å‘Šã€‚æ“ä½œæ–¹æ³•å› æµè§ˆå™¨ä¸åŒè€Œæœ‰æ‰€ä¸åŒã€‚</p><h3 id="è¯ä¹¦è¿‡æœŸ"><a href="#è¯ä¹¦è¿‡æœŸ" class="headerlink" title="è¯ä¹¦è¿‡æœŸ"></a>è¯ä¹¦è¿‡æœŸ</h3><p>è‡ªç­¾åè¯ä¹¦æœ‰ä¸€ä¸ªæœ‰æ•ˆæœŸï¼ˆæœ¬æ–‡ä¸­è®¾ç½®ä¸º 365 å¤©ï¼‰ã€‚è¯ä¹¦è¿‡æœŸåï¼Œä½ éœ€è¦é‡æ–°ç”Ÿæˆè¯ä¹¦å¹¶æ›´æ–° Nginx é…ç½®ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å·²æˆåŠŸåœ¨ Windows ç¯å¢ƒä¸­ç”Ÿæˆæœ¬åœ° SSL è¯ä¹¦ï¼Œå¹¶é…ç½® Nginx ä»¥æ”¯æŒ HTTPSã€‚ä½¿ç”¨ HTTPS è¿›è¡Œæœ¬åœ°å¼€å‘å¯ä»¥ç¡®ä¿ä½ çš„åº”ç”¨åœ¨å®é™…éƒ¨ç½²æ—¶ç¬¦åˆå®‰å…¨è¦æ±‚ï¼Œå¹¶æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¼•è¨€&quot;&gt;&lt;a href=&quot;#å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;å¼•è¨€&quot;&gt;&lt;/a&gt;å¼•è¨€&lt;/h2&gt;&lt;p&gt;åœ¨å¼€å‘å’Œæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ HTTPS è¿›è¡Œæœ¬åœ°å¼€å‘å¯ä»¥æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒï¼Œç¡®ä¿åº”ç”¨ç¨‹åºåœ¨å®é™…éƒ¨ç½²æ—¶çš„å®‰å…¨æ€§ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ Windows ç¯å¢ƒä¸­ç”Ÿæˆæœ¬åœ° SSL è¯ä¹¦ï¼Œå¹¶å°†å…¶é…ç½®åˆ° Nginx æœåŠ¡å™¨ä¸Šï¼Œä»¥ä¾¿é€šè¿‡ HTTPS è®¿é—®æœ¬åœ°æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…å¿…è¦å·¥å…·&quot;&gt;&lt;a href=&quot;#å®‰è£…å¿…è¦å·¥å…·&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…å¿…è¦å·¥å…·&quot;&gt;&lt;/a&gt;å®‰è£…å¿…è¦å·¥å…·&lt;/h2&gt;&lt;h3 id=&quot;å®‰è£…-OpenSSL&quot;&gt;&lt;a href=&quot;#å®‰è£…-OpenSSL&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£… OpenSSL&quot;&gt;&lt;/a&gt;å®‰è£… OpenSSL&lt;/h3&gt;&lt;p&gt;OpenSSL æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆå’Œç®¡ç† SSL/TLS è¯ä¹¦çš„å·¥å…·ã€‚ä¸‹è½½å¹¶å®‰è£… OpenSSLï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¿é—® &lt;a href=&quot;https://slproweb.com/products/Win32OpenSSL.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;OpenSSL çš„ Windows å®‰è£…ç¨‹åº&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‹è½½é€‚åˆä½  Windows ç‰ˆæœ¬çš„å®‰è£…ç¨‹åºï¼ˆä¾‹å¦‚ Win64 OpenSSL v3.3.1ï¼‰ã€‚&lt;br&gt;æŒ‰ç…§å®‰è£…ç¨‹åºçš„æç¤ºå®Œæˆå®‰è£…ã€‚&lt;/li&gt;
&lt;li&gt;å®‰è£…åé…ç½®æŠŠ&lt;code&gt;D:&#92;Program Files&#92;OpenSSL-Win64&#92;bin&lt;/code&gt;é…ç½®åˆ°ç¯å¢ƒå˜é‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="https://xinyufeng.net/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="å¼€å‘ç¯å¢ƒ" scheme="https://xinyufeng.net/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
  <entry>
    <title>é€šè¿‡PHPè¯­è¨€è§£è¯»ä»€ä¹ˆæ˜¯å®¹å™¨ã€ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬</title>
    <link href="https://xinyufeng.net/2024/07/12/%E9%80%9A%E8%BF%87PHP%E8%AF%AD%E8%A8%80%E8%A7%A3%E8%AF%BB%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%B9%E5%99%A8%E3%80%81%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E5%92%8C%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC/"/>
    <id>https://xinyufeng.net/2024/07/12/é€šè¿‡PHPè¯­è¨€è§£è¯»ä»€ä¹ˆæ˜¯å®¹å™¨ã€ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬/</id>
    <published>2024-07-12T05:41:49.000Z</published>
    <updated>2024-07-12T08:11:52.083Z</updated>
    
    <content type="html"><![CDATA[<p>åè¯è§£é‡Šï¼š</p><ul><li>IoCï¼šInversion of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰</li><li>DIï¼šDependency Injectionï¼ˆä¾èµ–æ³¨å…¥ï¼‰</li><li>å®¹å™¨ï¼šContainer</li></ul><p>Laravelæ¡†æ¶å¯èƒ½æ˜¯PHPå¼€å‘è€…æœ€å¸¸ç”¨çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒçš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ª<strong>IoCå®¹å™¨</strong>ï¼Œæ ¹æ®æ–‡æ¡£ç§°å…¶ä¸º<strong>æœåŠ¡å®¹å™¨</strong>ï¼Œé¡¾åæ€ä¹‰è¯¥å®¹å™¨æä¾›äº†æ•´ä¸ªæ¡†æ¶ä¸­éœ€è¦çš„ä¸€ç³»åˆ—æœåŠ¡ã€‚ä½œä¸ºåˆå­¦è€…å¾ˆå¤šäººä¼šåœ¨è¿™ä¸€ä¸ªæ¦‚å¿µä¸ŠçŠ¯éš¾ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»ä¸€äº›åŸºç¡€çš„å†…å®¹å¼€å§‹è®²è§£ï¼Œé€šè¿‡ç†è§£é¢å‘å¯¹è±¡å¼€å‘ä¸­ä¾èµ–çš„ç”Ÿäº§å’Œè§£å†³æ–¹æ³•ï¼Œæ¥é€æ­¥æ­å¼€â€œä¾èµ–æ³¨å…¥â€çš„é¢çº±ï¼Œé€æ¸ç†è§£è¿™ä¸€ç¥å¥‡çš„è®¾è®¡ç†å¿µã€‚</p><a id="more"></a><h2 id="ä¾èµ–çš„äº§ç”Ÿâ€”â€”è¶…äººå’Œè¶…èƒ½åŠ›"><a href="#ä¾èµ–çš„äº§ç”Ÿâ€”â€”è¶…äººå’Œè¶…èƒ½åŠ›" class="headerlink" title="ä¾èµ–çš„äº§ç”Ÿâ€”â€”è¶…äººå’Œè¶…èƒ½åŠ›"></a>ä¾èµ–çš„äº§ç”Ÿâ€”â€”è¶…äººå’Œè¶…èƒ½åŠ›</h2><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œæœ‰ä»¥ä¸‹å‡ æ ·ä¸œè¥¿æ— æ—¶æ— åˆ»çš„æ¥è§¦ï¼Œ<strong>æ¥å£</strong>ã€<strong>ç±»</strong>è¿˜æœ‰<strong>å¯¹è±¡</strong>ã€‚è¿™å…¶ä¸­ï¼Œ</p><ul><li>æ¥å£æ˜¯ç±»çš„åŸå‹ï¼Œä¸€ä¸ªç±»å¿…é¡»è¦éµå®ˆå…¶å®ç°çš„æ¥å£ï¼›</li><li>å¯¹è±¡åˆ™æ˜¯ä¸€ä¸ªç±»å®ä¾‹åŒ–åçš„äº§ç‰©ï¼Œæˆ‘ä»¬ç§°ä¸ºä¸€ä¸ªå®ä¾‹ã€‚</li></ul><p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬ç”¨ä»£ç æ¥è¾…åŠ©è§£é‡Šã€‚</p><blockquote><p>â€œæ€ªå…½æ¨ªè¡Œçš„ä¸–ç•Œï¼Œæ€»å½’éœ€è¦ç‚¹è¶…çº§äººç‰©æ¥æ‘†å¹³ã€‚â€</p></blockquote><p>æˆ‘ä»¬æŠŠä¸€ä¸ª<strong>è¶…äºº</strong>ä½œä¸ºä¸€ä¸ªç±»ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…äººç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Superman</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥æƒ³è±¡ï¼Œä¸€ä¸ªè¶…äººè¯ç”Ÿçš„æ—¶å€™è‚¯å®šæ‹¥æœ‰è‡³å°‘ä¸€ä¸ªè¶…èƒ½åŠ›ï¼Œè¿™ä¸ªè¶…èƒ½åŠ›å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä¸ºè¿™ä¸ªå¯¹è±¡å®šä¹‰ä¸€ä¸ªæè¿°ä»–çš„ç±»å§ã€‚ä¸€ä¸ªè¶…èƒ½åŠ›è‚¯å®šæœ‰å¤šç§å±æ€§ã€ï¼ˆæ“ä½œï¼‰æ–¹æ³•ï¼Œè¿™ä¸ªå°½æƒ…æƒ³è±¡ï¼Œä½†æ˜¯ç›®å‰æˆ‘ä»¬å…ˆå¤§è‡´å®šä¹‰ä¸€ä¸ªåªè¦å±æ€§çš„â€œè¶…èƒ½åŠ›â€ï¼Œè‡³äºèƒ½å¹²å•¥ï¼Œæˆ‘ä»¬ä»¥åå†ä¸°å¯Œï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…èƒ½åŠ›ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Power</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èƒ½åŠ›å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> $ability;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èƒ½åŠ›èŒƒå›´æˆ–è·ç¦»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> $range;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($ability, $range)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;ability = $ability;</span><br><span class="line"><span class="keyword">$this</span>-&gt;range = $range;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™æˆ‘ä»¬å›è¿‡å¤´ï¼Œä¿®æ”¹ä¸€ä¸‹ä¹‹å‰çš„<strong>è¶…äºº</strong>ç±»ï¼Œè®©ä¸€ä¸ª<strong>è¶…äºº</strong>åˆ›å»ºçš„æ—¶å€™è¢«èµ‹äºˆä¸€ä¸ªè¶…èƒ½åŠ›ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…äººç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Superman</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $power;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;power = <span class="keyword">new</span> Power(<span class="number">999</span>, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„è¯ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªâ€œè¶…äººâ€å®ä¾‹çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªâ€œè¶…èƒ½åŠ›â€çš„å®ä¾‹ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ç‚¹ï¼Œâ€œè¶…äººâ€å’Œâ€œè¶…èƒ½åŠ›â€ä¹‹é—´ä¸å¯é¿å…çš„äº§ç”Ÿäº†ä¸€ä¸ªä¾èµ–ã€‚</p><blockquote><p>æ‰€è°“â€œä¾èµ–â€ï¼Œå°±æ˜¯ â€œæˆ‘è‹¥ä¾èµ–ä½ ï¼Œæˆ‘å°±ä¸èƒ½ç¦»å¼€ä½ ï¼Œä½ ä¸€æ—¦ç¦»å¼€æˆ‘å°±æŠ¥é”™äº†â€ã€‚</p></blockquote><p>åœ¨ä¸€ä¸ªè´¯å½»é¢å‘å¯¹è±¡ç¼–ç¨‹çš„é¡¹ç›®ä¸­ï¼Œè¿™æ ·çš„ä¾èµ–éšå¤„å¯è§ã€‚å°‘é‡çš„ä¾èµ–å¹¶ä¸ä¼šæœ‰å¤ªè¿‡ç›´è§‚çš„å½±å“ï¼Œæˆ‘ä»¬éšç€è¿™ä¸ªä¾‹å­é€æ¸é“ºå¼€ï¼Œè®©å¤§å®¶æ…¢æ…¢æ„è¯†åˆ°ï¼Œå½“ä¾èµ–è¾¾åˆ°ä¸€ä¸ªé‡çº§æ—¶ï¼Œæ˜¯æ€æ ·ä¸€ç•ªå™©æ¢¦èˆ¬çš„ä½“éªŒã€‚å½“ç„¶ï¼Œæˆ‘ä¹Ÿä¼šè‡ªç„¶è€Œç„¶çš„è®²è¿°å¦‚ä½•è§£å†³é—®é¢˜ã€‚</p><h2 id="å¯æ€•çš„ä¾èµ–â€”â€”ä¸€å †ä¹±éº»"><a href="#å¯æ€•çš„ä¾èµ–â€”â€”ä¸€å †ä¹±éº»" class="headerlink" title="å¯æ€•çš„ä¾èµ–â€”â€”ä¸€å †ä¹±éº»"></a>å¯æ€•çš„ä¾èµ–â€”â€”ä¸€å †ä¹±éº»</h2><p>ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œè¶…èƒ½åŠ›ç±»å®ä¾‹åŒ–åæ˜¯ä¸€ä¸ªå…·ä½“çš„è¶…èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œè¶…äººçš„è¶…èƒ½åŠ›æ˜¯å¤šå…ƒåŒ–çš„ï¼Œæ¯ç§è¶…èƒ½åŠ›çš„æ–¹æ³•ã€å±æ€§éƒ½æœ‰ä¸å°çš„å·®å¼‚ï¼Œæ²¡æ³•é€šè¿‡ä¸€ç§ç±»æè¿°å®Œå…¨ã€‚æˆ‘ä»¬ç°åœ¨è¿›è¡Œä¿®æ”¹ï¼Œæˆ‘ä»¬å‡è®¾è¶…äººå¯ä»¥æœ‰ä»¥ä¸‹å¤šç§è¶…èƒ½åŠ›ï¼š</p><ul><li>é£è¡Œï¼Œå±æ€§æœ‰ï¼šé£è¡Œé€Ÿåº¦ã€æŒç»­é£è¡Œæ—¶é—´</li><li>è›®åŠ›ï¼Œå±æ€§æœ‰ï¼šåŠ›é‡å€¼</li><li>èƒ½é‡å¼¹ï¼Œå±æ€§æœ‰ï¼šä¼¤å®³å€¼ã€å°„å‡»è·ç¦»ã€åŒæ—¶å°„å‡»ä¸ªæ•°</li></ul><p>æˆ‘ä»¬åˆ›å»ºäº†å¦‚ä¸‹ç±»ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é£è¡Œè¶…èƒ½åŠ›ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Flight</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $speed;<span class="comment">// é£è¡Œé€Ÿåº¦</span></span><br><span class="line"><span class="keyword">protected</span> $holdtime;<span class="comment">// æŒç»­é£è¡Œæ—¶é—´</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($speed, $holdtime)</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è›®åŠ›è¶…èƒ½åŠ›ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Force</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $force;<span class="comment">// åŠ›é‡å€¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($force)</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èƒ½é‡å¼¹èƒ½åŠ›ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shot</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $atk;<span class="comment">// ä¼¤å®³å€¼</span></span><br><span class="line"><span class="keyword">protected</span> $range;<span class="comment">// å°„å‡»è·ç¦»</span></span><br><span class="line"><span class="keyword">protected</span> $limit;<span class="comment">// åŒæ—¶å°„å‡»ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($atk, $range, $limit)</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸ºäº†çœäº‹å„¿æˆ‘æ²¡æœ‰è¯¦ç»†å†™å‡º <code>__construct()</code> è¿™ä¸ªæ„é€ å‡½æ•°çš„å…¨éƒ¨ï¼Œåªå†™äº†éœ€è¦ä¼ é€’çš„å‚æ•°ã€‚</p></blockquote><p>å¥½äº†ï¼Œè¿™ä¸‹æˆ‘ä»¬çš„è¶…äººæœ‰ç‚¹â€œå¿™â€äº†ã€‚åœ¨è¶…äººåˆå§‹åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ ¹æ®éœ€è¦æ¥å®ä¾‹åŒ–å…¶æ‹¥æœ‰çš„è¶…èƒ½åŠ›å—ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…äººç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Superman</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $power;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;power = <span class="keyword">new</span> Fight(<span class="number">9</span>, <span class="number">100</span>);<span class="comment">// éœ€è¦é£è¡Œè¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">// $this-&gt;power = new Force(45);// éœ€è¦è›®åŠ›è¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">// $this-&gt;power = new Shot(99, 50, 2);// éœ€è¦èƒ½é‡å¼¹è¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">$this-&gt;power = array(// éœ€è¦åŒæ—¶æ‹¥æœ‰å¤šç§è¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">new Force(45),</span></span><br><span class="line"><span class="comment">new Shot(99, 50, 2)</span></span><br><span class="line"><span class="comment">);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦è‡ªå·±æ‰‹åŠ¨çš„åœ¨æ„é€ å‡½æ•°å†…ï¼ˆæˆ–è€…å…¶ä»–æ–¹æ³•é‡Œï¼‰å®ä¾‹åŒ–ä¸€ç³»åˆ—éœ€è¦çš„ç±»ï¼Œè¿™æ ·å¹¶ä¸å¥½ã€‚å¯ä»¥æƒ³è±¡ï¼Œå‡å¦‚éœ€æ±‚å˜æ›´ï¼ˆä¸åŒçš„æ€ªç‰©æ¨ªè¡Œåœ°çƒï¼‰ï¼Œéœ€è¦æ›´å¤šçš„æœ‰é’ˆå¯¹æ€§çš„ <strong>æ–°çš„</strong> è¶…èƒ½åŠ›ï¼Œæˆ–è€…éœ€è¦ <strong>å˜æ›´</strong> è¶…èƒ½åŠ›çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡» <strong>é‡æ–°æ”¹é€ </strong> è¶…äººã€‚<strong>æ¢å¥è¯è¯´å°±æ˜¯ï¼Œæ”¹å˜è¶…èƒ½åŠ›çš„åŒæ—¶ï¼Œæˆ‘è¿˜å¾—é‡æ–°åˆ¶é€ ä¸ªè¶…äºº</strong>ã€‚æ•ˆç‡å¤ªä½äº†ï¼æ–°è¶…äººè¿˜æ²¡åˆ›é€ å®Œæˆä¸–ç•Œæ—©å·²è¢«æ¯ç­ã€‚</p><blockquote><p>è¿™æ—¶ï¼Œçµæœºä¸€åŠ¨çš„äººæƒ³åˆ°ï¼šä¸ºä»€ä¹ˆä¸å¯ä»¥è¿™æ ·å‘¢ï¼Ÿè¶…äººçš„èƒ½åŠ›å¯ä»¥è¢«éšæ—¶æ›´æ¢ï¼Œåªéœ€è¦æ·»åŠ æˆ–è€…æ›´æ–°ä¸€ä¸ªèŠ¯ç‰‡æˆ–è€…å…¶ä»–è£…ç½®å•¥çš„ï¼ˆæƒ³åˆ°é’¢é“ä¾ æ²¡ï¼‰ã€‚è¿™æ ·çš„è¯å°±ä¸è¦æ•´ä¸ªé‡æ–°æ¥è¿‡äº†ã€‚</p></blockquote><p>æˆ‘ä»¬ä¸åº”è¯¥æ‰‹åŠ¨åœ¨ â€œè¶…äººâ€ ç±»ä¸­å›ºåŒ–äº†ä»–çš„ â€œè¶…èƒ½åŠ›â€ åˆå§‹åŒ–çš„è¡Œä¸ºï¼Œè€Œè½¬ç”±å¤–éƒ¨è´Ÿè´£ï¼Œç”±å¤–éƒ¨åˆ›é€ è¶…èƒ½åŠ›æ¨¡ç»„ã€è£…ç½®æˆ–è€…èŠ¯ç‰‡ç­‰ï¼ˆæˆ‘ä»¬åé¢ç»Ÿä¸€ç§°ä¸º â€œæ¨¡ç»„â€ï¼‰ï¼Œæ¤å…¥è¶…äººä½“å†…çš„æŸä¸€ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£æ˜¯ä¸€ä¸ªæ—¢å®šçš„ï¼Œåªè¦è¿™ä¸ª â€œæ¨¡ç»„â€ æ»¡è¶³è¿™ä¸ªæ¥å£çš„è£…ç½®éƒ½å¯ä»¥è¢«è¶…äººæ‰€åˆ©ç”¨ï¼Œå¯ä»¥æå‡ã€å¢åŠ è¶…äººçš„æŸä¸€ç§èƒ½åŠ›ã€‚è¿™ç§ç”±å¤–éƒ¨è´Ÿè´£å…¶ä¾èµ–éœ€æ±‚çš„è¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥ç§°å…¶ä¸º â€œ<strong>æ§åˆ¶åè½¬ï¼ˆIoCï¼‰</strong>â€ã€‚</p><h2 id="ä¾èµ–è½¬ç§»â€”â€”å·¥å‚æ¨¡å¼"><a href="#ä¾èµ–è½¬ç§»â€”â€”å·¥å‚æ¨¡å¼" class="headerlink" title="ä¾èµ–è½¬ç§»â€”â€”å·¥å‚æ¨¡å¼"></a>ä¾èµ–è½¬ç§»â€”â€”å·¥å‚æ¨¡å¼</h2><p>å½“ç„¶ï¼Œå®ç°æ§åˆ¶åè½¬çš„æ–¹æ³•æœ‰å‡ ç§ã€‚åœ¨è¿™ä¹‹å‰ï¼Œä¸å¦‚æˆ‘ä»¬å…ˆäº†è§£ä¸€äº›å¥½ç©çš„ä¸œè¥¿ã€‚</p><blockquote><p>æˆ‘ä»¬å¯ä»¥æƒ³åˆ°ï¼Œç»„ä»¶ã€å·¥å…·ï¼ˆæˆ–è€…è¶…äººçš„æ¨¡ç»„ï¼‰ï¼Œæ˜¯ä¸€ç§å¯è¢«ç”Ÿäº§çš„ç©æ„å„¿ï¼Œç”Ÿäº§çš„åœ°æ–¹å½“ç„¶æ˜¯ â€œå·¥å‚ï¼ˆFactoryï¼‰â€ï¼Œäºæ˜¯æœ‰äººå°±æå‡ºäº†è¿™æ ·ä¸€ç§æ¨¡å¼ï¼š <strong>å·¥å‚æ¨¡å¼</strong>ã€‚</p></blockquote><p>å·¥å‚æ¨¡å¼ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªç±»æ‰€ä¾èµ–çš„å¤–éƒ¨äº‹ç‰©çš„å®ä¾‹ï¼Œéƒ½å¯ä»¥è¢«ä¸€ä¸ªæˆ–å¤šä¸ª â€œå·¥å‚â€ åˆ›å»ºçš„è¿™æ ·ä¸€ç§å¼€å‘æ¨¡å¼ï¼Œå°±æ˜¯ â€œ<strong>å·¥å‚æ¨¡å¼</strong>â€ã€‚</p><p>æˆ‘ä»¬ä¸ºäº†ç»™è¶…äººåˆ¶é€ è¶…èƒ½åŠ›æ¨¡ç»„ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå·¥å‚ï¼Œå®ƒå¯ä»¥åˆ¶é€ å„ç§å„æ ·çš„æ¨¡ç»„ï¼Œä¸”ä»…éœ€è¦é€šè¿‡ä¸€ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…èƒ½åŠ›ç”Ÿäº§å·¥å‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PowerModuleFactory</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeModule</span><span class="params">($moduleName, $options)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> ($moduleName) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'Fight'</span>: <span class="keyword">return</span> <span class="keyword">new</span> Fight($options[<span class="number">0</span>], $options[<span class="number">1</span>]);</span><br><span class="line"><span class="keyword">case</span> <span class="string">'Force'</span>: <span class="keyword">return</span> <span class="keyword">new</span> Force($options[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">case</span> <span class="string">'Shot'</span>: <span class="keyword">return</span> <span class="keyword">new</span> Shot($options[<span class="number">0</span>], $options[<span class="number">1</span>], $options[<span class="number">2</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œè¶…äºº åˆ›å»ºä¹‹åˆå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå·¥å‚ï¼</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…äººç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Superman</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $power;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–å·¥å‚</span></span><br><span class="line">$factory = <span class="keyword">new</span> PowerModuleFactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å·¥å‚æä¾›çš„æ–¹æ³•åˆ¶é€ éœ€è¦çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;power = $factory-&gt;makeModule(<span class="string">'Fight'</span>, [<span class="number">9</span>, <span class="number">100</span>]);<span class="comment">// éœ€è¦é£è¡Œè¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">// $this-&gt;power = $factory-&gt;makeModule('Force', [45]);// éœ€è¦è›®åŠ›è¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">// $this-&gt;power = $factory-&gt;makeModule('Shot', [99, 50, 2]);// éœ€è¦èƒ½é‡å¼¹è¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">$this-&gt;power = array(// éœ€è¦åŒæ—¶æ‹¥æœ‰å¤šç§è¶…èƒ½åŠ›</span></span><br><span class="line"><span class="comment">$factory-&gt;makeModule('Force', [45]),</span></span><br><span class="line"><span class="comment">$factory-&gt;makeModule('Shot', [99, 50, 2])</span></span><br><span class="line"><span class="comment">);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å¾—å‡ºï¼Œæˆ‘ä»¬ä¸å†éœ€è¦åœ¨è¶…äººåˆå§‹åŒ–ä¹‹åˆï¼Œå»åˆå§‹åŒ–è®¸å¤šç¬¬ä¸‰æ–¹ç±»ï¼Œåªéœ€åˆå§‹åŒ–ä¸€ä¸ªå·¥å‚ç±»ï¼Œå³å¯æ»¡è¶³éœ€æ±‚ã€‚ä½†è¿™æ ·ä¼¼ä¹å’Œä»¥å‰åŒºåˆ«ä¸å¤§ï¼Œåªæ˜¯æ²¡æœ‰é‚£ä¹ˆå¤š <code>new</code> å…³é”®å­—ã€‚å…¶å®æˆ‘ä»¬ç¨å¾®æ”¹é€ ä¸€ä¸‹è¿™ä¸ªç±»ï¼Œä½ å°±æ˜ç™½ï¼Œå·¥å‚ç±»çš„çœŸæ­£æ„ä¹‰å’Œä»·å€¼äº†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…äººç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Superman</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $power;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(array $modules)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–å·¥å‚</span></span><br><span class="line">$factory = <span class="keyword">new</span> PowerModuleFactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å·¥å‚æä¾›çš„æ–¹æ³•åˆ¶é€ éœ€è¦çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">foreach</span> ($modules <span class="keyword">as</span> $moduleName =&gt; $moduleOptions) &#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;power[] = $factory-&gt;makeModule($moduleName, $moduleOptions);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè¶…äºº</span></span><br><span class="line">$superman = <span class="keyword">new</span> Superman([</span><br><span class="line"><span class="string">'Fight'</span> =&gt; [<span class="number">9</span>, <span class="number">100</span>], </span><br><span class="line"><span class="string">'Shot'</span> =&gt; [<span class="number">99</span>, <span class="number">50</span>, <span class="number">2</span>]</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>ç°åœ¨ä¿®æ”¹çš„ç»“æœä»¤äººæ»¡æ„ã€‚ç°åœ¨ï¼Œâ€œè¶…äººâ€ çš„åˆ›å»ºä¸å†ä¾èµ–ä»»ä½•ä¸€ä¸ª â€œè¶…èƒ½åŠ›â€ çš„ç±»ï¼Œæˆ‘ä»¬å¦‚è‹¥ä¿®æ”¹äº†æˆ–è€…å¢åŠ äº†æ–°çš„è¶…èƒ½åŠ›ï¼Œåªéœ€è¦é’ˆå¯¹ä¿®æ”¹ <code>PowerModuleFactory</code> å³å¯ã€‚æ‰©å……è¶…èƒ½åŠ›çš„åŒæ—¶ä¸å†éœ€è¦é‡æ–°ç¼–è¾‘è¶…äººçš„ç±»æ–‡ä»¶ï¼Œä½¿å¾—æˆ‘ä»¬å˜å¾—å¾ˆè½»æ¾ã€‚ä½†æ˜¯ï¼Œè¿™æ‰åˆšåˆšå¼€å§‹ã€‚</p><h2 id="å†è¿›ä¸€æ­¥ï¼IoC-å®¹å™¨çš„é‡è¦ç»„æˆ-â€”â€”-ä¾èµ–æ³¨å…¥ï¼"><a href="#å†è¿›ä¸€æ­¥ï¼IoC-å®¹å™¨çš„é‡è¦ç»„æˆ-â€”â€”-ä¾èµ–æ³¨å…¥ï¼" class="headerlink" title="å†è¿›ä¸€æ­¥ï¼IoC å®¹å™¨çš„é‡è¦ç»„æˆ â€”â€” ä¾èµ–æ³¨å…¥ï¼"></a>å†è¿›ä¸€æ­¥ï¼IoC å®¹å™¨çš„é‡è¦ç»„æˆ â€”â€” ä¾èµ–æ³¨å…¥ï¼</h2><p>ç”± â€œè¶…äººâ€ å¯¹ â€œè¶…èƒ½åŠ›â€ çš„ä¾èµ–å˜æˆ â€œè¶…äººâ€ å¯¹ â€œè¶…èƒ½åŠ›æ¨¡ç»„å·¥å‚â€ çš„ä¾èµ–åï¼Œå¯¹ä»˜å°æ€ªå…½ä»¬å˜å¾—æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚ä½†è¿™ä¹Ÿæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œä¾èµ–å¹¶æœªè§£é™¤ï¼Œåªæ˜¯ç”±åŸæ¥å¯¹å¤šä¸ªå¤–éƒ¨çš„ä¾èµ–å˜æˆäº†å¯¹ä¸€ä¸ª â€œå·¥å‚â€ çš„ä¾èµ–ã€‚å‡å¦‚å·¥å‚å‡ºäº†ç‚¹éº»çƒ¦ï¼Œé—®é¢˜å˜å¾—å°±å¾ˆæ£˜æ‰‹ã€‚</p><blockquote><p>å…¶å®å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå·¥å‚æ¨¡å¼å·²ç»è¶³å¤Ÿäº†ã€‚å·¥å‚æ¨¡å¼çš„ç¼ºç‚¹å°±æ˜¯ï¼šæ¥å£æœªçŸ¥ï¼ˆå³æ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¥‘çº¦æ¨¡å‹ï¼Œå…³äºè¿™ä¸ªæˆ‘é©¬ä¸Šä¼šæœ‰è§£é‡Šï¼‰ã€äº§ç”Ÿå¯¹è±¡ç±»å‹å•ä¸€ã€‚æ€»ä¹‹å°±æ˜¯ï¼Œè¿˜æ˜¯ä¸å¤Ÿçµæ´»ã€‚è™½ç„¶å¦‚æ­¤ï¼Œå·¥å‚æ¨¡å¼ä¾æ—§ååˆ†ä¼˜ç§€ï¼Œå¹¶ä¸”é€‚ç”¨äºç»å¤§å¤šæ•°æƒ…å†µã€‚ä¸è¿‡æˆ‘ä»¬ä¸ºäº†è®²è§£åé¢çš„ <strong>ä¾èµ–æ³¨å…¥</strong> ï¼Œè¿™é‡Œå°±å…ˆå¤¸å¤§ä¸€ä¸‹å·¥å‚æ¨¡å¼çš„ç¼ºé™·å’¯ã€‚</p></blockquote><p>æˆ‘ä»¬çŸ¥é“ï¼Œè¶…äººä¾èµ–çš„æ¨¡ç»„ï¼Œæˆ‘ä»¬è¦æ±‚æœ‰ç»Ÿä¸€çš„æ¥å£ï¼Œè¿™æ ·æ‰èƒ½å’Œè¶…äººèº«ä¸Šçš„æ³¨å…¥æ¥å£å¯¹æ¥ï¼Œæœ€ç»ˆèµ·åˆ°æå‡è¶…èƒ½åŠ›çš„æ•ˆæœã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä¹‹å‰è¯´è°äº†ï¼Œä¸ä»…ä»…åªæœ‰ä¸€å †å°æ€ªå…½ï¼Œè¿˜æœ‰æ›´å¤šçš„å¤§æ€ªå…½ã€‚å˜¿å˜¿ã€‚é¢ï¼Œè¿™æ—¶å€™ä¼¼ä¹å·¥å‚çš„ç”Ÿäº§èƒ½åŠ›æ˜¾å¾—æœ‰äº›ä¸è¶³ â€”â€” ç”±äºå·¥å‚æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„æ¨¡ç»„éƒ½å·²ç»åœ¨å·¥å‚ç±»ä¸­å®‰æ’å¥½äº†ï¼Œå¦‚æœæœ‰æ–°çš„ã€é«˜çº§çš„æ¨¡ç»„åŠ å…¥ï¼Œæˆ‘ä»¬å¿…é¡»ä¿®æ”¹å·¥å‚ç±»ï¼ˆå¥½æ¯”å¢åŠ æ–°çš„ç”Ÿäº§çº¿ï¼‰ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…èƒ½åŠ›ç”Ÿäº§å·¥å‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PowerModuleFactory</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeModule</span><span class="params">($moduleName, $options)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> ($moduleName) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'Fight'</span>: <span class="keyword">return</span> <span class="keyword">new</span> Fight($options[<span class="number">0</span>], $options[<span class="number">1</span>]);</span><br><span class="line"><span class="keyword">case</span> <span class="string">'Force'</span>: <span class="keyword">return</span> <span class="keyword">new</span> Force($options[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">case</span> <span class="string">'Shot'</span>: <span class="keyword">return</span> <span class="keyword">new</span> Shot($options[<span class="number">0</span>], $options[<span class="number">1</span>], $options[<span class="number">2</span>]);</span><br><span class="line"><span class="comment">// case 'more': .......</span></span><br><span class="line"><span class="comment">// case 'and more': .......</span></span><br><span class="line"><span class="comment">// case 'and more': .......</span></span><br><span class="line"><span class="comment">// case 'oh no! its too many!': .......</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°æ²¡ã€‚ã€‚ã€‚å™©æ¢¦èˆ¬çš„æ„Ÿå—ï¼</p><blockquote><p>å…¶å®çµæ„Ÿå°±å·®ä¸€æ­¥ï¼ä½ å¯èƒ½ä¼šæƒ³åˆ°æ›´ä¸ºçµæ´»çš„åŠæ³•ï¼å¯¹ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„ä¸»è¦é…è§’ â€”â€” DI ï¼ˆä¾èµ–æ³¨å…¥ï¼‰</p></blockquote><p>ç”±äºå¯¹è¶…èƒ½åŠ›æ¨¡ç»„çš„éœ€æ±‚ä¸æ–­å¢å¤§ï¼Œæˆ‘ä»¬éœ€è¦é›†åˆæ•´ä¸ªä¸–ç•Œçš„é«˜æ™ºå•†äººæ‰ï¼Œä¸€èµ·è§£å†³é—®é¢˜ï¼Œä¸åº”è¯¥ä»…ä»…åªæœ‰å‡ ä¸ªå·¥å‚å„æ–­è´Ÿè´£ã€‚ä¸è¿‡é«˜æ™ºå•†äººæ‰ä»¬éƒ½éå¸¸è‡ªè´Ÿï¼Œè®¤ä¸ºè‡ªå·±çš„æƒ³æ³•æ˜¯å¯¹çš„ï¼Œåˆ›é€ å‡ºçš„è¶…èƒ½åŠ›æ¨¡ç»„æ²¡æœ‰ç»Ÿä¸€çš„æ¥å£ï¼Œè‡ªç„¶è€Œç„¶æ— æ³•è¢«æ­£å¸¸ä½¿ç”¨ã€‚è¿™æ—¶æˆ‘ä»¬éœ€è¦æå‡ºä¸€ç§å¥‘çº¦ï¼Œè¿™æ ·æ— è®ºæ˜¯è°åˆ›é€ å‡ºçš„æ¨¡ç»„ï¼Œéƒ½ç¬¦åˆè¿™æ ·çš„æ¥å£ï¼Œè‡ªç„¶å°±å¯è¢«æ­£å¸¸ä½¿ç”¨ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…èƒ½åŠ›æ¨¡ç»„æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">PowerModuleInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…èƒ½åŠ›æ¿€æ´»æ–¹æ³•</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä»»ä½•ä¸€ä¸ªè¶…èƒ½åŠ›éƒ½å¾—æœ‰è¯¥æ–¹æ³•ï¼Œå¹¶æ‹¥æœ‰ä¸€ä¸ªå‚æ•°</span></span><br><span class="line"><span class="comment"> *<span class="doctag">@param</span> array $target é’ˆå¯¹ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œè‡ªå·±æˆ–ä»–äºº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">activate</span><span class="params">(array $target)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šæ–‡ä¸­ï¼Œæˆ‘ä»¬å®šä¸‹äº†ä¸€ä¸ªæ¥å£ ï¼ˆè¶…èƒ½åŠ›æ¨¡ç»„çš„è§„èŒƒã€å¥‘çº¦ï¼‰ï¼Œæ‰€æœ‰è¢«åˆ›é€ çš„æ¨¡ç»„å¿…é¡»éµå®ˆè¯¥è§„èŒƒï¼Œæ‰èƒ½è¢«ç”Ÿäº§ã€‚</p></blockquote><blockquote><p>å…¶å®ï¼Œè¿™å°±æ˜¯ php ä¸­ æ¥å£ï¼ˆ interface ï¼‰ çš„ç”¨å¤„å’Œæ„ä¹‰ï¼å¾ˆå¤šäººè§‰å¾—ï¼Œä¸ºä»€ä¹ˆ php éœ€è¦æ¥å£è¿™ç§ä¸œè¥¿ï¼Ÿéš¾é“ä¸æ˜¯ java ã€ C# ä¹‹ç±»çš„è¯­è¨€æ‰æœ‰çš„å—ï¼Ÿè¿™ä¹ˆè¯´ï¼Œåªè¦æ˜¯ä¸€ä¸ªæ­£å¸¸çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼ˆè™½ç„¶ php å¯ä»¥é¢å‘è¿‡ç¨‹ï¼‰ï¼Œéƒ½åº”è¯¥å…·å¤‡è¿™ä¸€ç‰¹æ€§ã€‚å› ä¸ºä¸€ä¸ª å¯¹è±¡ï¼ˆobjectï¼‰ æœ¬èº«æ˜¯ç”±ä»–çš„æ¨¡æ¿æˆ–è€…åŸå‹ â€”â€” ç±» ï¼ˆclassï¼‰ ï¼Œç»è¿‡å®ä¾‹åŒ–åäº§ç”Ÿçš„ä¸€ä¸ªå…·ä½“äº‹ç‰©ï¼Œè€Œæœ‰æ—¶å€™ï¼Œå®ç°ç»Ÿä¸€ç§æ–¹æ³•ä¸”ä¸åŒåŠŸèƒ½ï¼ˆæˆ–ç‰¹æ€§ï¼‰çš„æ—¶å€™ï¼Œä¼šå­˜åœ¨å¾ˆå¤šçš„ç±»ï¼ˆclassï¼‰ï¼Œè¿™æ—¶å€™å°±éœ€è¦æœ‰ä¸€ä¸ªå¥‘çº¦ï¼Œè®©å¤§å®¶ç¼–å†™å‡ºå¯ä»¥è¢«éšæ—¶æ›¿æ¢å´ä¸ä¼šäº§ç”Ÿå½±å“çš„æ¥å£ã€‚è¿™ç§ç”±ç¼–ç¨‹è¯­è¨€æœ¬èº«æå‡ºçš„ç¡¬æ€§è§„èŒƒï¼Œä¼šå¢åŠ æ›´å¤šä¼˜ç§€çš„ç‰¹æ€§ã€‚</p></blockquote><blockquote><p>è™½ç„¶æœ‰äº›ç»•ï¼Œä½†é€šè¿‡æˆ‘ä»¬æ¥ä¸‹æ¥çš„å®ä¾‹ï¼Œå¤§å®¶ä¼šæ…¢æ…¢é¢†ä¼šæ¥å£å¸¦æ¥çš„å¥½å¤„ã€‚</p></blockquote><p>è¿™æ—¶å€™ï¼Œé‚£äº›æå‡ºæ›´å¥½çš„è¶…èƒ½åŠ›æ¨¡ç»„çš„é«˜æ™ºå•†äººæ‰ï¼Œéµå¾ªè¿™ä¸ªæ¥å£ï¼Œåˆ›å»ºäº†ä¸‹è¿°ï¼ˆæ¨¡ç»„ï¼‰ç±»ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * X-è¶…èƒ½é‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XPower</span> <span class="keyword">implements</span> <span class="title">PowerModuleInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">activate</span><span class="params">(array $target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// è¿™åªæ˜¯ä¸ªä¾‹å­ã€‚ã€‚å…·ä½“è‡ªè¡Œè„‘è¡¥</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'X-è¶…èƒ½é‡'</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»ˆæç‚¸å¼¹ ï¼ˆå°±è¿™ä¹ˆä¿—ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UltraBomb</span> <span class="keyword">implements</span> <span class="title">PowerModuleInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">activate</span><span class="params">(array $target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// è¿™åªæ˜¯ä¸ªä¾‹å­ã€‚ã€‚å…·ä½“è‡ªè¡Œè„‘è¡¥</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'ç»ˆæç‚¸å¼¹'</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œä¸ºäº†é˜²æ­¢æœ‰äº› â€œç –å®¶â€ è‡ªä½œèªæ˜ï¼Œæˆ–è€…ä¸€äº›å›å¾’æ¶æ„æ£è›‹ï¼Œä¸éµå®ˆå¥‘çº¦èƒ¡ä¹±åˆ¶é€ æ¨¡ç»„ï¼Œå½±å“è¶…äººï¼Œæˆ‘ä»¬å¯¹è¶…äººåˆå§‹åŒ–çš„æ–¹æ³•è¿›è¡Œæ”¹é€ ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¶…äººç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Superman</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $module;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(PowerModuleInterface $module)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;module = $module;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;module-&gt;activate([]);<span class="comment">// è¶…èƒ½åŠ›æ¿€æ´»</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹é€ å®Œæ¯•ï¼ç°åœ¨ï¼Œå½“æˆ‘ä»¬åˆå§‹åŒ– â€œè¶…äººâ€ ç±»çš„æ—¶å€™ï¼Œæä¾›çš„æ¨¡ç»„å®ä¾‹å¿…é¡»æ˜¯ä¸€ä¸ª <code>PowerModuleInterface</code> æ¥å£çš„å®ç°ã€‚å¦åˆ™å°±ä¼šæç¤ºé”™è¯¯ã€‚</p><p>æ­£æ˜¯ç”±äºè¶…äººçš„åˆ›é€ å˜å¾—å®¹æ˜“ï¼Œä¸€ä¸ªè¶…äººä¹Ÿå°±ä¸éœ€è¦å¤ªå¤šçš„è¶…èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›é€ å¤šä¸ªè¶…äººï¼Œå¹¶åˆ†åˆ«æ³¨å…¥éœ€è¦çš„è¶…èƒ½åŠ›æ¨¡ç»„å³å¯ã€‚è¿™æ ·çš„è¯ï¼Œè™½ç„¶ä¸€ä¸ªè¶…äººåªæœ‰ä¸€ä¸ªè¶…èƒ½åŠ›ï¼Œä½†è¶…äººæ›´å®¹æ˜“å˜å¤šï¼Œæˆ‘ä»¬ä¹Ÿä¸æ€•æ€ªå…½å•¦ï¼</p><blockquote><p>ç°åœ¨æœ‰äººç–‘æƒ‘äº†ï¼Œä½ è¦è®²çš„ ä¾èµ–æ³¨å…¥ å‘¢ï¼Ÿ<br>å…¶å®ï¼Œä¸Šé¢è®²çš„å†…å®¹ï¼Œæ­£æ˜¯ä¾èµ–æ³¨å…¥ã€‚</p></blockquote><p>ä»€ä¹ˆå«åš <strong>ä¾èµ–æ³¨å…¥</strong>ï¼Ÿ</p><p>æœ¬æ–‡ä»å¼€å¤´åˆ°ç°åœ¨æåˆ°çš„ä¸€ç³»åˆ—ä¾èµ–ï¼Œåªè¦ä¸æ˜¯ç”±å†…éƒ¨ç”Ÿäº§ï¼ˆæ¯”å¦‚åˆå§‹åŒ–ã€æ„é€ å‡½æ•° <code>__construct</code> ä¸­é€šè¿‡å·¥å‚æ–¹æ³•ã€è‡ªè¡Œæ‰‹åŠ¨ <code>new</code> çš„ï¼‰ï¼Œè€Œæ˜¯ç”±å¤–éƒ¨ä»¥å‚æ•°æˆ–å…¶ä»–å½¢å¼æ³¨å…¥çš„ï¼Œéƒ½å±äº <strong>ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</strong> ã€‚æ˜¯ä¸æ˜¯è±ç„¶å¼€æœ—ï¼Ÿäº‹å®ä¸Šï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¾èµ–æ³¨å…¥ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¶…èƒ½åŠ›æ¨¡ç»„</span></span><br><span class="line">$superModule = <span class="keyword">new</span> XPower;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–ä¸€ä¸ªè¶…äººï¼Œå¹¶æ³¨å…¥ä¸€ä¸ªè¶…èƒ½åŠ›æ¨¡ç»„ä¾èµ–</span></span><br><span class="line">$superMan = <span class="keyword">new</span> Superman($superModule);</span><br></pre></td></tr></table></figure><p>å…³äºä¾èµ–æ³¨å…¥è¿™ä¸ªæœ¬æ–‡çš„ä¸»è¦é…è§’ï¼Œä¹Ÿå°±è¿™ä¹ˆå¤šéœ€è¦è®²çš„ã€‚ç†è§£äº†ä¾èµ–æ³¨å…¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­æ·±å…¥é—®é¢˜ã€‚æ…¢æ…¢èµ°è¿‘ä»Šå¤©çš„ä¸»è§’â€¦â€¦</p><h2 id="IoC-å®¹å™¨â€”â€”æ›´ä¸ºå…ˆè¿›çš„å·¥å‚"><a href="#IoC-å®¹å™¨â€”â€”æ›´ä¸ºå…ˆè¿›çš„å·¥å‚" class="headerlink" title="IoC å®¹å™¨â€”â€”æ›´ä¸ºå…ˆè¿›çš„å·¥å‚"></a>IoC å®¹å™¨â€”â€”æ›´ä¸ºå…ˆè¿›çš„å·¥å‚</h2><p>åˆšåˆšåˆ—äº†ä¸€æ®µä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$superModule = <span class="keyword">new</span> XPower;</span><br><span class="line"></span><br><span class="line">$superMan = <span class="keyword">new</span> Superman($superModule);</span><br></pre></td></tr></table></figure><p>è¯»è€…åº”è¯¥çœ‹å‡ºæ¥äº†ï¼Œæ‰‹åŠ¨çš„åˆ›å»ºäº†ä¸€ä¸ªè¶…èƒ½åŠ›æ¨¡ç»„ã€æ‰‹åŠ¨çš„åˆ›å»ºè¶…äººå¹¶æ³¨å…¥äº†åˆšåˆšåˆ›å»ºè¶…èƒ½åŠ›æ¨¡ç»„ã€‚å‘µå‘µï¼Œæ‰‹åŠ¨ã€‚</p><blockquote><p>ç°ä»£ç¤¾ä¼šï¼Œåº”è¯¥æ˜¯é«˜æ•ˆç‡çš„ç”Ÿäº§ï¼Œå¹²å‡€çš„è½¦é—´ï¼Œå®Œç¾çš„è‡ªåŠ¨åŒ–è£…é…ã€‚</p></blockquote><p>ä¸€ç¾¤æ€ªå…½æ¥äº†ï¼Œå¦‚æ­¤ä½æ•ˆç‡äº§å‡ºè¶…äººæ˜¯ä¸ç°å®ï¼Œæˆ‘ä»¬éœ€è¦è‡ªåŠ¨åŒ– â€”â€” æœ€å¤šä¸€æ¡æŒ‡ä»¤ï¼Œåƒå†›ä¸‡é©¬æ¥ç›¸è§ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§é«˜çº§çš„ç”Ÿäº§è½¦é—´ï¼Œæˆ‘ä»¬åªéœ€è¦å‘ç”Ÿäº§è½¦é—´æäº¤ä¸€ä¸ªè„šæœ¬ï¼Œå·¥å‚ä¾¿èƒ½å¤Ÿé€šè¿‡æŒ‡ä»¤è‡ªåŠ¨åŒ–ç”Ÿäº§ã€‚è¿™ç§æ›´ä¸ºé«˜çº§çš„å·¥å‚ï¼Œå°±æ˜¯å·¥å‚æ¨¡å¼çš„å‡å â€”â€” <strong>IoC å®¹å™¨</strong>ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®¹å™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="keyword">protected</span> $binds;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> $instances;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bind</span><span class="params">($abstract, $concrete)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> ($concrete <span class="keyword">instanceof</span> Closure) &#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;binds[$abstract] = $concrete;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;instances[$abstract] = $concrete;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">make</span><span class="params">($abstract, $parameters = [])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;instances[$abstract])) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">$this</span>-&gt;instances[$abstract];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">array_unshift($parameters, <span class="keyword">$this</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> call_user_func_array(<span class="keyword">$this</span>-&gt;binds[$abstract], $parameters);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œä¸€ä¸ªååˆ†ç²—ç³™çš„å®¹å™¨å°±è¯ç”Ÿäº†ã€‚ç°åœ¨çš„ç¡®å¾ˆç®€é™‹ï¼Œä½†ä¸å¦¨ç¢æˆ‘ä»¬è¿›ä¸€æ­¥æå‡ä»–ã€‚å…ˆç€çœ¼ç°åœ¨ï¼Œçœ‹çœ‹è¿™ä¸ªå®¹å™¨å¦‚ä½•ä½¿ç”¨å§ï¼</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼ˆåé¢ç§°ä½œè¶…çº§å·¥å‚ï¼‰</span></span><br><span class="line">$container = <span class="keyword">new</span> Container;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘è¯¥ è¶…çº§å·¥å‚ æ·»åŠ  è¶…äºº çš„ç”Ÿäº§è„šæœ¬</span></span><br><span class="line">$container-&gt;bind(<span class="string">'superman'</span>, <span class="function"><span class="keyword">function</span><span class="params">($container, $moduleName)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Superman($container-&gt;make($moduleName));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘è¯¥ è¶…çº§å·¥å‚ æ·»åŠ  è¶…èƒ½åŠ›æ¨¡ç»„ çš„ç”Ÿäº§è„šæœ¬</span></span><br><span class="line">$container-&gt;bind(<span class="string">'xpower'</span>, <span class="function"><span class="keyword">function</span><span class="params">($container)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> XPower;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒä¸Š</span></span><br><span class="line">$container-&gt;bind(<span class="string">'ultrabomb'</span>, <span class="function"><span class="keyword">function</span><span class="params">($container)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> UltraBomb;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ******************  åä¸½ä¸½çš„åˆ†å‰²çº¿  **********************</span></span><br><span class="line"><span class="comment">// å¼€å§‹å¯åŠ¨ç”Ÿäº§</span></span><br><span class="line">$superman_1 = $container-&gt;make(<span class="string">'superman'</span>, [<span class="string">'xpower'</span>]);</span><br><span class="line">$superman_2 = $container-&gt;make(<span class="string">'superman'</span>, [<span class="string">'ultrabomb'</span>]);</span><br><span class="line">$superman_3 = $container-&gt;make(<span class="string">'superman'</span>, [<span class="string">'xpower'</span>]);</span><br><span class="line"><span class="comment">// ...éšæ„æ·»åŠ </span></span><br></pre></td></tr></table></figure><p>çœ‹åˆ°æ²¡ï¼Ÿé€šè¿‡æœ€åˆçš„ <strong>ç»‘å®šï¼ˆbindï¼‰</strong> æ“ä½œï¼Œæˆ‘ä»¬å‘ è¶…çº§å·¥å‚ æ³¨å†Œäº†ä¸€äº›ç”Ÿäº§è„šæœ¬ï¼Œè¿™äº›ç”Ÿäº§è„šæœ¬åœ¨ç”Ÿäº§æŒ‡ä»¤ä¸‹è¾¾ä¹‹æ—¶ä¾¿ä¼šæ‰§è¡Œã€‚å‘ç°æ²¡æœ‰ï¼Ÿæˆ‘ä»¬å½»åº•çš„è§£é™¤äº† è¶…äºº ä¸ è¶…èƒ½åŠ›æ¨¡ç»„ çš„ä¾èµ–å…³ç³»ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®¹å™¨ç±»ä¹Ÿä¸æ¯«æ²¡æœ‰å’Œä»–ä»¬äº§ç”Ÿä»»ä½•ä¾èµ–ï¼æˆ‘ä»¬é€šè¿‡æ³¨å†Œã€ç»‘å®šçš„æ–¹å¼å‘å®¹å™¨ä¸­æ·»åŠ ä¸€æ®µå¯ä»¥è¢«æ‰§è¡Œçš„å›è°ƒï¼ˆå¯ä»¥æ˜¯åŒ¿åå‡½æ•°ã€éåŒ¿åå‡½æ•°ã€ç±»çš„æ–¹æ³•ï¼‰ä½œä¸ºç”Ÿäº§ä¸€ä¸ªç±»çš„å®ä¾‹çš„ <strong>è„šæœ¬</strong> ï¼Œåªæœ‰åœ¨çœŸæ­£çš„ <strong>ç”Ÿäº§ï¼ˆmakeï¼‰</strong> æ“ä½œè¢«è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œæ‰ä¼šè§¦å‘ã€‚</p><p>è¿™æ ·ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—æˆ‘ä»¬æ›´å®¹æ˜“åœ¨åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„åŒæ—¶è§£å†³å…¶ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”æ›´åŠ çµæ´»ã€‚å½“æœ‰æ–°çš„éœ€æ±‚ï¼Œåªéœ€å¦å¤–ç»‘å®šä¸€ä¸ªâ€œç”Ÿäº§è„šæœ¬â€å³å¯ã€‚</p><blockquote><p>å®é™…ä¸Šï¼ŒçœŸæ­£çš„ IoC å®¹å™¨æ›´ä¸ºé«˜çº§ã€‚æˆ‘ä»¬ç°åœ¨çš„ä¾‹å­ä¸­ï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨æä¾›è¶…äººæ‰€éœ€è¦çš„æ¨¡ç»„å‚æ•°ï¼Œä½†çœŸæ­£çš„ IoC å®¹å™¨ä¼šæ ¹æ®ç±»çš„ä¾èµ–éœ€æ±‚ï¼Œè‡ªåŠ¨åœ¨æ³¨å†Œã€ç»‘å®šçš„ä¸€å †å®ä¾‹ä¸­æœå¯»ç¬¦åˆçš„ä¾èµ–éœ€æ±‚ï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥åˆ°æ„é€ å‡½æ•°å‚æ•°ä¸­å»ã€‚Laravel æ¡†æ¶çš„æœåŠ¡å®¹å™¨æ­£æ˜¯è¿™ä¹ˆåšçš„ã€‚å®ç°è¿™ç§åŠŸèƒ½å…¶å®ç†è®ºä¸Šå¹¶ä¸éº»çƒ¦ï¼Œä½†æˆ‘å¹¶ä¸ä¼šåœ¨æœ¬æ–‡ä¸­å†™å‡ºï¼Œå› ä¸ºâ€¦â€¦æˆ‘æ‡’å¾—å†™ã€‚</p></blockquote><blockquote><p>ä¸è¿‡æˆ‘å‘Šè¯‰å¤§å®¶ï¼Œè¿™ç§è‡ªåŠ¨æœå¯»ä¾èµ–éœ€æ±‚çš„åŠŸèƒ½ï¼Œæ˜¯é€šè¿‡ <a href="http://php.net/manual/zh/book.reflection.php" target="_blank" rel="noopener">åå°„ï¼ˆReflectionï¼‰</a> å®ç°çš„ï¼Œæ°å¥½çš„ï¼Œphp å®Œç¾çš„æ”¯æŒåå°„æœºåˆ¶ï¼å…³äºåå°„ï¼Œphp å®˜æ–¹æ–‡æ¡£æœ‰è¯¦ç»†çš„èµ„æ–™ï¼Œå¹¶ä¸”ä¸­æ–‡ç¿»è¯‘åŸºæœ¬è¦†ç›–ï¼Œè¶³å¤Ÿå­¦ä¹ å’Œç ”ç©¶ï¼</p></blockquote><p>ç°åœ¨ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä¸å†æƒ§æ€•æ€ªå…½ä»¬äº†ã€‚é«˜æ™ºå•†äººæ‰é›†æ€å¹¿ç›Šï¼Œäº•äº•æœ‰æ¡ï¼Œæ ¹æ®æ¥å£å¥‘çº¦åˆ›é€ è§„èŒƒçš„è¶…èƒ½åŠ›æ¨¡ç»„ã€‚è¶…äººå¼€å§‹æ‰¹é‡äº§å‡ºã€‚æœ€ç»ˆï¼Œäººäººéƒ½æ˜¯è¶…äººï¼Œä½ ä¹Ÿå¯ä»¥æ˜¯å“¦ :stuck_out_tongue_closed_eyes:ï¼</p><h2 id="å›å½’æ­£å¸¸ä¸–ç•Œ-æˆ‘ä»¬å¼€å§‹é‡æ–°å®¡è§†-laravel-çš„æ ¸å¿ƒ"><a href="#å›å½’æ­£å¸¸ä¸–ç•Œ-æˆ‘ä»¬å¼€å§‹é‡æ–°å®¡è§†-laravel-çš„æ ¸å¿ƒ" class="headerlink" title="å›å½’æ­£å¸¸ä¸–ç•Œ,æˆ‘ä»¬å¼€å§‹é‡æ–°å®¡è§† laravel çš„æ ¸å¿ƒ"></a>å›å½’æ­£å¸¸ä¸–ç•Œ,æˆ‘ä»¬å¼€å§‹é‡æ–°å®¡è§† laravel çš„æ ¸å¿ƒ</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¼€å§‹æ…¢æ…¢è§£è¯» laravel çš„æ ¸å¿ƒã€‚å…¶å®ï¼Œlaravel çš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ª IoC å®¹å™¨ï¼Œä¹Ÿæ°å¥½æ˜¯æˆ‘ä¹‹å‰æ‰€è¯´çš„é«˜çº§çš„ IoC å®¹å™¨ã€‚</p><p>å¯ä»¥è¯´ï¼Œlaravel çš„æ ¸å¿ƒæœ¬èº«ååˆ†è½»é‡ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¾ˆç¥å¥‡å¾ˆå®è´¨æ€§çš„åº”ç”¨åŠŸèƒ½ã€‚å¾ˆå¤šäººç”¨åˆ°çš„å„ç§åŠŸèƒ½æ¨¡å—æ¯”å¦‚ <strong>Routeï¼ˆè·¯ç”±ï¼‰</strong>ã€<strong>Eloquent ORMï¼ˆæ•°æ®åº“ ORM ç»„ä»¶ï¼‰</strong>ã€<strong>Request and Responseï¼ˆè¯·æ±‚å’Œå“åº”ï¼‰</strong>ç­‰ç­‰ç­‰ç­‰ï¼Œå®é™…ä¸Šéƒ½æ˜¯ä¸æ ¸å¿ƒæ— å…³çš„ç±»æ¨¡å—æä¾›çš„ï¼Œè¿™äº›ç±»ä»æ³¨å†Œåˆ°å®ä¾‹åŒ–ï¼Œæœ€ç»ˆè¢«ä½ æ‰€ä½¿ç”¨ï¼Œå…¶å®éƒ½æ˜¯ laravel çš„æœåŠ¡å®¹å™¨è´Ÿè´£çš„ã€‚</p><p>æˆ‘ä»¬ä»¥å¤§å®¶æœ€å¸¸è§çš„ Route ç±»ä½œä¸ºä¾‹å­ã€‚å¤§å®¶å¯èƒ½ç»å¸¸è§åˆ°è·¯ç”±å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// bla bla bla...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œ <code>Route</code> ç±»è¢«å®šä¹‰åœ¨è¿™ä¸ªå‘½åç©ºé—´ï¼š<code>Illuminate\Routing\Router</code>ï¼Œæ–‡ä»¶ <code>vendor/laravel/framework/src/Illuminate/Routing/Router.php</code>ã€‚<br>æˆ‘ä»¬é€šè¿‡æ‰“å¼€å‘ç°ï¼Œè¿™ä¸ªç±»çš„è¿™ä¸€ç³»åˆ—æ–¹æ³•ï¼Œå¦‚ <code>get</code>ï¼Œ<code>post</code>ï¼Œ<code>any</code> ç­‰éƒ½ä¸æ˜¯<strong>é™æ€ï¼ˆstaticï¼‰</strong>æ–¹æ³•ï¼Œè¿™æ˜¯æ€ä¹ˆä¸€å›äº‹å„¿ï¼Ÿä¸è¦æ€¥ï¼Œæˆ‘ä»¬ç»§ç»­ã€‚</p><h2 id="æœåŠ¡æä¾›è€…"><a href="#æœåŠ¡æä¾›è€…" class="headerlink" title="æœåŠ¡æä¾›è€…"></a>æœåŠ¡æä¾›è€…</h2><p>æˆ‘ä»¬åœ¨å‰æ–‡ä»‹ç» IoC å®¹å™¨çš„éƒ¨åˆ†ä¸­ï¼Œæåˆ°äº†ï¼Œä¸€ä¸ªç±»éœ€è¦ç»‘å®šã€æ³¨å†Œè‡³å®¹å™¨ä¸­ï¼Œæ‰èƒ½è¢«â€œåˆ¶é€ â€ã€‚</p><p>å¯¹ï¼Œä¸€ä¸ªç±»è¦è¢«å®¹å™¨æ‰€èƒ½å¤Ÿæå–ï¼Œå¿…é¡»è¦å…ˆæ³¨å†Œè‡³è¿™ä¸ªå®¹å™¨ã€‚æ—¢ç„¶ laravel ç§°è¿™ä¸ªå®¹å™¨å«åšæœåŠ¡å®¹å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æŸä¸ªæœåŠ¡ï¼Œå°±å¾—å…ˆæ³¨å†Œã€ç»‘å®šè¿™ä¸ªæœåŠ¡åˆ°å®¹å™¨ï¼Œé‚£ä¹ˆæä¾›æœåŠ¡å¹¶ç»‘å®šæœåŠ¡è‡³å®¹å™¨çš„ä¸œè¥¿ï¼Œå°±æ˜¯ <strong>æœåŠ¡æä¾›è€…ï¼ˆServiceProviderï¼‰</strong>ã€‚</p><blockquote><p>è™½ç„¶ï¼Œç»‘å®šä¸€ä¸ªç±»åˆ°å®¹å™¨ä¸ä¸€å®šéè¦é€šè¿‡ <strong>æœåŠ¡æä¾›è€…ï¼ˆServiceProviderï¼‰</strong> ã€‚</p></blockquote><blockquote><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬çš„ç±»ã€æ¨¡å—ä¼šæœ‰éœ€è¦å…¶ä»–ç±»å’Œç»„ä»¶çš„æƒ…å†µï¼Œä¸ºäº†ä¿è¯åˆå§‹åŒ–é˜¶æ®µä¸ä¼šå‡ºç°æ‰€éœ€è¦çš„æ¨¡å—å’Œç»„ä»¶æ²¡æœ‰æ³¨å†Œçš„æƒ…å†µï¼Œlaravel å°†æ³¨å†Œå’Œåˆå§‹åŒ–è¡Œä¸ºè¿›è¡Œæ‹†åˆ†ï¼Œæ³¨å†Œçš„æ—¶å€™å°±åªèƒ½æ³¨å†Œï¼Œåˆå§‹åŒ–çš„æ—¶å€™å°±æ˜¯åˆå§‹åŒ–ã€‚æ‹†åˆ†åçš„äº§ç‰©å°±æ˜¯ç°åœ¨çš„ <strong>æœåŠ¡æä¾›è€…</strong>ã€‚</p></blockquote><p>æœåŠ¡æä¾›è€…ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ<strong>registerï¼ˆæ³¨å†Œï¼‰</strong> å’Œ <strong>bootï¼ˆå¼•å¯¼ã€åˆå§‹åŒ–ï¼‰</strong>ï¼Œå…·ä½“å‚è€ƒæ–‡æ¡£ã€‚<code>register</code> è´Ÿè´£è¿›è¡Œå‘å®¹å™¨æ³¨å†Œâ€œè„šæœ¬â€ï¼Œä½†è¦æ³¨æ„æ³¨å†Œéƒ¨åˆ†ä¸è¦æœ‰å¯¹æœªçŸ¥äº‹ç‰©çš„ä¾èµ–ï¼Œå¦‚æœæœ‰ï¼Œå°±è¦ç§»æ­¥è‡³ <code>boot</code> éƒ¨åˆ†ã€‚</p><h2 id="Facade"><a href="#Facade" class="headerlink" title="Facade"></a>Facade</h2><p>æˆ‘ä»¬ç°åœ¨è§£ç­”ä¹‹å‰å…³äº <code>Route</code> çš„æ–¹æ³•ä¸ºä½•èƒ½ä»¥é™æ€æ–¹æ³•è®¿é—®çš„é—®é¢˜ã€‚å®é™…ä¸Šè¿™ä¸ªé—®é¢˜æ–‡æ¡£ä¸Šæœ‰å†™ï¼Œç®€å•è¯´æ¥å°±æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªç±»ï¼Œæä¾›ä¸€ä¸ªé™æ€é­”æœ¯æ–¹æ³•<code>__callStatic</code>ï¼Œå¹¶å°†è¯¥é™æ€æ–¹æ³•æ˜ å°„åˆ°çœŸæ­£çš„æ–¹æ³•ä¸Šã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨çš„ <code>Route</code> ç±»å®é™…ä¸Šæ˜¯ <code>Illuminate\Support\Facades\Route</code> é€šè¿‡ <code>class_alias()</code> å‡½æ•°åˆ›é€ çš„ åˆ«å è€Œå·²ï¼Œè¿™ä¸ªç±»è¢«å®šä¹‰åœ¨æ–‡ä»¶ <code>vendor/laravel/framework/src/Illuminate/Support/Facades/Route.php</code> ã€‚</p><p>æˆ‘ä»¬æ‰“å¼€æ–‡ä»¶ä¸€çœ‹â€¦â€¦è¯¶ï¼Ÿæ€ä¹ˆåªæœ‰è¿™ä¹ˆç®€å•çš„ä¸€æ®µä»£ç å‘¢ï¼Ÿ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">namespace</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> \Illuminate\Routing\Router</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Route</span> <span class="keyword">extends</span> <span class="title">Facade</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get the registered name of the component.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getFacadeAccessor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">'router'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®ä»”ç»†çœ‹ï¼Œä¼šå‘ç°è¿™ä¸ªç±»ç»§æ‰¿äº†ä¸€ä¸ªå«åš Facade çš„ç±»ï¼Œåˆ°è¿™é‡Œè°œåº•å·®ä¸å¤šè¦è§£å¼€äº†ã€‚</p><p>ä¸Šè¿°ç®€å•çš„å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† <code>getFacadeAccessor</code> æ–¹æ³•è¿”å›äº†ä¸€ä¸ª <code>route</code>ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿäº‹å®ä¸Šï¼Œè¿™ä¸ªå€¼è¢«ä¸€ä¸ª <code>ServiceProvider</code> æ³¨å†Œè¿‡ï¼Œå¤§å®¶åº”è¯¥çŸ¥é“æ³¨å†Œäº†ä¸ªä»€ä¹ˆï¼Œå½“ç„¶æ˜¯é‚£ä¸ªçœŸæ­£çš„è·¯ç”±ç±»ï¼</p><blockquote><p>æœ‰äººä¼šé—®ï¼ŒFacade æ˜¯æ€ä¹ˆå®ç°çš„ã€‚æˆ‘å¹¶ä¸æƒ³è¯´å¾—å¤ªç»†ï¼Œä¸€ä¸ªæ˜¯æˆ‘æ‡’ï¼Œå¦ä¸€ä¸ªåŸå› å°±æ˜¯ï¼Œè‡ªå·±å‘ç°ä¸€äº›ä¸œè¥¿æ›´å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸å®¹æ˜“å¿˜è®°ã€‚å¾ˆå¤šç»†èŠ‚æˆ‘å·²ç»è¯´äº†ï¼Œå»ºè®®å¤§å®¶è‡ªè¡Œå»ç ”ç©¶ã€‚</p></blockquote><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»è®²çš„å·®ä¸å¤šäº†ã€‚</p><h2 id="å’Œå¹³ï¼æˆ‘ä»¬è¯¥æ€»ç»“æ€»ç»“äº†ï¼"><a href="#å’Œå¹³ï¼æˆ‘ä»¬è¯¥æ€»ç»“æ€»ç»“äº†ï¼" class="headerlink" title="å’Œå¹³ï¼æˆ‘ä»¬è¯¥æ€»ç»“æ€»ç»“äº†ï¼"></a>å’Œå¹³ï¼æˆ‘ä»¬è¯¥æ€»ç»“æ€»ç»“äº†ï¼</h2><p>æ— è®ºå¦‚ä½•ï¼Œä¸–ç•Œå’Œå¹³äº†ã€‚</p><p>è¿™é‡Œè¦æ€»ç»“çš„å†…å®¹å°±æ˜¯ï¼Œå…¶å®å¾ˆå¤šäº‹æƒ…å¹¶ä¸å¤æ‚ï¼Œæ€•çš„æ˜¯å¤æ‚çš„ç†è®ºå†…å®¹ã€‚æˆ‘è§‰å¾—å¾ˆå¤šä¸œè¥¿ä¸€æ—¦æƒ³é€šä¹Ÿå°±é‚£ä¹ˆå›äº‹å„¿ã€‚å¾ˆå¤šäººè§‰å¾— laravel è¿™ä¸å¥½é‚£ä¸å¥½ã€è¿™é‡Œéš¾å“ªé‡Œéš¾ï¼Œæˆ‘åªèƒ½è¯´ï¼Œlaravel çš„ç¡®ä¸æ˜¯ä¸€æµå’Œä¼˜ç§€çš„æ¡†æ¶ï¼Œè¯´ laravel æ˜¯ä¸€æµã€ä¼˜ç§€çš„æ¡†æ¶çš„äººï¼Œä¸æ˜¯ laravel çš„ç²‰ä¸é‚£ä¹ˆå°±æ˜¯è·Ÿé£ç‚’ä½œã€‚Laravel æœ€å¤§çš„ç‰¹ç‚¹å’Œä¼˜ç§€ä¹‹å¤„å°±æ˜¯ä½¿ç”¨äº†å¾ˆå¤š php æ¯”è¾ƒæ–°ï¼ˆå®é™…ä¸Šå¹¶ä¸æ–°ï¼‰çš„æ¦‚å¿µå’ŒæŠ€æœ¯ï¼ˆä¹Ÿå°±ä¸€å †è¯­æ³•ç³–ï¼‰è€Œå·²ã€‚å› æ­¤ laravel çš„ç¡®ç¬¦åˆä¸€ä¸ªé€‚å®œå­¦ä¹ çš„æ¡†æ¶ã€‚Laravel çš„æ„æ€çš„ç¡®å’Œå…¶ä»–æ¡†æ¶æœ‰å¾ˆå¤§ä¸åŒï¼Œè¿™ä¹Ÿè¦æ±‚å­¦ä¹ ä»–çš„äººå¿…é¡»ç†Ÿç»ƒ phpï¼Œå¹¶ åŸºç¡€æ‰å®ï¼å¦‚æœä½ è§‰å¾—å­¦ laravel æ¡†æ¶ååˆ†å›°éš¾ï¼Œé‚£ä¹ˆåŸå› åªæœ‰ä¸€ä¸ªï¼šä½  php åŸºç¡€ä¸å¥½ã€‚</p><p>å¦å¤–ï¼Œå–„äºåˆ©ç”¨å‘½åç©ºé—´å’Œé¢å‘å¯¹è±¡çš„è¯¸å¤šç‰¹æ€§ï¼Œå»è¿½å¯»ä¸€äº›ä¸œè¥¿ï¼Œä½ ä¼šå‘ç°ï¼ŒåŸæ¥è¿™ä¸€åˆ‡è¿™ä¹ˆå®¹æ˜“ã€‚</p><h2 id="æœ€ååœ¨é€šè¿‡åè¯è§£é‡Šå›å‘³ä¸€ä¸‹å§"><a href="#æœ€ååœ¨é€šè¿‡åè¯è§£é‡Šå›å‘³ä¸€ä¸‹å§" class="headerlink" title="æœ€ååœ¨é€šè¿‡åè¯è§£é‡Šå›å‘³ä¸€ä¸‹å§"></a>æœ€ååœ¨é€šè¿‡åè¯è§£é‡Šå›å‘³ä¸€ä¸‹å§</h2><h3 id="å®¹å™¨ï¼ˆContainerï¼‰"><a href="#å®¹å™¨ï¼ˆContainerï¼‰" class="headerlink" title="å®¹å™¨ï¼ˆContainerï¼‰"></a>å®¹å™¨ï¼ˆContainerï¼‰</h3><p>åœ¨ç¼–ç¨‹è¯­å¢ƒä¸­ï¼Œå®¹å™¨æ˜¯ä¸€ä¸ªå­˜å‚¨å’Œç®¡ç†å¯¹è±¡å®ä¾‹åŠå…¶ä¾èµ–å…³ç³»çš„å®ä½“ã€‚å®ƒé€šå¸¸æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥è·å–æ‰€éœ€çš„å¯¹è±¡ï¼Œè€Œæ— éœ€å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $bindings;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bind</span><span class="params">($name, Closure $closure)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bindings[$name] = $closure;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">resolve</span><span class="params">($name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;bindings[$name])) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BindingResolutionException(<span class="string">"Unresolvable binding &#123;$name&#125;."</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;bindings[$name]();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå®¹å™¨ç±»å…è®¸å¼€å‘è€…ç»‘å®šä¸€ä¸ªåç§°ä¸é—­åŒ…ï¼ˆç”¨äºç”Ÿæˆå¯¹è±¡ï¼‰çš„å…³ç³»ï¼Œå¹¶å¯ä»¥é€šè¿‡åç§°è§£æå‡ºå¯¹è±¡å®ä¾‹ã€‚</p><h3 id="ä¾èµ–æ³¨å…¥ï¼ˆDependency-Injectionï¼‰"><a href="#ä¾èµ–æ³¨å…¥ï¼ˆDependency-Injectionï¼‰" class="headerlink" title="ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰"></a>ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰</h3><p>ä¾èµ–æ³¨å…¥æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå®ç°åº”ç”¨ç¨‹åºç»„ä»¶ä¹‹é—´çš„è§£è€¦ã€‚é€šè¿‡ä¾èµ–æ³¨å…¥ï¼Œç»„ä»¶ä¸éœ€è¦ç›´æ¥åˆ›å»ºæˆ–æŸ¥æ‰¾å…¶ä¾èµ–é¡¹ï¼Œè€Œæ˜¯ä»å¤–éƒ¨æ¥æ”¶å®ƒä»¬ã€‚è¿™é€šå¸¸é€šè¿‡æ„é€ å‡½æ•°ã€æ–¹æ³•å‚æ•°æˆ–å±æ€§è®¾ç½®å™¨æ¥å®ç°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> $userRepository;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($userRepository)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;userRepository = $userRepository;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getUser</span><span class="params">($id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;userRepository-&gt;find($id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>UserService</code> ç±»ä¸ç›´æ¥åˆ›å»º <code>userRepository</code>ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ª <code>userRepository</code> çš„å®ä¾‹ã€‚</p><h3 id="æ§åˆ¶åè½¬ï¼ˆInversion-of-Control-IoCï¼‰"><a href="#æ§åˆ¶åè½¬ï¼ˆInversion-of-Control-IoCï¼‰" class="headerlink" title="æ§åˆ¶åè½¬ï¼ˆInversion of Control, IoCï¼‰"></a>æ§åˆ¶åè½¬ï¼ˆInversion of Control, IoCï¼‰</h3><p>æ§åˆ¶åè½¬æ˜¯ä¸€ç§åŸåˆ™ï¼Œå®ƒæŒ‡çš„æ˜¯å°†æµç¨‹æ§åˆ¶çš„è´£ä»»ä»åº”ç”¨ç¨‹åºä»£ç è½¬ç§»åˆ°å¤–éƒ¨æ¡†æ¶æˆ–åº“ã€‚åœ¨å®è·µä¸­ï¼Œè¿™é€šå¸¸æ„å‘³ç€åº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶ä¸å†è´Ÿè´£ç®¡ç†å®ƒä»¬çš„ä¾èµ–å…³ç³»ï¼Œè€Œæ˜¯äº¤ç»™å®¹å™¨æˆ–æ¡†æ¶æ¥å¤„ç†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$container = <span class="keyword">new</span> Container();</span><br><span class="line">$container-&gt;bind(<span class="string">'userRepository'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UserRepository();</span><br><span class="line">&#125;);</span><br><span class="line">$container-&gt;bind(<span class="string">'userService'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> <span class="title">use</span> <span class="params">($container)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UserService($container-&gt;resolve(<span class="string">'userRepository'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$userService = $container-&gt;resolve(<span class="string">'userService'</span>);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ<code>UserService</code> çš„ä¾èµ– <code>UserRepository</code> ä¸æ˜¯ç”± <code>UserService</code> è‡ªå·±åˆ›å»ºçš„ï¼Œè€Œæ˜¯ç”±å®¹å™¨åœ¨å¤–éƒ¨åˆ›å»ºå¹¶æ³¨å…¥çš„ã€‚è¿™å°±æ˜¯æ§åˆ¶åè½¬çš„ä¸€ä¸ªä¾‹å­ï¼Œå› ä¸º <code>UserService</code> çš„æ§åˆ¶æµè¢«åè½¬ç»™äº†å®¹å™¨ã€‚</p><p>è½¬è½½ [<a href="https://www.insp.top/article/learn-laravel-container" target="_blank" rel="noopener">laravel å­¦ä¹ ç¬”è®° â€”â€” ç¥å¥‡çš„æœåŠ¡å®¹å™¨</a>]ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åè¯è§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IoCï¼šInversion of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰&lt;/li&gt;
&lt;li&gt;DIï¼šDependency Injectionï¼ˆä¾èµ–æ³¨å…¥ï¼‰&lt;/li&gt;
&lt;li&gt;å®¹å™¨ï¼šContainer&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Laravelæ¡†æ¶å¯èƒ½æ˜¯PHPå¼€å‘è€…æœ€å¸¸ç”¨çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒçš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ª&lt;strong&gt;IoCå®¹å™¨&lt;/strong&gt;ï¼Œæ ¹æ®æ–‡æ¡£ç§°å…¶ä¸º&lt;strong&gt;æœåŠ¡å®¹å™¨&lt;/strong&gt;ï¼Œé¡¾åæ€ä¹‰è¯¥å®¹å™¨æä¾›äº†æ•´ä¸ªæ¡†æ¶ä¸­éœ€è¦çš„ä¸€ç³»åˆ—æœåŠ¡ã€‚ä½œä¸ºåˆå­¦è€…å¾ˆå¤šäººä¼šåœ¨è¿™ä¸€ä¸ªæ¦‚å¿µä¸ŠçŠ¯éš¾ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»ä¸€äº›åŸºç¡€çš„å†…å®¹å¼€å§‹è®²è§£ï¼Œé€šè¿‡ç†è§£é¢å‘å¯¹è±¡å¼€å‘ä¸­ä¾èµ–çš„ç”Ÿäº§å’Œè§£å†³æ–¹æ³•ï¼Œæ¥é€æ­¥æ­å¼€â€œä¾èµ–æ³¨å…¥â€çš„é¢çº±ï¼Œé€æ¸ç†è§£è¿™ä¸€ç¥å¥‡çš„è®¾è®¡ç†å¿µã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://xinyufeng.net/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://xinyufeng.net/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Webå¼€å‘ä¸­çš„ç½‘ç»œå®‰å…¨: å¸¸è§æ”»å‡»åŠé˜²èŒƒç­–ç•¥</title>
    <link href="https://xinyufeng.net/2024/04/26/Web%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8-%E5%B8%B8%E8%A7%81%E6%94%BB%E5%87%BB%E5%8F%8A%E9%98%B2%E8%8C%83%E7%AD%96%E7%95%A5/"/>
    <id>https://xinyufeng.net/2024/04/26/Webå¼€å‘ä¸­çš„ç½‘ç»œå®‰å…¨-å¸¸è§æ”»å‡»åŠé˜²èŒƒç­–ç•¥/</id>
    <published>2024-04-26T01:15:06.000Z</published>
    <updated>2024-04-26T07:04:24.738Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Webå¼€å‘çš„ä¸–ç•Œé‡Œï¼Œç½‘ç»œæ”»å‡»æ˜¯ä¸€ç§å¸¸è§ä¸”æ½œåœ¨çš„å¨èƒã€‚ç†è§£è¿™äº›æ”»å‡»å¦‚ä½•è¿ä½œå¹¶é‡‡å–æªæ–½é˜²èŒƒå®ƒä»¬å¯¹äºæ„å»ºå®‰å…¨çš„Webåº”ç”¨è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†ä»‹ç»å‡ ç§å¸¸è§çš„Webæ”»å‡»ï¼Œæä¾›é˜²èŒƒç­–ç•¥ï¼Œå¹¶ä»¥å®ä¾‹è¯´æ˜å¦‚ä½•é˜²æ­¢è¿™äº›æ”»å‡»ã€‚</p><a id="more"></a><h2 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h2><p><strong>æ¦‚è¦:</strong></p><p>SQLæ³¨å…¥æ”»å‡»æ˜¯æ”»å‡»è€…åœ¨Webè¡¨å•è¾“å…¥æˆ–URLæŸ¥è¯¢å‚æ•°ä¸­æ’å…¥æ¶æ„çš„SQLè¯­å¥ï¼Œæ—¨åœ¨æ“ä½œåç«¯æ•°æ®åº“ã€‚</p><p><strong>å®ä¾‹:</strong></p><p>å‡è®¾ä¸€ä¸ªç½‘ç«™çš„ç™»å½•URLæ˜¯<code>http://example.com/login?username=user&amp;password=pass</code>ï¼Œ<br>å¦‚æœæ”»å‡»è€…æ›´æ”¹æ­¤URLä¸º<code>http://example.com/login?username=admin&#39;%20--%20&amp;password=aabb</code>, å¹¶ä¸”åº”ç”¨ç¨‹åºæ²¡æœ‰å°†è¾“å…¥ä½œä¸ºå­—ç¬¦ä¸²å¤„ç†ï¼Œ<br>åˆ™ä¼šæ‰§è¡Œ<code>SELECT * FROM users WHERE username=&#39;admin&#39; -- &#39; AND password=&#39;aabb&#39;</code>ï¼Œ<br>ç”±äº<code>--</code>æ³¨é‡Šäº†åé¢çš„SQLè¯­å¥ï¼Œæ‰€ä»¥æœ€ç»ˆSQLè¯­å¥ä¸º<code>SELECT * FROM users WHERE username=&#39;admin&#39;</code>ï¼Œ<br>é‚£ä¹ˆè¿™ä¸ªSQLæ³¨å…¥å°±ä¼šç»•è¿‡èº«ä»½éªŒè¯ã€‚</p><p><strong>é˜²èŒƒç­–ç•¥:</strong></p><ol><li><strong>ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢</strong>ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢å¯ä»¥æœ‰æ•ˆé˜²æ­¢SQLæ³¨å…¥æ”»å‡»ï¼Œå› ä¸ºå‚æ•°åŒ–æŸ¥è¯¢ä¼šå°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè€Œä¸æ˜¯ç›´æ¥æ‹¼æ¥åˆ°SQLè¯­å¥ä¸­ã€‚</li><li><strong>è¾“å…¥éªŒè¯å’Œè¿‡æ»¤</strong>ï¼šå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯å’Œè¿‡æ»¤ï¼Œç¡®ä¿åªæ¥å—ç¬¦åˆé¢„æœŸæ ¼å¼çš„æ•°æ®ã€‚</li><li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šæ•°æ®åº“ç”¨æˆ·åº”è¯¥ä»¥æœ€å°æƒé™åŸåˆ™è¿›è¡Œé…ç½®ï¼Œå³ç»™äºˆåº”ç”¨ç¨‹åºè®¿é—®æ•°æ®åº“çš„æœ€å°æƒé™ï¼Œé¿å…è¿‡é«˜çš„æƒé™çº§åˆ«ã€‚</li><li><strong>é”™è¯¯æ¶ˆæ¯å¤„ç†</strong>ï¼šé¿å…å°†æ•°æ®åº“é”™è¯¯ä¿¡æ¯ç›´æ¥æš´éœ²ç»™ç”¨æˆ·ï¼Œè¿™å¯èƒ½ä¼šæ³„éœ²æ•æ„Ÿä¿¡æ¯ç»™æ”»å‡»è€…ã€‚</li><li><strong>å®šæœŸæ›´æ–°å’Œç›‘æ§</strong>ï¼šå®šæœŸæ›´æ–°æ•°æ®åº“å’Œåº”ç”¨ç¨‹åºï¼Œç›‘æ§æ•°æ®åº“æ“ä½œæ—¥å¿—ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æ“ä½œã€‚</li></ol><h2 id="è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰"><a href="#è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰" class="headerlink" title="è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰"></a>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰</h2><p><strong>æ¦‚è¦:</strong></p><p>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰æ˜¯ä¸€ç§åˆ©ç”¨Webåº”ç”¨æ¼æ´å°†æ¶æ„ä»£ç æ³¨å…¥åˆ°Webé¡µé¢ä¸Šçš„æ”»å‡»ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨XSSæ¼æ´å°†æ¶æ„ä»£ç æ³¨å…¥åˆ°Webé¡µé¢ä¸­ï¼Œç„¶åé€šè¿‡ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–æ‰“å¼€ç‰¹æ®Šé“¾æ¥æ¥æ‰§è¡Œæ¶æ„ä»£ç ã€‚</p><p><strong>å®ä¾‹:</strong></p><p>å‡è®¾ä¸€ä¸ªç½‘ç«™æœ‰ä¸€ä¸ªè¯„è®ºåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥è¯„è®ºå†…å®¹ï¼Œç„¶åè¯„è®ºå†…å®¹ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚å¦‚æœæ”»å‡»è€…å°†æ¶æ„ä»£ç ï¼ˆä¾‹å¦‚<code>&lt;script&gt;alert(&#39;XSS&#39;);&lt;/script&gt;</code>ï¼‰æ³¨å…¥åˆ°è¯„è®ºå†…å®¹ä¸­ï¼Œ<br>å½“å…¶ä»–ç”¨æˆ·æŸ¥çœ‹è¿™æ¡è¯„è®ºæ—¶ï¼Œè¿™æ®µè„šæœ¬ä¼šåœ¨ä»–ä»¬çš„æµè§ˆå™¨ä¸Šæ‰§è¡Œï¼Œä»è€Œçªƒå–ç”¨æˆ·ä¿¡æ¯æˆ–æ‰§è¡Œå…¶ä»–æ¶æ„æ“ä½œã€‚</p><p><strong>é˜²èŒƒç­–ç•¥:</strong></p><ol><li><strong>è¾“å…¥éªŒè¯å’Œè¿‡æ»¤</strong>ï¼šå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯å’Œè¿‡æ»¤ï¼Œç¡®ä¿åªæ¥å—ç¬¦åˆé¢„æœŸæ ¼å¼çš„æ•°æ®ã€‚</li><li><strong>è¾“å‡ºç¼–ç </strong>ï¼šå¯¹è¾“å‡ºæ•°æ®è¿›è¡Œç¼–ç ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…é€šè¿‡ç¼–ç æ–¹å¼æ³¨å…¥æ¶æ„ä»£ç ã€‚</li><li><strong>ç™½åå•è¿‡æ»¤</strong>ï¼šä½¿ç”¨ç™½åå•è¿‡æ»¤ï¼Œåªå…è®¸æŒ‡å®šçš„HTMLæ ‡ç­¾å’Œå±æ€§ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•æ ‡ç­¾æˆ–å±æ€§æ³¨å…¥æ¶æ„ä»£ç ã€‚</li><li><strong>ä¸¥æ ¼Content-Security-Policyï¼ˆCSPï¼‰</strong>ï¼šä½¿ç”¨CSPæ¥é™åˆ¶é¡µé¢åŠ è½½çš„èµ„æºï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•èµ„æºæ³¨å…¥æ¶æ„ä»£ç ã€‚</li><li><strong>å®šæœŸæ›´æ–°å’Œç›‘æ§</strong>ï¼šå®šæœŸæ›´æ–°Webåº”ç”¨å’Œæµè§ˆå™¨ï¼Œç›‘æ§Webåº”ç”¨å’Œæµè§ˆå™¨çš„æ—¥å¿—ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æ“ä½œã€‚</li></ol><h2 id="è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰"><a href="#è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰" class="headerlink" title="è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰"></a>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰</h2><p><strong>æ¦‚è¦:</strong></p><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰æ˜¯ä¸€ç§åˆ©ç”¨Webåº”ç”¨æ¼æ´å°†æ¶æ„è¯·æ±‚æ³¨å…¥åˆ°Webé¡µé¢ä¸Šçš„æ”»å‡»ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨CSRFæ¼æ´å°†æ¶æ„è¯·æ±‚æ³¨å…¥åˆ°Webé¡µé¢ä¸­ï¼Œç„¶åé€šè¿‡ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–æ‰“å¼€ç‰¹æ®Šé“¾æ¥æ¥æ‰§è¡Œæ¶æ„è¯·æ±‚ã€‚</p><p><strong>å®ä¾‹:</strong></p><p>ç”¨æˆ·ç™»å½•åˆ°ä»–ä»¬çš„é“¶è¡Œè´¦æˆ·ï¼Œå¹¶åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæ‰“å¼€äº†ä¸€ä¸ªçœ‹ä¼¼æ— å®³çš„ç½‘ç«™ã€‚è¿™ä¸ªç½‘ç«™åŒ…å«äº†ä¸€ä¸ªçœ‹ä¸è§çš„è¡¨å•ï¼Œè‡ªåŠ¨æäº¤è½¬è´¦åˆ°æ”»å‡»è€…è´¦æˆ·çš„è¯·æ±‚ã€‚ç”±äºç”¨æˆ·å·²ç»ç™»å½•ï¼Œè¯·æ±‚å¸¦æœ‰æœ‰æ•ˆçš„è®¤è¯ï¼Œæ‰€ä»¥è½¬è´¦å¾—ä»¥æ‰§è¡Œã€‚</p><p><strong>é˜²èŒƒç­–ç•¥:</strong></p><ol><li><strong>éªŒè¯æ¥æº</strong>ï¼šåœ¨è¯·æ±‚ä¸­éªŒè¯æ¥æºï¼Œç¡®ä¿è¯·æ±‚æ¥è‡ªå—ä¿¡ä»»çš„æ¥æºã€‚</li><li><strong>ä½¿ç”¨CSRFä»¤ç‰Œ</strong>ï¼šåœ¨æ¯ä¸ªè¯·æ±‚ä¸­åŒ…å«ä¸€ä¸ªå”¯ä¸€çš„CSRFä»¤ç‰Œï¼Œå¹¶åœ¨æœåŠ¡å™¨ç«¯éªŒè¯ä»¤ç‰Œã€‚</li><li><strong>ä½¿ç”¨åŒæºç­–ç•¥å’ŒCORS</strong>ï¼šä½¿ç”¨åŒæºç­–ç•¥å’ŒCORSæ¥é™åˆ¶è·¨åŸŸè¯·æ±‚ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•è¯·æ±‚æ³¨å…¥è¯·æ±‚ã€‚</li><li><strong>ä¸¥æ ¼Content-Security-Policyï¼ˆCSPï¼‰</strong>ï¼šä½¿ç”¨CSPæ¥é™åˆ¶é¡µé¢åŠ è½½çš„èµ„æºï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•èµ„æºæ³¨å…¥è¯·æ±‚ã€‚</li><li><strong>å®šæœŸæ›´æ–°å’Œç›‘æ§</strong>ï¼šå®šæœŸæ›´æ–°Webåº”ç”¨å’Œæµè§ˆå™¨ï¼Œç›‘æ§Webåº”ç”¨å’Œæµè§ˆå™¨çš„æ—¥å¿—ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æ“ä½œã€‚</li></ol><h2 id="æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSï¼‰"><a href="#æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSï¼‰" class="headerlink" title="æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSï¼‰"></a>æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSï¼‰</h2><p><strong>æ¦‚è¦:</strong></p><p>æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSï¼‰æ˜¯ä¸€ç§åˆ©ç”¨Webåº”ç”¨æ¼æ´å°†æœåŠ¡å™¨æˆ–ç½‘ç»œèµ„æºè€—å°½çš„æ”»å‡»ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨DoSæ¼æ´å°†æœåŠ¡å™¨æˆ–ç½‘ç»œèµ„æºè€—å°½ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨æˆ–æ‹’ç»æœåŠ¡ã€‚</p><p><strong>å®ä¾‹:</strong></p><p>å‡è®¾ä¸€ä¸ªç½‘ç«™æœ‰ä¸€ä¸ªè¯„è®ºåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥è¯„è®ºå†…å®¹ï¼Œç„¶åè¯„è®ºå†…å®¹ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚å¦‚æœæ”»å‡»è€…å°†å¤§é‡çš„æ¶æ„è¯·æ±‚æ³¨å…¥åˆ°è¯„è®ºåŠŸèƒ½ä¸­ï¼Œ<br>å½“æœåŠ¡å™¨æˆ–ç½‘ç»œèµ„æºè€—å°½æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥å¯¼è‡´æœåŠ¡å™¨æˆ–ç½‘ç»œèµ„æºè€—å°½ï¼Œä»è€Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨æˆ–æ‹’ç»æœåŠ¡ã€‚</p><p><strong>é˜²èŒƒç­–ç•¥:</strong></p><ol><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šä½¿ç”¨è´Ÿè½½å‡è¡¡æ¥åˆ†æ•£è¯·æ±‚ï¼Œé˜²æ­¢å•ä¸ªæœåŠ¡å™¨æˆ–ç½‘ç»œèµ„æºè€—å°½ã€‚</li><li><strong>æµé‡æ§åˆ¶</strong>ï¼šä½¿ç”¨æµé‡æ§åˆ¶æ¥é™åˆ¶è¯·æ±‚çš„é€Ÿç‡ï¼Œé˜²æ­¢å•ä¸ªæœåŠ¡å™¨æˆ–ç½‘ç»œèµ„æºè€—å°½ã€‚</li><li><strong>é‡‡ç”¨äº‘é˜²å¾¡æœåŠ¡</strong>ï¼šä½¿ç”¨äº‘é˜²å¾¡æœåŠ¡æ¥ä¿æŠ¤Webåº”ç”¨ï¼Œä¾‹å¦‚AWS Shieldã€Cloudflareã€é˜¿é‡Œäº‘çš„äº‘ç›¾ç­‰ã€‚</li><li><strong>å®šæ—¶æ›´æ–°å’Œç›‘æ§</strong>ï¼šå®šæœŸæ›´æ–°Webåº”ç”¨å’Œæµè§ˆå™¨ï¼Œç›‘æ§Webåº”ç”¨å’Œæµè§ˆå™¨çš„æ—¥å¿—ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æ“ä½œã€‚</li></ol><h2 id="æœ¬åœ°æ–‡ä»¶åŒ…å«ï¼ˆLFIï¼‰"><a href="#æœ¬åœ°æ–‡ä»¶åŒ…å«ï¼ˆLFIï¼‰" class="headerlink" title="æœ¬åœ°æ–‡ä»¶åŒ…å«ï¼ˆLFIï¼‰"></a>æœ¬åœ°æ–‡ä»¶åŒ…å«ï¼ˆLFIï¼‰</h2><p><strong>æ¦‚è¦:</strong></p><p>æœ¬åœ°æ–‡ä»¶åŒ…å«æ”»å‡»å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºåŒ…å«åŠ¨æ€æ–‡ä»¶æ—¶ï¼Œä½†æ²¡æœ‰é€‚å½“éªŒè¯ç”¨æˆ·çš„è¾“å…¥ã€‚</p><p><strong>å®ä¾‹:</strong></p><p>ç½‘ç«™URLå¦‚<code>http://example.com/index.php?page=about</code>ç”¨äºåŠ¨æ€åŠ è½½é¡µé¢å†…å®¹ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ›´æ”¹URLä¸º<code>http://example.com/index.php?page=../../../../etc/passwd</code>æ¥å°è¯•è®¿é—®æ•æ„Ÿçš„æœåŠ¡å™¨æ–‡ä»¶ã€‚</p><p><strong>é˜²èŒƒç­–ç•¥:</strong></p><ol><li><strong>è¾“å…¥éªŒè¯å’Œè¿‡æ»¤</strong>ï¼šå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯å’Œè¿‡æ»¤ï¼Œç¡®ä¿åªæ¥å—ç¬¦åˆé¢„æœŸæ ¼å¼çš„æ•°æ®ã€‚</li><li><strong>ç™½åå•è¿‡æ»¤</strong>ï¼šä½¿ç”¨ç™½åå•è¿‡æ»¤ï¼Œåªå…è®¸æŒ‡å®šçš„æ–‡ä»¶ç±»å‹ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•æ–‡ä»¶ç±»å‹æ³¨å…¥æ¶æ„ä»£ç ã€‚</li><li><strong>é™åˆ¶æ–‡ä»¶åŒ…å«å‡½æ•°åªèƒ½åŠ è½½ç‰¹å®šç›®å½•ä¸‹çš„æ–‡ä»¶</strong>ï¼šä½¿ç”¨é™åˆ¶æ–‡ä»¶åŒ…å«å‡½æ•°åªèƒ½åŠ è½½ç‰¹å®šç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•æ–‡ä»¶è·¯å¾„æ³¨å…¥æ¶æ„ä»£ç ã€‚</li><li><strong>ç¦ç”¨ä¸å¿…è¦çš„PHPåŠŸèƒ½</strong>ï¼šä¾‹å¦‚eval()å‡½æ•°ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡éæ³•å‡½æ•°æ³¨å…¥æ¶æ„ä»£ç ã€‚</li></ol><h2 id="DNSåŠ«æŒ"><a href="#DNSåŠ«æŒ" class="headerlink" title="DNSåŠ«æŒ"></a>DNSåŠ«æŒ</h2><p><strong>æ¦‚è¦:</strong></p><p>DNSåŠ«æŒæ”»å‡»å‘ç”Ÿåœ¨DNSæœåŠ¡å™¨è¢«æ”»å‡»æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥åŠ«æŒDNSæœåŠ¡å™¨ï¼Œå°†ç”¨æˆ·æŒ‡å‘æ¶æ„ç½‘ç«™ã€‚</p><p><strong>å®ä¾‹:</strong></p><p>å‡è®¾DNSæœåŠ¡å™¨è¢«æ”»å‡»ï¼Œæ”»å‡»è€…å¯ä»¥åŠ«æŒDNSæœåŠ¡å™¨ï¼Œå°†ç”¨æˆ·æŒ‡å‘æ¶æ„ç½‘ç«™ã€‚</p><p><strong>é˜²èŒƒç­–ç•¥:</strong></p><ol><li><strong>å®šæœŸæ›´æ–°DNSæœåŠ¡å™¨</strong>ï¼šå®šæœŸæ›´æ–°DNSæœåŠ¡å™¨ï¼Œç¡®ä¿DNSæœåŠ¡å™¨çš„é…ç½®æ­£ç¡®ã€‚</li><li><strong>ä½¿ç”¨DNSç¼“å­˜</strong>ï¼šä½¿ç”¨DNSç¼“å­˜ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡DNSåŠ«æŒæ”»å‡»ã€‚</li><li><strong>ä½¿ç”¨DNSSEC</strong>ï¼šä½¿ç”¨DNSSECï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡DNSåŠ«æŒæ”»å‡»ã€‚</li><li><strong>å®šæœŸæ›´æ–°å’Œç›‘æ§</strong>ï¼šå®šæœŸæ›´æ–°DNSæœåŠ¡å™¨å’ŒDNSSECï¼Œç›‘æ§DNSæœåŠ¡å™¨çš„æ—¥å¿—ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸æ“ä½œã€‚</li></ol><p>Webå®‰å…¨ä¸æ˜¯ä¸€ä¸ªä¸€æ¬¡æ€§çš„ä»»åŠ¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ã€‚é€šè¿‡ç†è§£å„ç§Webæ”»å‡»ï¼Œå®æ–½åˆé€‚çš„é˜²å¾¡æªæ–½ï¼Œå¹¶å®šæœŸè¿›è¡Œå®‰å…¨å®¡è®¡ï¼Œä½ å°†èƒ½å¤Ÿå»ºç«‹ä¸€ä¸ªæ›´åŠ å®‰å…¨çš„ç½‘ç»œç¯å¢ƒã€‚å¼€å‘äººå‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜å’Œæ‰€æœ‰ITä¸“ä¸šäººå‘˜éƒ½åº”è‡´åŠ›äºæé«˜ä»–ä»¬çš„ç½‘ç»œå®‰å…¨çŸ¥è¯†ï¼Œä»¥è¥é€ ä¸€ä¸ªæ›´ä¸ºå®‰å…¨çš„ç½‘ç»œç©ºé—´ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨Webå¼€å‘çš„ä¸–ç•Œé‡Œï¼Œç½‘ç»œæ”»å‡»æ˜¯ä¸€ç§å¸¸è§ä¸”æ½œåœ¨çš„å¨èƒã€‚ç†è§£è¿™äº›æ”»å‡»å¦‚ä½•è¿ä½œå¹¶é‡‡å–æªæ–½é˜²èŒƒå®ƒä»¬å¯¹äºæ„å»ºå®‰å…¨çš„Webåº”ç”¨è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†ä»‹ç»å‡ ç§å¸¸è§çš„Webæ”»å‡»ï¼Œæä¾›é˜²èŒƒç­–ç•¥ï¼Œå¹¶ä»¥å®ä¾‹è¯´æ˜å¦‚ä½•é˜²æ­¢è¿™äº›æ”»å‡»ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç½‘ç»œå®‰å…¨" scheme="https://xinyufeng.net/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="ç½‘ç»œæ”»å‡»" scheme="https://xinyufeng.net/tags/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
  <entry>
    <title>ç›¸åŒåœ°åŸŸäº‘æœåŠ¡å™¨é—´å†…ç½‘é€šä¿¡é…ç½®</title>
    <link href="https://xinyufeng.net/2024/04/08/%E7%9B%B8%E5%90%8C%E5%9C%B0%E5%9F%9F%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%97%B4%E5%86%85%E7%BD%91%E9%80%9A%E4%BF%A1%E9%85%8D%E7%BD%AE/"/>
    <id>https://xinyufeng.net/2024/04/08/ç›¸åŒåœ°åŸŸäº‘æœåŠ¡å™¨é—´å†…ç½‘é€šä¿¡é…ç½®/</id>
    <published>2024-04-08T00:48:56.000Z</published>
    <updated>2024-04-08T01:24:47.757Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ä»¥é˜¿é‡Œäº‘äº‘æœåŠ¡å™¨ä¸ºä¾‹ï¼Œå®ç°ç›¸åŒåœ°åŸŸä¸¤å°æœåŠ¡å™¨é—´å†…ç½‘é“¾æ¥MySQLæ•°æ®åº“ã€‚</p><p>æœåŠ¡å™¨Aï¼šå†…ç½‘IPï¼š10.10.10.100ï¼Œå¹¶æ­å»ºMySQLæ•°æ®åº“ã€‚<br>æœåŠ¡å™¨Bï¼šå†…ç½‘IPï¼š10.10.10.101ã€‚</p><p>å¦‚æœä¸¤å°æœåŠ¡å™¨ç½‘ç»œæ˜¯<strong>ä¸“æœ‰ç½‘ç»œ</strong>ï¼Œåˆ™éœ€è¦ä¿è¯è¿™ä¸¤å°æœåŠ¡å™¨åœ¨<strong>åŒä¸€ä¸ªä¸“æœ‰ç½‘ç»œ</strong>ä¸‹ï¼Œå¦åˆ™ä¸¤å°æœåŠ¡å™¨æ— æ³•äº’ç›¸è®¿é—®ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥åœ¨åŒä¸€ä¸ªä¸“æœ‰ç½‘ç»œä¸ºä¾‹ã€‚</p><h2 id="æœåŠ¡å™¨é—´pingæµ‹è¯•"><a href="#æœåŠ¡å™¨é—´pingæµ‹è¯•" class="headerlink" title="æœåŠ¡å™¨é—´pingæµ‹è¯•"></a>æœåŠ¡å™¨é—´pingæµ‹è¯•</h2><p>å…ˆç™»å½•æœåŠ¡å™¨Bå‘½ä»¤è¡Œæ‰§è¡Œpingå‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦å¯ä»¥è®¿é—®æœåŠ¡å™¨A</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ping 10.10.10.100 -c 3</span></span><br><span class="line">PING 10.25.0.70 (10.10.10.100) 56(84) bytes of data.</span><br><span class="line">64 bytes from 10.10.10.100: icmp_seq=1 ttl=64 time=2.74 ms</span><br><span class="line">64 bytes from 10.10.10.100: icmp_seq=2 ttl=64 time=2.66 ms</span><br><span class="line">64 bytes from 10.10.10.100: icmp_seq=3 ttl=64 time=2.66 ms</span><br></pre></td></tr></table></figure><p>å¦‚æœè®¿é—®å¤±è´¥ï¼Œå†æ¬¡æŸ¥çœ‹ä¸¤å°æœåŠ¡å™¨ç½‘ç»œç¯å¢ƒæ˜¯å¦ä¸€è‡´ã€‚</p><h2 id="é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„"><a href="#é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„" class="headerlink" title="é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„"></a>é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„</h2><p>ç™»å½•é˜¿é‡Œäº‘å¹³å°ï¼Œåœ¨æœåŠ¡å™¨æ‰€åœ¨çš„å®‰å…¨ç»„é…ç½®è®¿é—®è§„åˆ™</p><a id="more"></a><ul><li>åè®®ç±»å‹ï¼šTCP</li><li>ç«¯å£èŒƒå›´ï¼š3306/3306</li><li>æˆæƒå¯¹è±¡: 10.10.10.101</li></ul><h2 id="é…ç½®æœåŠ¡å™¨é˜²ç«å¢™"><a href="#é…ç½®æœåŠ¡å™¨é˜²ç«å¢™" class="headerlink" title="é…ç½®æœåŠ¡å™¨é˜²ç«å¢™"></a>é…ç½®æœåŠ¡å™¨é˜²ç«å¢™</h2><p>åœ¨æœåŠ¡å™¨Aç³»ç»Ÿé˜²ç«å¢™é…ç½®è®¿é—®è§„åˆ™</p><ul><li>åè®®: TCP</li><li>ç«¯å£: 3306</li><li>ç­–ç•¥: å…è®¸</li><li>æ¥æº: 10.10.10.101</li></ul><h2 id="æ•°æ®åº“é“¾æ¥é…ç½®"><a href="#æ•°æ®åº“é“¾æ¥é…ç½®" class="headerlink" title="æ•°æ®åº“é“¾æ¥é…ç½®"></a>æ•°æ®åº“é“¾æ¥é…ç½®</h2><p>åŸåˆ™ä¸Šï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸å¯¹å¤–ä½¿ç”¨æ•°æ®åº“çš„rootè´¦å·</p><p>æ–°å»ºä¸€ä¸ªç”¨æˆ·</p><ul><li>ç”¨æˆ·å: whiteï¼ˆç”¨æˆ·åéšæ„å®šä¹‰ï¼‰</li><li>ä¸»æœº: 10.10.10.101ï¼ˆæœåŠ¡å™¨Bçš„å†…ç½‘IPï¼‰</li><li>å¯†ç : 123456ï¼ˆå¯†ç éšæ„å®šä¹‰ï¼‰</li><li>ç¡®è®¤å¯†ç : 123456</li></ul><p>ç»™ç”¨æˆ·é…ç½®æƒé™</p><p>ä¸ºäº†é…ç½®æƒé™ï¼Œé¦–å…ˆåœ¨æœåŠ¡å™¨Açš„MySQLæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œæ¯”å¦‚<code>common_db</code>ï¼Œç„¶åç»™æ–°å»ºçš„ç”¨æˆ·é…ç½®æƒé™ï¼Œé€‰æ‹©æ•°æ®åº“<code>common_db</code>ï¼Œåé¢çš„æƒé™è‡ªè¡Œé…ç½®ã€‚</p><h2 id="æ•°æ®åº“é“¾æ¥"><a href="#æ•°æ®åº“é“¾æ¥" class="headerlink" title="æ•°æ®åº“é“¾æ¥"></a>æ•°æ®åº“é“¾æ¥</h2><p>åœ¨æœåŠ¡å™¨Bå‘½ä»¤è¡Œï¼Œæ‰§è¡Œå‘½ä»¤é“¾æ¥æ•°æ®åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysql -h10.10.10.100 -P3306 -uwhite -p</span></span><br><span class="line">Enter password:</span><br></pre></td></tr></table></figure><p>å‡ºç°å¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºé“¾æ¥æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysql -h10.10.10.100 -P3306 -uwhite -p</span></span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 14</span><br><span class="line">Server version: 5.7.44-log Source distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| common_db            |</span><br><span class="line">+--------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®ç°äº†æœåŠ¡å™¨é—´å†…ç½‘é“¾æ¥MySQLæ•°æ®åº“ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬ä»¥é˜¿é‡Œäº‘äº‘æœåŠ¡å™¨ä¸ºä¾‹ï¼Œå®ç°ç›¸åŒåœ°åŸŸä¸¤å°æœåŠ¡å™¨é—´å†…ç½‘é“¾æ¥MySQLæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨Aï¼šå†…ç½‘IPï¼š10.10.10.100ï¼Œå¹¶æ­å»ºMySQLæ•°æ®åº“ã€‚&lt;br&gt;æœåŠ¡å™¨Bï¼šå†…ç½‘IPï¼š10.10.10.101ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸¤å°æœåŠ¡å™¨ç½‘ç»œæ˜¯&lt;strong&gt;ä¸“æœ‰ç½‘ç»œ&lt;/strong&gt;ï¼Œåˆ™éœ€è¦ä¿è¯è¿™ä¸¤å°æœåŠ¡å™¨åœ¨&lt;strong&gt;åŒä¸€ä¸ªä¸“æœ‰ç½‘ç»œ&lt;/strong&gt;ä¸‹ï¼Œå¦åˆ™ä¸¤å°æœåŠ¡å™¨æ— æ³•äº’ç›¸è®¿é—®ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥åœ¨åŒä¸€ä¸ªä¸“æœ‰ç½‘ç»œä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æœåŠ¡å™¨é—´pingæµ‹è¯•&quot;&gt;&lt;a href=&quot;#æœåŠ¡å™¨é—´pingæµ‹è¯•&quot; class=&quot;headerlink&quot; title=&quot;æœåŠ¡å™¨é—´pingæµ‹è¯•&quot;&gt;&lt;/a&gt;æœåŠ¡å™¨é—´pingæµ‹è¯•&lt;/h2&gt;&lt;p&gt;å…ˆç™»å½•æœåŠ¡å™¨Bå‘½ä»¤è¡Œæ‰§è¡Œpingå‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦å¯ä»¥è®¿é—®æœåŠ¡å™¨A&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ping 10.10.10.100 -c 3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PING 10.25.0.70 (10.10.10.100) 56(84) bytes of data.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64 bytes from 10.10.10.100: icmp_seq=1 ttl=64 time=2.74 ms&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64 bytes from 10.10.10.100: icmp_seq=2 ttl=64 time=2.66 ms&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64 bytes from 10.10.10.100: icmp_seq=3 ttl=64 time=2.66 ms&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœè®¿é—®å¤±è´¥ï¼Œå†æ¬¡æŸ¥çœ‹ä¸¤å°æœåŠ¡å™¨ç½‘ç»œç¯å¢ƒæ˜¯å¦ä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„&quot;&gt;&lt;a href=&quot;#é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„&quot;&gt;&lt;/a&gt;é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„&lt;/h2&gt;&lt;p&gt;ç™»å½•é˜¿é‡Œäº‘å¹³å°ï¼Œåœ¨æœåŠ¡å™¨æ‰€åœ¨çš„å®‰å…¨ç»„é…ç½®è®¿é—®è§„åˆ™&lt;/p&gt;
    
    </summary>
    
      <category term="è¿ç»´" scheme="https://xinyufeng.net/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="äº‘æœåŠ¡å™¨" scheme="https://xinyufeng.net/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="é€šä¿¡" scheme="https://xinyufeng.net/tags/%E9%80%9A%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å®‰è£…PHPæ‰©å±•</title>
    <link href="https://xinyufeng.net/2023/07/12/%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85PHP%E6%89%A9%E5%B1%95/"/>
    <id>https://xinyufeng.net/2023/07/12/å¦‚ä½•å®‰è£…PHPæ‰©å±•/</id>
    <published>2023-07-12T08:38:25.000Z</published>
    <updated>2023-07-12T08:40:35.043Z</updated>
    
    <content type="html"><![CDATA[<p>PECLï¼ˆPHP Extension Community Libraryï¼‰æ˜¯ PHP çš„æ‰©å±•åº“ï¼Œå®ƒæä¾›äº†ä¸€äº› PHP æ‰©å±•ï¼Œå¯ä»¥å¢å¼º PHP çš„åŠŸèƒ½ã€‚æ‰€æœ‰æ‰©å±•åŒ…åˆ—è¡¨æŸ¥è¯¢åœ°å€ï¼š<a href="https://pecl.php.net/package-stats.php" target="_blank" rel="noopener">https://pecl.php.net/package-stats.php</a></p><h2 id="Window-ä¸Šå®‰è£…PHPæ‰©å±•"><a href="#Window-ä¸Šå®‰è£…PHPæ‰©å±•" class="headerlink" title="Window ä¸Šå®‰è£…PHPæ‰©å±•"></a>Window ä¸Šå®‰è£…PHPæ‰©å±•</h2><p>åœ¨PECLä¸Šæ‰¾åˆ°æ‰€éœ€è¦çš„PHPæ‰©å±•ï¼Œç‚¹å‡»æœ‰DLLæ ‡è¯†çš„é“¾æ¥åœ°å€ï¼Œè¿›è¡Œå¯¹åº”PHPç‰ˆæœ¬çš„èµ„æºä¸‹è½½ï¼Œä½†æ˜¯ä½ éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹é—®é¢˜ï¼š</p><ul><li>VC6 æ˜¯è¿è¡Œäº Apache æœåŠ¡å™¨ï¼›</li><li>Thread safeï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰æ˜¯ä»¥æ¨¡å—å½¢å¼è¿è¡Œåœ¨ Apache ä¸Šï¼Œå¦‚æœä½ ä»¥ CGI çš„æ¨¡å¼è¿è¡Œ PHPï¼Œè¯·é€‰æ‹©éçº¿ç¨‹å®‰å…¨æ¨¡å¼ï¼ˆnon-thread safeï¼‰ï¼›</li><li>VC9 æ˜¯è¿è¡Œäº IIS æœåŠ¡å™¨ä¸Šï¼›</li><li>ä¸‹è½½å®Œä½ éœ€è¦çš„äºŒè¿›åˆ¶åŒ…åï¼Œè§£å‹å‹ç¼©åŒ…ï¼Œå°† php_mongodb.dll æ–‡ä»¶æ·»åŠ åˆ°ä½ çš„PHPæ‰©å±•ç›®å½•ä¸­ï¼ˆextï¼‰ã€‚ext ç›®å½•é€šå¸¸åœ¨ PHP å®‰è£…ç›®å½•ä¸‹çš„ ext ç›®å½•ã€‚</li></ul><p>æ‰“å¼€ php é…ç½®æ–‡ä»¶ php.ini æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extension=phpæ‰©å±•.dll</span><br></pre></td></tr></table></figure><p>é‡å¯æœåŠ¡å™¨ï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®phpinfoï¼Œå¦‚æœå®‰è£…æˆåŠŸï¼Œå°±ä¼šçœ‹åˆ°å®‰è£…æ‰©å±•çš„ä¿¡æ¯ã€‚</p><h2 id="Linux-ä¸Šå®‰è£…-PHP-æ‰©å±•"><a href="#Linux-ä¸Šå®‰è£…-PHP-æ‰©å±•" class="headerlink" title="Linux ä¸Šå®‰è£… PHP æ‰©å±•"></a>Linux ä¸Šå®‰è£… PHP æ‰©å±•</h2><h3 id="å‘½ä»¤è¡Œå®‰è£…"><a href="#å‘½ä»¤è¡Œå®‰è£…" class="headerlink" title="å‘½ä»¤è¡Œå®‰è£…"></a>å‘½ä»¤è¡Œå®‰è£…</h3><p>ä½ å¯ä»¥åœ¨ Linux ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… MongoDB çš„ PHP æ‰©å±•é©±åŠ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pecl install mongodb</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨phpçš„peclå®‰è£…å‘½ä»¤å¿…é¡»ä¿è¯ç½‘ç»œè¿æ¥å¯ç”¨ä»¥åŠrootæƒé™ã€‚</p><h3 id="PECLåŒ…å®‰è£…"><a href="#PECLåŒ…å®‰è£…" class="headerlink" title="PECLåŒ…å®‰è£…"></a>PECLåŒ…å®‰è£…</h3><p>åœ¨PECLä¸Šæ‰¾åˆ°æ‰€éœ€è¦çš„PHPæ‰©å±•ï¼Œç‚¹å‡»æœ‰.tgzæ ‡è¯†çš„é“¾æ¥åœ°å€ï¼Œè¿›è¡Œå¯¹åº”PHPç‰ˆæœ¬çš„èµ„æºä¸‹è½½ã€‚</p><p>å·²å®‰è£…MongoDBæ‰©å±•ä¸ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://pecl.php.net/get/mongodb-1.5.2.tgz</span><br><span class="line">$ cd /mongodb-1.5.2</span><br><span class="line">$ phpize</span><br><span class="line">$ ./configure</span><br><span class="line">$ make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ php æ˜¯è‡ªå·±ç¼–è¯‘çš„ï¼Œåˆ™å®‰è£…æ–¹æ³•å¦‚ä¸‹(å‡è®¾æ˜¯ç¼–è¯‘åœ¨ /usr/local/phpç›®å½•ä¸­)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://pecl.php.net/get/mongodb-1.5.2.tgz</span><br><span class="line">$ cd /mongodb-1.5.2</span><br><span class="line">$ /usr/local/php/bin/phpize</span><br><span class="line">$ ./configure --with-php-config=/usr/local/php/bin/php-config</span><br><span class="line">$ make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåï¼Œä¼šæœ‰ç±»ä¼¼ä»¥ä¸‹å®‰è£…ç›®å½•ä¿¡æ¯è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Installing shared extensions:     /usr/lib/php/extensions/debug-non-zts-20151012/</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œä½ éœ€è¦ä¿®æ”¹php.iniæ–‡ä»¶ï¼Œåœ¨ php.ini æ–‡ä»¶ä¸­æ·»åŠ mongoé…ç½®ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">extension_dir=/usr/lib/php/extensions/debug-non-zts-20151012/</span><br><span class="line">extension=mongodb.so</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ï¼š</strong>ä½ éœ€è¦æŒ‡æ˜ extension_dir é…ç½®é¡¹çš„è·¯å¾„ã€‚</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç›®å½•åœ°å€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ php -i | grep extension_dir</span><br><span class="line">&gt;   extension_dir =&gt; /usr/lib/php/extensions/debug-non-zts-20151012 =&gt;</span><br><span class="line">&gt;                    /usr/lib/php/extensions/debug-non-zts-20151012</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="MAC-ä¸­å®‰è£…-PHPæ‰©å±•é©±åŠ¨"><a href="#MAC-ä¸­å®‰è£…-PHPæ‰©å±•é©±åŠ¨" class="headerlink" title="MAC ä¸­å®‰è£… PHPæ‰©å±•é©±åŠ¨"></a>MAC ä¸­å®‰è£… PHPæ‰©å±•é©±åŠ¨</h2><p>ä½ å¯ä»¥ä½¿ç”¨ autoconf å®‰è£… PHP æ‰©å±•é©±åŠ¨ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨ Xcode å®‰è£… PHP æ‰©å±•é©±åŠ¨ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨ XAMPPï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… PHP æ‰©å±•é©±åŠ¨ï¼š</p><p>ä»¥å®‰è£…MongoDBæ‰©å±•ä¸ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /Applications/XAMPP/xamppfiles/bin/pecl install mongo</span><br></pre></td></tr></table></figure><p>å¦‚æœä»¥ä¸Šå‘½ä»¤åœ¨XMPPæˆ–è€…MAMPä¸­ä¸èµ·ä½œç”¨ï¼Œä½ éœ€è¦åœ¨ Githubä¸Šä¸‹è½½å…¼å®¹çš„é¢„ç¼–è¯‘åŒ…ã€‚</p><p>ç„¶åæ·»åŠ  extension=mongodb.so é…ç½®åˆ°ä½ çš„ php.ini æ–‡ä»¶ä¸­ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PECLï¼ˆPHP Extension Community Libraryï¼‰æ˜¯ PHP çš„æ‰©å±•åº“ï¼Œå®ƒæä¾›äº†ä¸€äº› PHP æ‰©å±•ï¼Œå¯ä»¥å¢å¼º PHP çš„åŠŸèƒ½ã€‚æ‰€æœ‰æ‰©å±•åŒ…åˆ—è¡¨æŸ¥è¯¢åœ°å€ï¼š&lt;a href=&quot;https://pecl.php.net/package-stats.php&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://pecl.php.net/package-stats.php&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Window-ä¸Šå®‰è£…PHPæ‰©å±•&quot;&gt;&lt;a href=&quot;#Window-ä¸Šå®‰è£…PHPæ‰©å±•&quot; class=&quot;headerlink&quot; title=&quot;Window ä¸Šå®‰è£…PHPæ‰©å±•&quot;&gt;&lt;/a&gt;Window ä¸Šå®‰è£…PHPæ‰©å±•&lt;/h2&gt;&lt;p&gt;åœ¨PECLä¸Šæ‰¾åˆ°æ‰€éœ€è¦çš„PHPæ‰©å±•ï¼Œç‚¹å‡»æœ‰DLLæ ‡è¯†çš„é“¾æ¥åœ°å€ï¼Œè¿›è¡Œå¯¹åº”PHPç‰ˆæœ¬çš„èµ„æºä¸‹è½½ï¼Œä½†æ˜¯ä½ éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VC6 æ˜¯è¿è¡Œäº Apache æœåŠ¡å™¨ï¼›&lt;/li&gt;
&lt;li&gt;Thread safeï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰æ˜¯ä»¥æ¨¡å—å½¢å¼è¿è¡Œåœ¨ Apache ä¸Šï¼Œå¦‚æœä½ ä»¥ CGI çš„æ¨¡å¼è¿è¡Œ PHPï¼Œè¯·é€‰æ‹©éçº¿ç¨‹å®‰å…¨æ¨¡å¼ï¼ˆnon-thread safeï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;VC9 æ˜¯è¿è¡Œäº IIS æœåŠ¡å™¨ä¸Šï¼›&lt;/li&gt;
&lt;li&gt;ä¸‹è½½å®Œä½ éœ€è¦çš„äºŒè¿›åˆ¶åŒ…åï¼Œè§£å‹å‹ç¼©åŒ…ï¼Œå°† php_mongodb.dll æ–‡ä»¶æ·»åŠ åˆ°ä½ çš„PHPæ‰©å±•ç›®å½•ä¸­ï¼ˆextï¼‰ã€‚ext ç›®å½•é€šå¸¸åœ¨ PHP å®‰è£…ç›®å½•ä¸‹çš„ ext ç›®å½•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰“å¼€ php é…ç½®æ–‡ä»¶ php.ini æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="åç«¯å¼€å‘" scheme="https://xinyufeng.net/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
      <category term="PHP" scheme="https://xinyufeng.net/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/PHP/"/>
    
    
      <category term="PHPæ‰©å±•" scheme="https://xinyufeng.net/tags/PHP%E6%89%A9%E5%B1%95/"/>
    
  </entry>
  
  <entry>
    <title>Redisã€Memcachedå’ŒMongoDBçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯</title>
    <link href="https://xinyufeng.net/2023/07/06/Redis%E3%80%81Memcached%E5%92%8CMongoDB%E7%9A%84%E5%8C%BA%E5%88%AB%E5%92%8C%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/"/>
    <id>https://xinyufeng.net/2023/07/06/Redisã€Memcachedå’ŒMongoDBçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯/</id>
    <published>2023-07-06T01:40:29.000Z</published>
    <updated>2023-07-06T02:18:02.246Z</updated>
    
    <content type="html"><![CDATA[<p>Redisã€Memcachedå’ŒMongoDBæ˜¯ä¸‰ç§å¸¸ç”¨çš„<em>NoSQL</em>æ•°æ®åº“ï¼Œå®ƒä»¬å„è‡ªæœ‰ç€ä¸åŒçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚</p><p><strong>Redis</strong></p><p>Redisæ˜¯ä¸€ç§åŸºäº<strong>å†…å­˜</strong>çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒ<strong>æ”¯æŒå¤šç§æ•°æ®ç»“æ„</strong>ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²(String)ã€å“ˆå¸Œè¡¨(Dict)ã€åˆ—è¡¨(List)ã€é›†åˆ(Set)ã€æœ‰åºé›†åˆ(sorted set)å’ŒåŸºæ•°ä¼°ç®—(HyperLogLog)ã€‚</p><p>Redisçš„ä¸»è¦ç‰¹ç‚¹æ˜¯é€Ÿåº¦å¿«ï¼Œæ”¯æŒé«˜å¹¶å‘è¯»å†™æ“ä½œï¼Œå¹¶ä¸”<strong>å¯ä»¥æŒä¹…åŒ–æ•°æ®</strong>ã€‚</p><a id="more"></a><p>Rediså¸¸ç”¨äºéœ€è¦å¿«é€Ÿè¯»å†™çš„åœºæ™¯ï¼Œå¦‚ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€è®¡æ•°å™¨ã€ä¼šè¯ç®¡ç†ç­‰åœºæ™¯ï¼Œä»¥åŠå®æ—¶æ•°æ®åˆ†æå’Œå®æ—¶æ¨èç³»ç»Ÿã€‚</p><p><strong>Memcached</strong></p><p>Memcachedä¹Ÿæ˜¯ä¸€ç§åŸºäº<strong>å†…å­˜</strong>çš„ç¼“å­˜ç³»ç»Ÿï¼Œä½†å®ƒç›¸å¯¹äºRedisæ¥è¯´åŠŸèƒ½è¾ƒä¸ºç®€å•ï¼Œåª<strong>æ”¯æŒç®€å•çš„key-valueç±»å‹(é”®å€¼å¯¹å­˜å‚¨)</strong>ã€‚å®ƒæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ç¼“å­˜ç³»ç»Ÿï¼Œå¯ä»¥å°†æ•°æ®å­˜å‚¨åœ¨å¤šå°æœåŠ¡å™¨ä¸Šã€‚</p><p>Memcachedçš„ä¸»è¦ç‰¹ç‚¹æ˜¯é€Ÿåº¦å¿«ï¼Œ<strong>ä¸æ”¯æŒæŒä¹…åŒ–</strong>ï¼Œé‡å¯åæ•°æ®ä¼šä¸¢å¤±ï¼Œ</p><p>Memcachedé€‚ç”¨äºç¼“å­˜æ•°æ®å’Œä¸´æ—¶æ•°æ®çš„åœºæ™¯ï¼Œå¦‚ç½‘é¡µç¼“å­˜å’Œæ•°æ®åˆ†æ,å¯ä»¥æé«˜ç½‘ç«™çš„è®¿é—®é€Ÿåº¦å’Œå“åº”é€Ÿåº¦ã€‚</p><p><strong>MongoDB</strong></p><p>MongoDBæ˜¯ä¸€ç§<strong>æ–‡æ¡£å‹</strong>æ•°æ®åº“ï¼Œå®ƒæ”¯æŒJSONæ ¼å¼çš„æ–‡æ¡£å­˜å‚¨ã€‚</p><p>MongoDBçš„ä¸»è¦ç‰¹ç‚¹æ˜¯çµæ´»æ€§å¼ºå’Œå¯æ‰©å±•æ€§ï¼Œæ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ“ä½œå’Œç´¢å¼•ä»¥åŠæ•°æ®åˆ†ææ“ä½œã€‚</p><p>MongoDBé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®å­˜å‚¨å’Œå¤„ç†çš„åœºæ™¯ï¼Œä¾‹å¦‚æ—¥å¿—ã€ç¤¾äº¤åª’ä½“ã€å¤§æ•°æ®åˆ†æã€ç‰©è”ç½‘è®¾å¤‡æ•°æ®å­˜å‚¨ç­‰ã€‚</p><p>æ€»ä¹‹ï¼ŒRedisã€Memcachedå’ŒMongoDBéƒ½æœ‰ç€ä¸åŒçš„ä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚æ¥é€‰æ‹©åˆé€‚çš„æ•°æ®åº“ã€‚å¦‚æœéœ€è¦å¿«é€Ÿè¯»å†™æ“ä½œå’Œç¼“å­˜æ•°æ®ï¼Œå¯ä»¥é€‰æ‹©Redisæˆ–Memcachedï¼›å¦‚æœéœ€è¦çµæ´»çš„æŸ¥è¯¢æ“ä½œå’Œå¤§è§„æ¨¡æ•°æ®å¤„ç†ï¼Œå¯ä»¥é€‰æ‹©MongoDBã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Redisã€Memcachedå’ŒMongoDBæ˜¯ä¸‰ç§å¸¸ç”¨çš„&lt;em&gt;NoSQL&lt;/em&gt;æ•°æ®åº“ï¼Œå®ƒä»¬å„è‡ªæœ‰ç€ä¸åŒçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Redis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Redisæ˜¯ä¸€ç§åŸºäº&lt;strong&gt;å†…å­˜&lt;/strong&gt;çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒ&lt;strong&gt;æ”¯æŒå¤šç§æ•°æ®ç»“æ„&lt;/strong&gt;ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²(String)ã€å“ˆå¸Œè¡¨(Dict)ã€åˆ—è¡¨(List)ã€é›†åˆ(Set)ã€æœ‰åºé›†åˆ(sorted set)å’ŒåŸºæ•°ä¼°ç®—(HyperLogLog)ã€‚&lt;/p&gt;
&lt;p&gt;Redisçš„ä¸»è¦ç‰¹ç‚¹æ˜¯é€Ÿåº¦å¿«ï¼Œæ”¯æŒé«˜å¹¶å‘è¯»å†™æ“ä½œï¼Œå¹¶ä¸”&lt;strong&gt;å¯ä»¥æŒä¹…åŒ–æ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°æ®åº“" scheme="https://xinyufeng.net/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="NoSQL" scheme="https://xinyufeng.net/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/NoSQL/"/>
    
    
      <category term="NoSQL" scheme="https://xinyufeng.net/tags/NoSQL/"/>
    
      <category term="Redis" scheme="https://xinyufeng.net/tags/Redis/"/>
    
      <category term="Memcached" scheme="https://xinyufeng.net/tags/Memcached/"/>
    
      <category term="MongoDB" scheme="https://xinyufeng.net/tags/MongoDB/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨å¾®ä¿¡å®ç°é“¾æ¥çš„åˆ†äº«</title>
    <link href="https://xinyufeng.net/2023/05/18/%E5%9C%A8%E5%BE%AE%E4%BF%A1%E5%AE%9E%E7%8E%B0%E9%93%BE%E6%8E%A5%E7%9A%84%E5%88%86%E4%BA%AB/"/>
    <id>https://xinyufeng.net/2023/05/18/åœ¨å¾®ä¿¡å®ç°é“¾æ¥çš„åˆ†äº«/</id>
    <published>2023-05-18T05:28:31.000Z</published>
    <updated>2023-05-18T06:00:31.805Z</updated>
    
    <content type="html"><![CDATA[<p>å¾®ä¿¡åˆ†äº«ä¼šä½¿ç”¨åˆ°å¾®ä¿¡JS-SDKï¼Œæ‰€ä»¥éœ€è¦å†å¾®ä¿¡å…¬ä¼—å·åå°é…ç½®<strong>JSæ¥å£å®‰å…¨åŸŸå</strong></p><p>å¾®ä¿¡å®˜æ–¹å…³äº<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#112" target="_blank" rel="noopener">åˆ†äº«æ¥å£å¼€å‘æ–‡æ¡£</a></p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>å¾®ä¿¡åˆ†äº«<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../static/lib/jquery/1.12.4/jquery.min.js"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥jweixin jsæ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//res2.wx.qq.com/open/js/jweixin-1.6.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">getWxConfig</span> (<span class="params"></span>) </span>&#123; <span class="comment">// è·å–å¾®ä¿¡é…ç½®å‚æ•°</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// å½“å‰ç½‘é¡µçš„URLï¼Œä¸åŒ…å«#åŠå…¶åé¢éƒ¨åˆ†ï¼Œè¦æ³¨æ„å½“å‰URLä¸€å®šæ˜¯æ­£ç¡®çš„ä¸”å·²ç»åœ¨ JSæ¥å£å®‰å…¨åŸŸå é…ç½®è¿‡</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> url = <span class="built_in">window</span>.location.href.split(<span class="string">'#'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">"POST"</span>,</span></span><br><span class="line"><span class="javascript">                    url: <span class="string">"è·å–å¾®ä¿¡ç­¾åç­‰å…¶ä»–é…ç½®å‚æ•°çš„é“¾æ¥ï¼Œè‡ªè¡Œå¤„ç†"</span>,</span></span><br><span class="line"><span class="javascript">                    dataType: <span class="string">"json"</span>,</span></span><br><span class="line"><span class="undefined">                    data: &#123;url: url&#125;,</span></span><br><span class="line"><span class="javascript">                    success: <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (response.errorCode == <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">                            resolve(response.data);</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                            reject(response.msg);</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    error: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(e);</span></span><br><span class="line"><span class="undefined">                        reject(e.statusText);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">wxShare</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> res = <span class="keyword">await</span> getSignature();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> &#123;timestamp, nonceStr, appId, signature&#125; = res;</span></span><br><span class="line"><span class="undefined">            wx.config(&#123;</span></span><br><span class="line"><span class="javascript">                debug: <span class="literal">true</span>, <span class="comment">// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚</span></span></span><br><span class="line"><span class="javascript">                appId: appId, <span class="comment">// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span></span></span><br><span class="line"><span class="javascript">                timestamp: timestamp, <span class="comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³</span></span></span><br><span class="line"><span class="javascript">                nonceStr: nonceStr, <span class="comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span></span></span><br><span class="line"><span class="javascript">                signature: signature, <span class="comment">// å¿…å¡«ï¼Œç­¾å</span></span></span><br><span class="line"><span class="javascript">                jsApiList: [<span class="string">"onMenuShareTimeline"</span>, <span class="string">"onMenuShareAppMessage"</span>] <span class="comment">// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨</span></span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            wx.ready(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="undefined">                wx.onMenuShareTimeline(&#123;</span></span><br><span class="line"><span class="javascript">                    title: <span class="string">'æµ‹è¯•åˆ†äº«æœ‹å‹åœˆ'</span>, <span class="comment">// åˆ†äº«æ ‡é¢˜</span></span></span><br><span class="line"><span class="javascript">                    link: url,<span class="comment">// åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´</span></span></span><br><span class="line"><span class="javascript">                    imgUrl: <span class="string">'logo.jpg'</span>,<span class="comment">// åˆ†äº«å›¾æ ‡</span></span></span><br><span class="line"><span class="javascript">                    success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// è®¾ç½®æˆåŠŸ</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(<span class="string">'ç”¨æˆ·ç‚¹å‡»äº†åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°1'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                wx.onMenuShareAppMessage(&#123;</span></span><br><span class="line"><span class="javascript">                    title: <span class="string">'æµ‹è¯•åˆ†äº«æœ‹å‹'</span>, <span class="comment">// åˆ†äº«æ ‡é¢˜</span></span></span><br><span class="line"><span class="javascript">                    desc: <span class="string">'ä¸€ä¸ªæµ‹è¯•çš„åˆ†äº«'</span>, <span class="comment">// åˆ†äº«æè¿°</span></span></span><br><span class="line"><span class="javascript">                    link: url, <span class="comment">// åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´</span></span></span><br><span class="line"><span class="javascript">                    imgUrl: <span class="string">'logo.jpg'</span>, <span class="comment">// åˆ†äº«å›¾æ ‡</span></span></span><br><span class="line"><span class="javascript">                    type: <span class="string">""</span>, <span class="comment">// åˆ†äº«ç±»å‹,musicã€videoæˆ–linkï¼Œä¸å¡«é»˜è®¤ä¸ºlink</span></span></span><br><span class="line"><span class="javascript">                    dataUrl: <span class="string">""</span>, <span class="comment">// å¦‚æœtypeæ˜¯musicæˆ–videoï¼Œåˆ™è¦æä¾›æ•°æ®é“¾æ¥ï¼Œé»˜è®¤ä¸ºç©º</span></span></span><br><span class="line"><span class="javascript">                    success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// è®¾ç½®æˆåŠŸ</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(<span class="string">'ç”¨æˆ·ç‚¹å‡»äº†åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°2'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        wxShare();</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¾®ä¿¡åˆ†äº«ä¼šä½¿ç”¨åˆ°å¾®ä¿¡JS-SDKï¼Œæ‰€ä»¥éœ€è¦å†å¾®ä¿¡å…¬ä¼—å·åå°é…ç½®&lt;strong&gt;JSæ¥å£å®‰å…¨åŸŸå&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾®ä¿¡å®˜æ–¹å…³äº&lt;a href=&quot;https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#112&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åˆ†äº«æ¥å£å¼€å‘æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="å¾®ä¿¡å¼€å‘" scheme="https://xinyufeng.net/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91/"/>
    
      <category term="å¾®ä¿¡å…¬ä¼—å·" scheme="https://xinyufeng.net/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
    
      <category term="å¾®ä¿¡å…¬ä¼—å·" scheme="https://xinyufeng.net/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
  </entry>
  
  <entry>
    <title>è®°å½• ThinkCMF æ¡†æ¶ X2.2.3 ç‰ˆæœ¬æ¼æ´å‘ç°ä¸è§£å†³</title>
    <link href="https://xinyufeng.net/2023/03/23/%E8%AE%B0%E5%BD%95-ThinkCMF-%E6%A1%86%E6%9E%B6-X2-2-3-%E7%89%88%E6%9C%AC%E6%BC%8F%E6%B4%9E%E5%8F%91%E7%8E%B0%E4%B8%8E%E8%A7%A3%E5%86%B3/"/>
    <id>https://xinyufeng.net/2023/03/23/è®°å½•-ThinkCMF-æ¡†æ¶-X2-2-3-ç‰ˆæœ¬æ¼æ´å‘ç°ä¸è§£å†³/</id>
    <published>2023-03-23T11:25:31.000Z</published>
    <updated>2024-04-26T02:56:55.839Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥åˆ°ç½‘è­¦é€šçŸ¥ï¼Œè¯´ç½‘ç«™æœ‰å®‰å…¨æ¼æ´ï¼Œæ ¹æ®ç½‘è­¦æä¾›çš„æ£€æµ‹æŠ¥å‘Šï¼Œç»è¿‡å„ç§å°è¯•ï¼Œç»ˆäºå¤ç°äº†ï¼Œç°åœ¨è®°å½•è¿™ä¸€æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»</p><p>ç½‘ç«™æ˜¯åŸºäºThinkCMFæ¡†æ¶æ­å»ºçš„ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬æ˜¯<code>X2.2.3</code>ï¼Œæ ¹æ®ç½‘è­¦æä¾›çš„æ£€æµ‹æŠ¥å‘Šåœ¨postmanå·¥å…·ä¸Šæ“ä½œå¤ç°æ¼æ´æƒ…å†µ</p><ul><li>ä½¿ç”¨POSTæ–¹å¼è¯·æ±‚é¦–é¡µé“¾æ¥åœ°å€</li><li>ä½¿ç”¨form-dataæäº¤å‚æ•°</li><li>å‚æ•°<code>content=&lt;php&gt;die(assert(&#39;ev&#39;.&#39;a&#39;.&#39;l(&quot;&#39;.&#39;e&#39;.&#39;va&#39;.&#39;l(bas&#39;.&#39;e64_de&#39;.&#39;code(\&quot;cGhwaW5mbygpOw==\&quot;));;return 1;&quot;)&#39;))&lt;/php&gt;</code></li><li>å‚æ•°<code>a=fetch</code></li></ul><p>ç‚¹å‡»å‘é€ï¼Œçœ‹çœ‹ç»“æœï¼Œæ„ä¸æ„å¤–æƒŠä¸æƒŠå–œï¼</p><a id="more"></a><p><a href="/2023/03/23/è®°å½•-ThinkCMF-æ¡†æ¶-X2-2-3-ç‰ˆæœ¬æ¼æ´å‘ç°ä¸è§£å†³/1.png"><img src="/2023/03/23/è®°å½•-ThinkCMF-æ¡†æ¶-X2-2-3-ç‰ˆæœ¬æ¼æ´å‘ç°ä¸è§£å†³/1.png" alt></a></p><p>å±…ç„¶æ‰“å°å‡ºäº†<code>phpinfo()</code></p><p>é‚£æ‰¾è§£å†³æ–¹æ³•å§ï¼Œå‡çº§æ¡†æ¶è‚¯å®šæ˜¯ä¸ç°å®çš„ï¼Œå¥½æ­¹æ˜¯æ‰¾äº†è§£å†³æ–¹æ¡ˆ</p><p>åŸå› æ˜¯æ„é€ <code>a</code>å‚æ•°çš„<code>fetch</code>æ–¹æ³•å’Œ<code>display</code>æ–¹æ³•å¯¼è‡´äº†è¿™ä¸ªæ¼æ´</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ è½½æ¨¡æ¿å’Œé¡µé¢è¾“å‡º å¯ä»¥è¿”å›è¾“å‡ºå†…å®¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $templateFile æ¨¡æ¿æ–‡ä»¶å</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $charset æ¨¡æ¿è¾“å‡ºå­—ç¬¦é›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $contentType è¾“å‡ºç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $content æ¨¡æ¿è¾“å‡ºå†…å®¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> mixed</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">($templateFile = <span class="string">''</span>, $charset = <span class="string">''</span>, $contentType = <span class="string">''</span>, $content = <span class="string">''</span>, $prefix = <span class="string">''</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">parent</span>::display(<span class="keyword">$this</span>-&gt;parseTemplate($templateFile), $charset, $contentType,$content,$prefix);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–è¾“å‡ºé¡µé¢å†…å®¹</span></span><br><span class="line"><span class="comment"> * è°ƒç”¨å†…ç½®çš„æ¨¡æ¿å¼•æ“fetchæ–¹æ³•ï¼Œ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $templateFile æŒ‡å®šè¦è°ƒç”¨çš„æ¨¡æ¿æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * é»˜è®¤ä¸ºç©º ç”±ç³»ç»Ÿè‡ªåŠ¨å®šä½æ¨¡æ¿æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $content æ¨¡æ¿è¾“å‡ºå†…å®¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $prefix æ¨¡æ¿ç¼“å­˜å‰ç¼€*</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">fetch</span><span class="params">($templateFile=<span class="string">''</span>,$content=<span class="string">''</span>,$prefix=<span class="string">''</span>)</span></span>&#123;</span><br><span class="line">    $templateFile = <span class="keyword">empty</span>($content)?<span class="keyword">$this</span>-&gt;parseTemplate($templateFile):<span class="string">''</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">parent</span>::fetch($templateFile,$content,$prefix);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†<code>HomebaseController.class.php</code>å’Œ<code>AdminbaseController.class.php</code>ç±»ä¸­<code>display</code>å’Œ<code>fetch</code>å‡½æ•°ä¿®é¥°ç¬¦æ”¹ä¸º<code>protected</code></p><p>å› ä¸ºå®ƒçš„è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å…¬ç”¨çš„ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒæ”¹ä¸ºç§ç”¨çš„ï¼Œè¿™æ ·æ‰å¯ä»¥ä¸è¢«å‰ç«¯çš„ç”¨æˆ·å»ä»»æ„çš„åˆ©ç”¨ã€‚</p><p>ä¿®å¤åï¼Œå†æ¬¡è®¿é—®ï¼Œè§£å†³äº†</p><p><a href="/2023/03/23/è®°å½•-ThinkCMF-æ¡†æ¶-X2-2-3-ç‰ˆæœ¬æ¼æ´å‘ç°ä¸è§£å†³/2.png"><img src="/2023/03/23/è®°å½•-ThinkCMF-æ¡†æ¶-X2-2-3-ç‰ˆæœ¬æ¼æ´å‘ç°ä¸è§£å†³/2.png" alt></a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¥åˆ°ç½‘è­¦é€šçŸ¥ï¼Œè¯´ç½‘ç«™æœ‰å®‰å…¨æ¼æ´ï¼Œæ ¹æ®ç½‘è­¦æä¾›çš„æ£€æµ‹æŠ¥å‘Šï¼Œç»è¿‡å„ç§å°è¯•ï¼Œç»ˆäºå¤ç°äº†ï¼Œç°åœ¨è®°å½•è¿™ä¸€æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»&lt;/p&gt;
&lt;p&gt;ç½‘ç«™æ˜¯åŸºäºThinkCMFæ¡†æ¶æ­å»ºçš„ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬æ˜¯&lt;code&gt;X2.2.3&lt;/code&gt;ï¼Œæ ¹æ®ç½‘è­¦æä¾›çš„æ£€æµ‹æŠ¥å‘Šåœ¨postmanå·¥å…·ä¸Šæ“ä½œå¤ç°æ¼æ´æƒ…å†µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨POSTæ–¹å¼è¯·æ±‚é¦–é¡µé“¾æ¥åœ°å€&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨form-dataæäº¤å‚æ•°&lt;/li&gt;
&lt;li&gt;å‚æ•°&lt;code&gt;content=&amp;lt;php&amp;gt;die(assert(&amp;#39;ev&amp;#39;.&amp;#39;a&amp;#39;.&amp;#39;l(&amp;quot;&amp;#39;.&amp;#39;e&amp;#39;.&amp;#39;va&amp;#39;.&amp;#39;l(bas&amp;#39;.&amp;#39;e64_de&amp;#39;.&amp;#39;code(&#92;&amp;quot;cGhwaW5mbygpOw==&#92;&amp;quot;));;return 1;&amp;quot;)&amp;#39;))&amp;lt;/php&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‚æ•°&lt;code&gt;a=fetch&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç‚¹å‡»å‘é€ï¼Œçœ‹çœ‹ç»“æœï¼Œæ„ä¸æ„å¤–æƒŠä¸æƒŠå–œï¼&lt;/p&gt;
    
    </summary>
    
      <category term="ç½‘ç»œå®‰å…¨" scheme="https://xinyufeng.net/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="å®‰å…¨æ¼æ´" scheme="https://xinyufeng.net/tags/%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>Laravel æ¨¡å‹å…³è”æŸ¥è¯¢å·²ç‰©ç†åˆ é™¤çš„æ•°æ®è®¾ç½®é»˜è®¤å€¼</title>
    <link href="https://xinyufeng.net/2023/03/16/Laravel-%E6%A8%A1%E5%9E%8B%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2%E5%B7%B2%E7%89%A9%E7%90%86%E5%88%A0%E9%99%A4%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC/"/>
    <id>https://xinyufeng.net/2023/03/16/Laravel-æ¨¡å‹å…³è”æŸ¥è¯¢å·²ç‰©ç†åˆ é™¤çš„æ•°æ®è®¾ç½®é»˜è®¤å€¼/</id>
    <published>2023-03-16T02:30:09.000Z</published>
    <updated>2023-03-16T02:38:13.741Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨Laravelæ¨¡å‹å…³è”æ•°æ®æ—¶ï¼Œä¼šé‡åˆ°å…³è”æŸ¥è¯¢åˆ°çš„æ•°æ®å·²è¢«åˆ é™¤ï¼Œä¼šå¯¼è‡´æŸ¥è¯¢ç»“æœä¸º<code>null</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.......</span><br><span class="line">&quot;created_at&quot;: &quot;2023-02-15 16:01:40&quot;,</span><br><span class="line">&quot;updated_at&quot;: &quot;2023-02-15 16:03:22&quot;,</span><br><span class="line">&quot;category&quot;: null,</span><br><span class="line">.......</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ä¿è¯æŸ¥è¯¢ç»“æœä¸ä¼šå‡ºç°<code>null</code>ï¼Œå¯ä»¥ä½¿ç”¨ Laravel çš„ã€ŒEloquentã€ ORM ä¸­çš„ã€ŒwithDefaultã€æ–¹æ³•æ¥è®¾ç½®é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼š</p><a id="more"></a><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">category</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasOne(Category::class, <span class="string">'id'</span>, <span class="string">'cate_id'</span>)-&gt;withDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå³ä½¿æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è®°å½•ï¼Œæ‚¨ä¹Ÿå¯ä»¥å¾—åˆ°ä¸€ä¸ªå…·æœ‰é»˜è®¤å€¼çš„ç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.......</span><br><span class="line">&quot;created_at&quot;: &quot;2023-02-15 16:01:40&quot;,</span><br><span class="line">&quot;updated_at&quot;: &quot;2023-02-15 16:03:22&quot;,</span><br><span class="line">&quot;category&quot;:&#123;</span><br><span class="line">    &quot;id&quot;: 437</span><br><span class="line">&#125;</span><br><span class="line">.......</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è¿˜æƒ³è¦é»˜è®¤åˆ†ç±»åç§°å€¼ï¼ˆåˆ†ç±»åç§°å­—æ®µæˆ‘å®šä¹‰çš„æ˜¯<code>name</code>ï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">category</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasOne(Category::class, <span class="string">'id'</span>, <span class="string">'cate_id'</span>)-&gt;withDefault([<span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»å·²åˆ é™¤'</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.......</span><br><span class="line">&quot;created_at&quot;: &quot;2023-02-15 16:01:40&quot;,</span><br><span class="line">&quot;updated_at&quot;: &quot;2023-02-15 16:03:22&quot;,</span><br><span class="line">&quot;category&quot;:&#123;</span><br><span class="line">    &quot;id&quot;: 437,</span><br><span class="line">    &quot;name&quot;: &quot;åˆ†ç±»å·²åˆ é™¤&quot;</span><br><span class="line">&#125;</span><br><span class="line">.......</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ä½¿ç”¨Laravelæ¨¡å‹å…³è”æ•°æ®æ—¶ï¼Œä¼šé‡åˆ°å…³è”æŸ¥è¯¢åˆ°çš„æ•°æ®å·²è¢«åˆ é™¤ï¼Œä¼šå¯¼è‡´æŸ¥è¯¢ç»“æœä¸º&lt;code&gt;null&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;.......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;created_at&amp;quot;: &amp;quot;2023-02-15 16:01:40&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;updated_at&amp;quot;: &amp;quot;2023-02-15 16:03:22&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;category&amp;quot;: null,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.......&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœæƒ³è¦ä¿è¯æŸ¥è¯¢ç»“æœä¸ä¼šå‡ºç°&lt;code&gt;null&lt;/code&gt;ï¼Œå¯ä»¥ä½¿ç”¨ Laravel çš„ã€ŒEloquentã€ ORM ä¸­çš„ã€ŒwithDefaultã€æ–¹æ³•æ¥è®¾ç½®é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="PHPæ¡†æ¶" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Laravel" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/Laravel/"/>
    
    
      <category term="Laravelæ¨¡å‹" scheme="https://xinyufeng.net/tags/Laravel%E6%A8%A1%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>Laravelå®‰è£…laravel-wechatå®ç°å¾®ä¿¡æˆæƒç™»å½•</title>
    <link href="https://xinyufeng.net/2023/02/22/Laravel%E5%AE%89%E8%A3%85laravel-wechat%E5%AE%9E%E7%8E%B0%E5%BE%AE%E4%BF%A1%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95/"/>
    <id>https://xinyufeng.net/2023/02/22/Laravelå®‰è£…laravel-wechatå®ç°å¾®ä¿¡æˆæƒç™»å½•/</id>
    <published>2023-02-22T01:42:52.000Z</published>
    <updated>2023-03-16T02:27:22.455Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨composerå®‰è£…laravel-wechat"><a href="#ä½¿ç”¨composerå®‰è£…laravel-wechat" class="headerlink" title="ä½¿ç”¨composerå®‰è£…laravel-wechat"></a>ä½¿ç”¨composerå®‰è£…<code>laravel-wechat</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require <span class="string">"overtrue/laravel-wechat"</span></span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬</p><ol><li>å®‰è£…ä¸è¶…è¿‡<code>4.0</code>çš„ç‰ˆæœ¬æœ€æ–°ç‰ˆæœ¬</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require <span class="string">"overtrue/laravel-wechat:~4.0"</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£…ä¸è¶…è¿‡<code>4</code>çš„ç‰ˆæœ¬æœ€æ–°ç‰ˆæœ¬</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require <span class="string">"overtrue/laravel-wechat:^4.0"</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>å»ºè®®laravel5.4å®‰è£…<code>4.0</code>ç‰ˆæœ¬</p><h2 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h2><p>å¦‚æœæ˜¯Laravel5.4ï¼ˆå«ï¼‰ä»¥ä¸‹ç‰ˆæœ¬ï¼Œéœ€è¦æ‰‹åŠ¨æ³¨å†ŒServiceProvider å’Œ Facade</p><p>åœ¨config/app.phpæ–‡ä»¶ç¼–è¾‘</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'providers'</span> =&gt; [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    Overtrue\LaravelWeChat\ServiceProvider::class,</span><br><span class="line">],</span><br><span class="line"><span class="string">'aliases'</span> =&gt; [</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="string">'EasyWeChat'</span> =&gt; Overtrue\LaravelWeChat\Facade::class,</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>åˆ›å»ºé…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan vendor:publish --provider=<span class="string">"Overtrue\LaravelWeChat\ServiceProvider"</span></span><br></pre></td></tr></table></figure><p>ä¼šç”Ÿæˆ<code>config/wechat.php</code>æ–‡ä»¶</p><h2 id="åœ¨-envæ–‡ä»¶æ·»åŠ é…ç½®å‚æ•°"><a href="#åœ¨-envæ–‡ä»¶æ·»åŠ é…ç½®å‚æ•°" class="headerlink" title="åœ¨.envæ–‡ä»¶æ·»åŠ é…ç½®å‚æ•°"></a>åœ¨.envæ–‡ä»¶æ·»åŠ é…ç½®å‚æ•°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WECHAT_OFFICIAL_ACCOUNT_APPID=</span><br><span class="line">WECHAT_OFFICIAL_ACCOUNT_SECRET=</span><br><span class="line">WECHAT_OFFICIAL_ACCOUNT_TOKEN=</span><br><span class="line">WECHAT_OFFICIAL_ACCOUNT_AES_KEY=</span><br></pre></td></tr></table></figure><p>WECHAT_OFFICIAL_ACCOUNT_APPIDï¼šå¾®ä¿¡å…¬ä¼—å·AppID<br>WECHAT_OFFICIAL_ACCOUNT_SECRETï¼šå¾®ä¿¡å…¬ä¼—å·AppSecret<br>WECHAT_OFFICIAL_ACCOUNT_TOKENï¼šå¾®ä¿¡å…¬ä¼—å·Token<br>WECHAT_OFFICIAL_ACCOUNT_AES_KEYï¼šå¾®ä¿¡å…¬ä¼—å·EncodingAESKey</p><h2 id="å®šä¹‰è·¯ç”±"><a href="#å®šä¹‰è·¯ç”±" class="headerlink" title="å®šä¹‰è·¯ç”±"></a>å®šä¹‰è·¯ç”±</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::any(<span class="string">'wechat'</span>, <span class="string">'WeChatController@serve'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>ä¸€å®šæ˜¯ Route::any, å› ä¸ºå¾®ä¿¡æœåŠ¡ç«¯è®¤è¯çš„æ—¶å€™æ˜¯ GET, æ¥æ”¶ç”¨æˆ·æ¶ˆæ¯æ—¶æ˜¯ POST ï¼</p></blockquote><h2 id="åˆ›å»ºæ§åˆ¶å™¨"><a href="#åˆ›å»ºæ§åˆ¶å™¨" class="headerlink" title="åˆ›å»ºæ§åˆ¶å™¨"></a>åˆ›å»ºæ§åˆ¶å™¨</h2><p><code>app/Http/Controllers/WeChatController.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Log</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WeChatController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">serve</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        Log::info(<span class="string">'request arrived'</span>);</span><br><span class="line"></span><br><span class="line">        $app = app(<span class="string">'wechat.official_account'</span>);</span><br><span class="line">        $app-&gt;server-&gt;push(<span class="function"><span class="keyword">function</span><span class="params">($message)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"æ¬¢è¿å…³æ³¨ï¼"</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $app-&gt;server-&gt;serve();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä½¿ç”¨composerå®‰è£…laravel-wechat&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨composerå®‰è£…laravel-wechat&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨composerå®‰è£…laravel-wechat&quot;&gt;&lt;/a&gt;ä½¿ç”¨composerå®‰è£…&lt;code&gt;laravel-wechat&lt;/code&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;composer require &lt;span class=&quot;string&quot;&gt;&quot;overtrue/laravel-wechat&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœéœ€è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…ä¸è¶…è¿‡&lt;code&gt;4.0&lt;/code&gt;çš„ç‰ˆæœ¬æœ€æ–°ç‰ˆæœ¬&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;composer require &lt;span class=&quot;string&quot;&gt;&quot;overtrue/laravel-wechat:~4.0&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;å®‰è£…ä¸è¶…è¿‡&lt;code&gt;4&lt;/code&gt;çš„ç‰ˆæœ¬æœ€æ–°ç‰ˆæœ¬&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;composer require &lt;span class=&quot;string&quot;&gt;&quot;overtrue/laravel-wechat:^4.0&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="PHPæ¡†æ¶" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Laravel" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/Laravel/"/>
    
    
      <category term="composeræ‰©å±•" scheme="https://xinyufeng.net/tags/composer%E6%89%A9%E5%B1%95/"/>
    
  </entry>
  
  <entry>
    <title>Nginxé…ç½®locationè¯­æ³•è§„åˆ™</title>
    <link href="https://xinyufeng.net/2023/01/28/Nginx%E9%85%8D%E7%BD%AElocation%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99/"/>
    <id>https://xinyufeng.net/2023/01/28/Nginxé…ç½®locationè¯­æ³•è§„åˆ™/</id>
    <published>2023-01-28T01:51:11.000Z</published>
    <updated>2023-01-28T07:06:10.330Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¯­æ³•è§„åˆ™"><a href="#è¯­æ³•è§„åˆ™" class="headerlink" title="è¯­æ³•è§„åˆ™"></a>è¯­æ³•è§„åˆ™</h2><p>åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location [=|~|~*|^~|@] /uri/ &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®é¥°ç¬¦é‡Šä¹‰ï¼š</p><table><thead><tr><th style="text-align:center">ä¿®é¥°ç¬¦</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>=</code></td><td>è¡¨ç¤ºç²¾ç¡®åŒ¹é…åé¢çš„url</td></tr><tr><td style="text-align:center"><code>~</code></td><td>è¡¨ç¤ºæ­£åˆ™åŒ¹é…ï¼Œä½†æ˜¯åŒºåˆ†å¤§å°å†™</td></tr><tr><td style="text-align:center"><code>~*</code></td><td>è¡¨ç¤ºæ­£åˆ™åŒ¹é…ï¼Œä¸åŒºåˆ†å¤§å°å†™</td></tr><tr><td style="text-align:center"><code>^~</code></td><td>è¡¨ç¤ºæ™®é€šå­—ç¬¦åŒ¹é…ï¼Œå¦‚æœè¯¥é€‰é¡¹åŒ¹é…ï¼ŒåªåŒ¹é…è¯¥é€‰é¡¹ï¼Œä¸åŒ¹é…åˆ«çš„é€‰é¡¹ï¼Œä¸€èˆ¬ç”¨æ¥åŒ¹é…ç›®å½•</td></tr><tr><td style="text-align:center"><code>@</code></td><td>â€œ@â€ å®šä¹‰ä¸€ä¸ªå‘½åçš„ locationï¼Œä½¿ç”¨åœ¨å†…éƒ¨å®šå‘æ—¶ï¼Œä¾‹å¦‚ error_page</td></tr><tr><td style="text-align:center"><code>/</code></td><td>é€šç”¨åŒ¹é…ï¼Œä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ°</td></tr></tbody></table><p>ä¸Šè¿°åŒ¹é…è§„åˆ™çš„ä¼˜å…ˆåŒ¹é…é¡ºåºï¼š</p><a id="more"></a><ul><li><code>=</code> å‰ç¼€çš„æŒ‡ä»¤ä¸¥æ ¼åŒ¹é…è¿™ä¸ªæŸ¥è¯¢ã€‚å¦‚æœæ‰¾åˆ°ï¼Œåœæ­¢æœç´¢ï¼›</li><li>æ‰€æœ‰å‰©ä¸‹çš„å¸¸è§„å­—ç¬¦ä¸²ï¼Œæœ€é•¿çš„åŒ¹é…ã€‚å¦‚æœè¿™ä¸ªåŒ¹é…ä½¿ç”¨ ^~ å‰ç¼€ï¼Œæœç´¢åœæ­¢ï¼›</li><li>æ­£åˆ™è¡¨è¾¾å¼ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„é¡ºåºï¼›</li><li>å¦‚æœç¬¬ 3 æ¡è§„åˆ™<code>~*</code>äº§ç”ŸåŒ¹é…çš„è¯ï¼Œç»“æœè¢«ä½¿ç”¨ã€‚å¦åˆ™ï¼Œä½¿ç”¨ç¬¬ 2 æ¡è§„åˆ™<code>~</code>çš„ç»“æœã€‚</li></ul><h2 id="åŒ¹é…æ¡ˆä¾‹"><a href="#åŒ¹é…æ¡ˆä¾‹" class="headerlink" title="åŒ¹é…æ¡ˆä¾‹"></a>åŒ¹é…æ¡ˆä¾‹</h2><h3 id="é€šè¿‡ç²¾ç¡®åŒ¹é…"><a href="#é€šè¿‡ç²¾ç¡®åŒ¹é…" class="headerlink" title="é€šè¿‡ç²¾ç¡®åŒ¹é…"></a>é€šè¿‡ç²¾ç¡®åŒ¹é…</h3><p>é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /test.html &#123;</span><br><span class="line">        root /www/wwwroot/nginx/html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location = /test.html &#123;</span><br><span class="line">        root /www/wwwroot/nginx/test.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªlocationåŒ¹é…æ¡ä»¶ä¸€æ ·ï¼Œéƒ½æ˜¯/test.htmlï¼Œä½†æ˜¯ç¬¬äºŒä¸ªä¸ºç²¾ç¡®åŒ¹é…åˆ°é™æ€æ–‡ä»¶è·¯å¾„ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªä¸ä¼šæ‰§è¡Œï¼Œä¼šæ‰§è¡Œç¬¬äºŒä¸ªã€‚</p><p>æŒ‡å®šé™æ€èµ„æºè·¯å¾„ç”¨çš„å…³é”®å­—<code>root</code>ï¼Œè¿˜å¯ä»¥ç”¨<code>alias</code>ï¼Œé‚£ä¹ˆ<code>root</code>å’Œ<code>alias</code>çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>ç”¨<code>root</code>å±æ€§æŒ‡å®šçš„å€¼æ˜¯è¦åŠ å…¥åˆ°æœ€ç»ˆè·¯å¾„ä¸­çš„ï¼ŒåŒ¹é…æ¡ä»¶ä¼šæ‹¼æ¥åˆ°è·¯å¾„ä¸­</li><li>ç”¨<code>alias</code>å±æ€§æŒ‡å®šçš„å€¼ä¸éœ€è¦åŠ å…¥åˆ°æœ€ç»ˆè·¯å¾„ä¸­</li></ul><p>æ ¹æ®ä¸Šè¿°é…ç½®æ–‡ä»¶å†…å®¹ï¼Œè¯·æ±‚çš„æ¡ä»¶ä¸º<code>test.html</code>ï¼Œé€šè¿‡<code>root</code>æŒ‡å®šçš„è·¯å¾„ä¸º<code>/www/wwwroot/nginx/html</code>ï¼Œå› æ­¤åœ¨åŒ¹é…çš„æ—¶å€™ï¼Œè¿™ä¸ªè·¯å¾„ä¸‹å°±å¿…é¡»è¦æœ‰<code>test.html</code>è¿™ä¸ªæ–‡ä»¶æ‰å¯ä»¥ï¼Œå¦åˆ™å°±ä¼šæ‰¾ä¸åˆ°è€ŒæŠ¥é”™ï¼Œå¦‚æœç”¨<code>alias</code>ï¼Œé‚£ä¹ˆé€šè¿‡æµè§ˆå™¨è¿›è¡Œè¯·æ±‚çš„æ—¶å€™ï¼Œ<code>alias</code>ä¹Ÿæ˜¯æŒ‡å®šåˆ°<code>/www/wwwroot/nginx/html</code>è·¯å¾„ä¸‹ï¼Œä½†æ˜¯ä¼šåŒ¹é…é»˜è®¤çš„<code>index.html</code>ï¼Œè€Œæ— é¡»å¼ºåˆ¶åŒ¹é…<code>test.html</code>ï¼Œä½†æ˜¯æ­¤æ—¶å°±ä¸èƒ½ä½¿ç”¨<code>=</code>æ¥è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œç°åœ¨å°†<code>root</code>æ”¹ä¸º<code>alias</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /test.html &#123;</span><br><span class="line">        alias /www/wwwroot/nginx/html/;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šaliasæŒ‡å®šçš„è·¯å¾„ç»“å°¾è¦åŠ <code>/</code></p></blockquote><p>æ¥ä¸ª<code>root</code>å’Œ<code>alias</code>çš„åŒºåˆ«ä¾‹å­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /html/ &#123;</span><br><span class="line">        root /www/wwwroot/nginx;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¿é—® <code>åŸŸå/html</code> çš„æ—¶å€™ï¼Œå°†è·³è½¬åˆ°<code>/www/wwwroot/nginx/html/</code>ç›®å½•ä¸‹çš„<code>index.html</code>æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /html_alias/ &#123;</span><br><span class="line">        alias /www/wwwroot/nginx/html/;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¿é—® <code>åŸŸå/html_alias</code> çš„æ—¶å€™ï¼Œå°†è·³è½¬åˆ°<code>/www/wwwroot/nginx/html/</code>ç›®å½•ä¸‹çš„<code>index.html</code>æ–‡ä»¶</p><h3 id="é€šè¿‡-æ–¹å¼å®ç°åŒ¹é…"><a href="#é€šè¿‡-æ–¹å¼å®ç°åŒ¹é…" class="headerlink" title="é€šè¿‡^~æ–¹å¼å®ç°åŒ¹é…"></a>é€šè¿‡^~æ–¹å¼å®ç°åŒ¹é…</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location ^~ /a/ &#123;</span><br><span class="line">        return 111;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ^~ /a/b/ &#123;</span><br><span class="line">        return 222;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœè®¿é—® <code>åŸŸå/a</code> è¿”å› <code>111</code></li><li>å¦‚æœè®¿é—® <code>åŸŸå/a/b</code> è¿”å› <code>222</code></li><li>å¦‚æœè®¿é—® <code>åŸŸå/a/b/sdf</code> è¿”å› <code>222</code></li></ul><p>ä»ç»“æœçœ‹ï¼Œä¸¤æ¡è§„åˆ™åŒæ—¶è¢«åŒ¹é…æˆåŠŸï¼Œä½†æ˜¯ç¬¬äºŒæ¡è§„åˆ™æ¯”è¾ƒé•¿ï¼Œå› æ­¤ç¬¬äºŒæ¡è§„åˆ™ä¼˜å…ˆè¢«åŒ¹é…ï¼Œå¦‚æœ^~åŒ¹é…æˆåŠŸäº†ï¼Œé‚£ä¹ˆè¡¨ç¤ºé˜»æ–­æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸å†è¿›è¡Œæ­£åˆ™åŒ¹é…ã€‚</p><h3 id="é€šè¿‡-æ–¹å¼å®ç°åŒ¹é…-1"><a href="#é€šè¿‡-æ–¹å¼å®ç°åŒ¹é…-1" class="headerlink" title="é€šè¿‡~æ–¹å¼å®ç°åŒ¹é…"></a>é€šè¿‡~æ–¹å¼å®ç°åŒ¹é…</h3><p>åœ¨åŒ¹é…æœ€é•¿è§„åˆ™çš„æ—¶å€™ï¼Œé™¤äº†é€šè¿‡^~æ¥å®ç°åŒ¹é…ï¼Œè¿˜æœ‰é€šè¿‡æ™®é€šåŒ¹é…æ¥å®ç°ã€‚</p><p>å½“æœ€é•¿è§„åˆ™æ˜¯é€šè¿‡æ™®é€šåŒ¹é…çš„æ—¶å€™ï¼Œå°†ä¼šç»§ç»­æ­£åˆ™åŒ¹é…ï¼Œ åªè¦æœ‰ä¸€ä¸ªæ­£åˆ™æˆåŠŸï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªæ­£åˆ™çš„locationï¼Œåœæ­¢ç»§ç»­åŒ¹é…ï¼Œè¿”å›ç»“æœã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location ^~ /a/ &#123;</span><br><span class="line">        return 111;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location /a/b/ &#123;</span><br><span class="line">        return 222;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~ /a/b/ &#123;#åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</span><br><span class="line">        return 333;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœè®¿é—® <code>åŸŸå/a</code> è¿”å› <code>111</code></li><li>å¦‚æœè®¿é—® <code>åŸŸå/a/b</code> è¿”å› <code>333</code></li><li>å¦‚æœè®¿é—® <code>åŸŸå/a/b/sdf</code> è¿”å› <code>333</code></li></ul><p>ä»ç»“æœçœ‹ï¼Œå¯ä»¥çœ‹å‡ºè¯·æ±‚<code>/a/b/</code>çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šåˆ°è¾¾ç¬¬äºŒæ¡è§„åˆ™(æœ€é•¿è§„åˆ™)ï¼Œç”±äºç¬¬äºŒæ¡è§„åˆ™ä¸ºæ™®é€šåŒ¹é…(ä¸æ˜¯<code>^~</code>åŒ¹é…)ï¼Œå› æ­¤ä¼šç»§ç»­å»åŒ¹é…æ­£åˆ™ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸‰æ¡è§„åˆ™ï¼Œå› æ­¤æœ€ç»ˆè¿”å›<code>333</code>ã€‚</p><h3 id="é€šè¿‡-æ–¹å¼å®ç°åŒ¹é…-2"><a href="#é€šè¿‡-æ–¹å¼å®ç°åŒ¹é…-2" class="headerlink" title="é€šè¿‡~*æ–¹å¼å®ç°åŒ¹é…"></a>é€šè¿‡~*æ–¹å¼å®ç°åŒ¹é…</h3><p><code>~*</code> è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location ^~ /a/ &#123;</span><br><span class="line">        return 111;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location /a/b/ &#123;</span><br><span class="line">        return 222;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~* /a/b/ &#123;#ä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</span><br><span class="line">        return 333;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœè®¿é—® <code>åŸŸå/a/b/sdf</code> è¿”å› <code>333</code></li><li>å¦‚æœè®¿é—® <code>åŸŸå/A/B/sdf</code> è¿”å› <code>333</code></li></ul><p>ä»ç»“æœçœ‹ï¼Œæ— è®ºåŒ¹é…çš„æ˜¯å¤§å†™è¿˜æ˜¯å°å†™ï¼Œéƒ½ä¼šè¿”å›<code>333</code></p><p>å¸¸ç”¨æ–¹æ³•è¿˜æœ‰åŒ¹é…å›¾ç‰‡åç¼€ï¼Œå¹¶è¿”å›æŒ‡å®šä¿¡æ¯ï¼Œå¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location ~* \.(gif|jpg|png) &#123;#ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä»¥gif|jpg|pngåç¼€ç»“å°¾</span><br><span class="line">        return 444;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœè®¿é—® <code>åŸŸå/a.jpg</code> è¿”å› <code>444</code></li><li>å¦‚æœè®¿é—® <code>åŸŸå/A.JPG</code> è¿”å› <code>444</code></li></ul><h3 id="é€šè¿‡-å®ç°é€šç”¨åŒ¹é…"><a href="#é€šè¿‡-å®ç°é€šç”¨åŒ¹é…" class="headerlink" title="é€šè¿‡/ å®ç°é€šç”¨åŒ¹é…"></a>é€šè¿‡/ å®ç°é€šç”¨åŒ¹é…</h3><ol><li>proxy_passï¼ˆä»£ç†è½¬å‘ï¼‰æœ€åé¢æ²¡æœ‰æ–œæ ,åŒ¹é…è·¯å¾„æœ‰æ–œæ (/aaa/)</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /aaa/ &#123;</span><br><span class="line">        proxy_pass  http://127.0.0.1:8081;</span><br><span class="line">        proxy_rediect off;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>proxy_passæœ€åé¢æ²¡æœ‰æ–œæ <code>/</code>ï¼Œæ­¤æ—¶é€šè¿‡æµè§ˆå™¨è¯·æ±‚http://åŸŸå/aaa/ï¼Œé‚£ä¹ˆå®é™…è®¿é—®çš„åœ°å€å°±æ˜¯ <a href="http://127.0.0.1:8081/aaa/ï¼Œä¼šå°†åŒ¹é…è·¯å¾„/aaaä¸€èµ·åŠ è¿‡å»ã€‚" target="_blank" rel="noopener">http://127.0.0.1:8081/aaa/ï¼Œä¼šå°†åŒ¹é…è·¯å¾„/aaaä¸€èµ·åŠ è¿‡å»ã€‚</a></p><ol start="2"><li>proxy_passæœ€åé¢æœ‰æ–œæ <code>/</code>ï¼ŒåŒ¹é…è·¯å¾„ä¹Ÿæœ‰æ–œæ (/aaa/)</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /aaa/ &#123;</span><br><span class="line">        proxy_pass  http://127.0.0.1:8081/;</span><br><span class="line">        proxy_rediect off;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>proxy_passæœ€åé¢æœ‰æ–œæ <code>/</code>ï¼Œæ­¤æ—¶é€šè¿‡æµè§ˆå™¨è¯·æ±‚http://åŸŸå/aaa/ï¼Œé‚£ä¹ˆå®é™…è®¿é—®çš„åœ°å€å°±æ˜¯ <a href="http://127.0.0.1:8081ï¼Œä¼šå°†/aaaæŠ›å¼ƒçš„ã€‚" target="_blank" rel="noopener">http://127.0.0.1:8081ï¼Œä¼šå°†/aaaæŠ›å¼ƒçš„ã€‚</a></p><ol start="3"><li>proxy_passåé¢è¿˜æœ‰å…¶ä»–è·¯å¾„ä½†æ˜¯æœ€åæ²¡æœ‰ <code>/</code>ï¼Œ åŒ¹é…è·¯å¾„ä¹Ÿæœ‰æ–œæ (/aaa/)</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /aaa/ &#123;</span><br><span class="line">        proxy_pass  http://127.0.0.1:8081/bbb;</span><br><span class="line">        proxy_rediect off;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶é€šè¿‡æµè§ˆå™¨è®¿é—®http://åŸŸå/aaa/index.htmlï¼Œå®é™…è¯·æ±‚çš„æ˜¯<a href="http://127.0.0.1:8081/bbbindex.html(æ³¨æ„ä½ç½®æ˜¯é»˜è®¤è·¯å¾„ä¸‹ï¼Œä¸æ˜¯`bbb`è·¯å¾„ä¸‹ï¼Œå¦‚æœproxy_passçš„è·¯å¾„ä¸º`/bbb/ccc`ï¼Œé‚£ä¹ˆå®é™…è¯·æ±‚çš„å°±æ˜¯`bbb`è·¯å¾„ä¸‹çš„`cccindex.html`)" target="_blank" rel="noopener">http://127.0.0.1:8081/bbbindex.html(æ³¨æ„ä½ç½®æ˜¯é»˜è®¤è·¯å¾„ä¸‹ï¼Œä¸æ˜¯`bbb`è·¯å¾„ä¸‹ï¼Œå¦‚æœproxy_passçš„è·¯å¾„ä¸º`/bbb/ccc`ï¼Œé‚£ä¹ˆå®é™…è¯·æ±‚çš„å°±æ˜¯`bbb`è·¯å¾„ä¸‹çš„`cccindex.html`)</a></p><ol start="4"><li>proxy_passåé¢è¿˜æœ‰å…¶ä»–è·¯å¾„ä½†æ˜¯æœ€åæœ‰ <code>/</code>ï¼Œ åŒ¹é…è·¯å¾„ä¹Ÿæœ‰æ–œæ (/aaa/)</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /aaa/ &#123;</span><br><span class="line">        proxy_pass  http://127.0.0.1:8081/bbb/;</span><br><span class="line">        proxy_rediect off;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼šhttp://åŸŸå/aaa/index.htmlï¼Œå®é™…è®¿é—®çš„æ˜¯<a href="http://127.0.0.1:8081/bbb/index.html" target="_blank" rel="noopener">http://127.0.0.1:8081/bbb/index.html</a></p><ol start="5"><li>locationåŒ¹é…è·¯å¾„æœ«å°¾æ²¡æœ‰ <code>/</code>ï¼Œproxy_passåé¢ä¹Ÿæ²¡æœ‰<code>/</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    location /aaa &#123;</span><br><span class="line">        proxy_pass  http://127.0.0.1:8081;</span><br><span class="line">        proxy_rediect off;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è®¿é—®http://åŸŸå/aaaï¼Œé»˜è®¤å°†è¯·æ±‚åˆ°<a href="http://127.0.0.1:8081/aaa/index.htmlçš„å†…å®¹" target="_blank" rel="noopener">http://127.0.0.1:8081/aaa/index.htmlçš„å†…å®¹</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è¯­æ³•è§„åˆ™&quot;&gt;&lt;a href=&quot;#è¯­æ³•è§„åˆ™&quot; class=&quot;headerlink&quot; title=&quot;è¯­æ³•è§„åˆ™&quot;&gt;&lt;/a&gt;è¯­æ³•è§„åˆ™&lt;/h2&gt;&lt;p&gt;åŸºæœ¬è¯­æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;location [=|~|~*|^~|@] /uri/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¿®é¥°ç¬¦é‡Šä¹‰ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;ä¿®é¥°ç¬¦&lt;/th&gt;
&lt;th&gt;é‡Šä¹‰&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;=&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºç²¾ç¡®åŒ¹é…åé¢çš„url&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;~&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºæ­£åˆ™åŒ¹é…ï¼Œä½†æ˜¯åŒºåˆ†å¤§å°å†™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;~*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºæ­£åˆ™åŒ¹é…ï¼Œä¸åŒºåˆ†å¤§å°å†™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;^~&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è¡¨ç¤ºæ™®é€šå­—ç¬¦åŒ¹é…ï¼Œå¦‚æœè¯¥é€‰é¡¹åŒ¹é…ï¼ŒåªåŒ¹é…è¯¥é€‰é¡¹ï¼Œä¸åŒ¹é…åˆ«çš„é€‰é¡¹ï¼Œä¸€èˆ¬ç”¨æ¥åŒ¹é…ç›®å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;@&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;â€œ@â€ å®šä¹‰ä¸€ä¸ªå‘½åçš„ locationï¼Œä½¿ç”¨åœ¨å†…éƒ¨å®šå‘æ—¶ï¼Œä¾‹å¦‚ error_page&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é€šç”¨åŒ¹é…ï¼Œä»»ä½•è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä¸Šè¿°åŒ¹é…è§„åˆ™çš„ä¼˜å…ˆåŒ¹é…é¡ºåºï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="æœåŠ¡å™¨" scheme="https://xinyufeng.net/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Nginx" scheme="https://xinyufeng.net/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/Nginx/"/>
    
    
      <category term="Nginx" scheme="https://xinyufeng.net/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>PHP å¤šç»´æ•°ç»„è½¬ä¸ºæ ‘ç»“æ„</title>
    <link href="https://xinyufeng.net/2022/12/15/PHP-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E8%BD%AC%E4%B8%BA%E6%A0%91%E7%BB%93%E6%9E%84/"/>
    <id>https://xinyufeng.net/2022/12/15/PHP-å¤šç»´æ•°ç»„è½¬ä¸ºæ ‘ç»“æ„/</id>
    <published>2022-12-15T07:34:01.000Z</published>
    <updated>2022-12-15T07:45:43.837Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬ä¼šé‡åˆ°è·å–å­˜åœ¨çˆ¶å­çº§å…³ç³»çš„æ•°ç»„ï¼Œå¹¶éœ€è¦æ ¹æ®ä¸Šä¸‹çº§å…³ç³»ä»¥æ ‘ç»“æ„çš„å½¢å¼å±•ç¤ºçš„æƒ…å†µ</p><p>æ¯”å¦‚è·å–åˆ†ç±»åˆ—è¡¨ï¼Œç±»ä¼¼å¦‚ä¸‹æ•°æ®</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$data = [</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">13</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2-2-2'</span>, <span class="string">'pid'</span>=&gt;<span class="number">9</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">1</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">0</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">2</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»1-1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">1</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">3</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»1-2'</span>, <span class="string">'pid'</span>=&gt;<span class="number">1</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">4</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»1-1-1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">2</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">5</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»1-1-2'</span>, <span class="string">'pid'</span>=&gt;<span class="number">2</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">6</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»1-2-1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">3</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">7</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2'</span>, <span class="string">'pid'</span>=&gt;<span class="number">0</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">8</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2-1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">7</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">9</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2-2'</span>, <span class="string">'pid'</span>=&gt;<span class="number">7</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">10</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2-1-1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">8</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">11</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2-1-2'</span>, <span class="string">'pid'</span>=&gt;<span class="number">8</span>],</span><br><span class="line">[<span class="string">'id'</span>=&gt;<span class="number">12</span>, <span class="string">'name'</span>=&gt;<span class="string">'åˆ†ç±»2-2-1'</span>, <span class="string">'pid'</span>=&gt;<span class="number">9</span>],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><a id="more"></a><p>å®ç°æ–¹æ³•ä»£ç å¦‚ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†è¿”å›çš„æ•°æ®é›†è½¬æ¢æˆæ ‘</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  array   $list  æ•°æ®é›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  string  $pk    ä¸»é”®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  string  $pid   çˆ¶èŠ‚ç‚¹åç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  string  $child å­èŠ‚ç‚¹åç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  integer $root  æ ¹èŠ‚ç‚¹ID</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> array          è½¬æ¢åçš„æ ‘</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">list_to_tree</span><span class="params">($list, $pk = <span class="string">'id'</span>, $pid = <span class="string">'pid'</span>, $child = <span class="string">'child'</span>, $root=<span class="number">0</span>)</span> </span>&#123;</span><br><span class="line">    $tree = <span class="keyword">array</span>();<span class="comment">// åˆ›å»ºTree</span></span><br><span class="line">    <span class="keyword">if</span>(is_array($list)) &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºåŸºäºä¸»é”®çš„æ•°ç»„å¼•ç”¨</span></span><br><span class="line">        $refer = <span class="keyword">array</span>();</span><br><span class="line">        <span class="keyword">foreach</span> ($list <span class="keyword">as</span> $index =&gt; $data) &#123;</span><br><span class="line"><span class="comment">/*åŸºäºä¸»é”®çš„æ–°æ•°ç»„ä¸ä¹‹å‰çš„æ•°ç»„åœ°å€ä¸€æ ·ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªæ•°ç»„çš„æ•°æ®å¦ä¸€ä¸ªä¹Ÿä¼šå˜*/</span></span><br><span class="line">            $refer[$data[$pk]] =&amp; $list[$index];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> ($list <span class="keyword">as</span> $key =&gt; $data) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦å­˜åœ¨parent</span></span><br><span class="line">            $parentId = $data[$pid];</span><br><span class="line">            <span class="keyword">if</span> ($root == $parentId) &#123;</span><br><span class="line">                $tree[$data[$pk]] =&amp; $list[$key];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">isset</span>($refer[$parentId])) &#123;</span><br><span class="line">                    $parent =&amp; $refer[$parentId];</span><br><span class="line">                    $parent[$child][] =&amp; $list[$key];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $tree;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;var_dump(list_to_tree($data));</span><br></pre></td></tr></table></figure><p>ä¸»è¦æ€è·¯æ¦‚å†µæ˜¯ï¼ŒæŠŠè¦éå†çš„æ•°ç»„ï¼Œåˆ›å»ºåŸºäºä¸»é”®çš„æ•°ç»„å¼•ç”¨ã€‚æŠŠè¦ç”Ÿæˆçš„æ ‘ç»“æ„æ•°ç»„ä¹Ÿæ•°ç»„å¼•ç”¨</p><p>æ¯”å¦‚æ¡ˆä¾‹ä¸­çš„ <code>$refer[13] === $list[0]</code>,<code>$tree[13] === $refer[13]</code>ï¼Œåˆ©ç”¨äº†å¤šä¸ªå˜é‡æŒ‡å‘åŒåœ°å€ï¼Œå…¶ä¸­ä¸€ä¸ªå‚æ•°æ”¹å˜äº†æ•°æ®ï¼Œå¦å¤–çš„å‚æ•°æ•°æ®ä¹Ÿä¼šæ”¹å˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬ä¼šé‡åˆ°è·å–å­˜åœ¨çˆ¶å­çº§å…³ç³»çš„æ•°ç»„ï¼Œå¹¶éœ€è¦æ ¹æ®ä¸Šä¸‹çº§å…³ç³»ä»¥æ ‘ç»“æ„çš„å½¢å¼å±•ç¤ºçš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚è·å–åˆ†ç±»åˆ—è¡¨ï¼Œç±»ä¼¼å¦‚ä¸‹æ•°æ®&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$data = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2-2-2&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»1-1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»1-2&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»1-1-1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»1-1-2&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»1-2-1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2-1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2-2&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2-1-1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2-1-2&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	[&lt;span class=&quot;string&quot;&gt;&#39;id&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;name&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;string&quot;&gt;&#39;åˆ†ç±»2-2-1&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;pid&#39;&lt;/span&gt;=&amp;gt;&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="åç«¯å¼€å‘" scheme="https://xinyufeng.net/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
      <category term="PHP" scheme="https://xinyufeng.net/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/PHP/"/>
    
    
      <category term="PHPæŠ€å·§" scheme="https://xinyufeng.net/tags/PHP%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Linuxç¯å¢ƒå®‰è£…nvm</title>
    <link href="https://xinyufeng.net/2022/10/18/Linux%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85nvm/"/>
    <id>https://xinyufeng.net/2022/10/18/Linuxç¯å¢ƒå®‰è£…nvm/</id>
    <published>2022-10-18T02:24:41.000Z</published>
    <updated>2022-10-18T02:37:00.089Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>nvmæ˜¯ä¸€ä¸ªç®¡ç†nodeå¤šç‰ˆæœ¬çš„å·¥å…·<br>ç³»ç»Ÿä¸ºCentOS7</p></blockquote><ol><li>ä¸‹è½½nvmå®‰è£…åŒ…</li></ol><p>å®˜æ–¹ä¸‹è½½ï¼š<a href="https://github.com/nvm-sh/nvm/archive/refs/tags/v0.39.2.tar.gz" target="_blank" rel="noopener">https://github.com/nvm-sh/nvm/archive/refs/tags/v0.39.2.tar.gz</a></p><ol start="2"><li>åŠ å‹nvmå‹ç¼©åŒ…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// è¿›å…¥æ–‡ä»¶ä¸‹è½½ç›®å½•</span><br><span class="line">[root@localhost ~]<span class="comment"># cd /usr/local/src</span></span><br><span class="line">// è§£å‹æ–‡ä»¶åˆ° root/.nvm</span><br><span class="line">[root@localhost ~]<span class="comment"># tar -zxvf nvm-0.39.2.tar.gz --strip-components 1  -C /root/.nvm</span></span><br></pre></td></tr></table></figure><a id="more"></a><ol start="3"><li>é…ç½®ç¯å¢ƒ</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vi ~/.bashrc</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>~/.bashrc</code>çš„æœ«å°¾ï¼Œæ·»åŠ å¦‚ä¸‹è¯­å¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">"<span class="variable">$HOME</span>/.nvm"</span></span><br><span class="line">[ -s <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; \. <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span>  <span class="comment"># This loads nvm</span></span><br><span class="line">[ -s <span class="string">"<span class="variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; \. <span class="string">"<span class="variable">$NVM_DIR</span>/bash_completion"</span>  <span class="comment"># This loads nvm bash_completion</span></span><br></pre></td></tr></table></figure><p><code>wq</code>ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º</p><ol start="4"><li>é…ç½®ç”Ÿæ•ˆ(é‡å¯é…ç½®)</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># source ~/.bashrc</span></span><br></pre></td></tr></table></figure><ol start="5"><li>éªŒè¯nvmæ˜¯å¦å®‰è£…æˆåŠŸ</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># nvm -v</span></span><br><span class="line">0.39.2</span><br><span class="line">[root@localhost ~]<span class="comment"># nvm --version</span></span><br><span class="line">0.39.2</span><br></pre></td></tr></table></figure><p><strong>å¸¸ç”¨æ“ä½œ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#nvmå¸¸ç”¨å‘½ä»¤</span></span><br><span class="line">nvm ls-remote           // æŸ¥çœ‹ç›®å‰çº¿ä¸Šæ‰€èƒ½å®‰è£…çš„æ‰€æœ‰ node ç‰ˆæœ¬</span><br><span class="line">nvm install 12.22.12    // å®‰è£…node</span><br><span class="line">nvm uninstall 14.13.2   // ç§»é™¤ node</span><br><span class="line">nvm use 14.13.2         // ä½¿ç”¨ node </span><br><span class="line">nvm ls                  // æŸ¥çœ‹ç›®å‰å·²å®‰è£…çš„ node åŠå½“å‰æ‰€ä½¿ç”¨çš„ node</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;nvmæ˜¯ä¸€ä¸ªç®¡ç†nodeå¤šç‰ˆæœ¬çš„å·¥å…·&lt;br&gt;ç³»ç»Ÿä¸ºCentOS7&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½nvmå®‰è£…åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®˜æ–¹ä¸‹è½½ï¼š&lt;a href=&quot;https://github.com/nvm-sh/nvm/archive/refs/tags/v0.39.2.tar.gz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/nvm-sh/nvm/archive/refs/tags/v0.39.2.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;åŠ å‹nvmå‹ç¼©åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// è¿›å…¥æ–‡ä»¶ä¸‹è½½ç›®å½•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@localhost ~]&lt;span class=&quot;comment&quot;&gt;# cd /usr/local/src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// è§£å‹æ–‡ä»¶åˆ° root/.nvm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[root@localhost ~]&lt;span class=&quot;comment&quot;&gt;# tar -zxvf nvm-0.39.2.tar.gz --strip-components 1  -C /root/.nvm&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ¡†æ¶" scheme="https://xinyufeng.net/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Nodejs" scheme="https://xinyufeng.net/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Nodejs/"/>
    
    
      <category term="nvm" scheme="https://xinyufeng.net/tags/nvm/"/>
    
      <category term="Nodejs" scheme="https://xinyufeng.net/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Yii2 åˆ›å»ºå®šæ—¶ä»»åŠ¡</title>
    <link href="https://xinyufeng.net/2022/08/30/Yii2-%E5%88%9B%E5%BB%BA%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    <id>https://xinyufeng.net/2022/08/30/Yii2-åˆ›å»ºå®šæ—¶ä»»åŠ¡/</id>
    <published>2022-08-30T06:20:49.000Z</published>
    <updated>2022-08-30T07:38:50.480Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æˆ‘ä»¬é¡¹ç›®å¼€å‘ä¸­ï¼Œéœ€è¦ä½¿ç”¨å®šæ—¶ä»»åŠ¡æ¥å®Œæˆæ‰¹å¤„ç†ä¸šåŠ¡ï¼Œä¸‹é¢é€šè¿‡Yii2æ¡†æ¶æ¥å®ç°å®šæ—¶ä»»åŠ¡</p><p>Yii2æ¡†æ¶å®šæ—¶ä»»åŠ¡ä»£ç ç»Ÿä¸€æ”¾åœ¨ <code>./console</code> ç›®å½•ä¸‹</p><h2 id="ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶"><a href="#ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶" class="headerlink" title="ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶"></a>ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶</h2><p>é¦–å…ˆåœ¨<code>console/controllerç›®å½•ä¸‹</code>åˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡æ§åˆ¶å™¨<code>TestController.php</code></p><a id="more"></a><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">console</span>\<span class="title">controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">yii</span>\<span class="title">console</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰§è¡Œæµ‹è¯•è„šæœ¬</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionDo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'hello test console'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ§åˆ¶å°è¿è¡Œå‘½ä»¤<code>php yii</code>ï¼Œä¼šçœ‹åˆ°<code>test</code>æ§åˆ¶ä¸‹çš„<code>do</code>æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Â·Â·Â·Â·Â·Â·</span><br><span class="line">- test</span><br><span class="line">    test/do                        æ‰§è¡Œæµ‹è¯•è„šæœ¬</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè„šæ­¥å‘½ä»¤<code>php yii æ§åˆ¶å™¨å/æ–¹æ³•å</code>ï¼Œä¼šè¾“å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php yii <span class="built_in">test</span>/<span class="keyword">do</span></span><br><span class="line">hello <span class="built_in">test</span> console</span><br></pre></td></tr></table></figure><p>è¿™å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ§åˆ¶å™¨</p><h2 id="ä¼ é€’å‚æ•°"><a href="#ä¼ é€’å‚æ•°" class="headerlink" title="ä¼ é€’å‚æ•°"></a>ä¼ é€’å‚æ•°</h2><p>å¦‚æœéœ€è¦ä¼ é€’å‚æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">console</span>\<span class="title">controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">yii</span>\<span class="title">console</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> integer æ¥æ”¶çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> $param1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string æ¥æ”¶çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> $param2;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $actionID</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string[]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">options</span><span class="params">($actionID)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">'param1'</span>,</span><br><span class="line">            <span class="string">'param2'</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰§è¡Œæµ‹è¯•è„šæœ¬</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionDo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;param1 . PHP_EOL;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;param2 . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>param1</code>å’Œ<code>param2</code>å°±æ˜¯å‚æ•°ï¼Œæ‰§è¡Œè„šæ­¥å‘½ä»¤<code>php yii æ§åˆ¶å™¨å/æ–¹æ³•å --å‚æ•°= Â·Â·Â·Â·</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php yii <span class="built_in">test</span>/<span class="keyword">do</span> --param1=123 --param2=hello</span><br><span class="line">123</span><br><span class="line">hello</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®å‚æ•°åˆ«å"><a href="#è®¾ç½®å‚æ•°åˆ«å" class="headerlink" title="è®¾ç½®å‚æ•°åˆ«å"></a>è®¾ç½®å‚æ•°åˆ«å</h2><p>å¦‚æœéœ€è¦ç»™å‚æ•°è®¾ç½®åˆ«å</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">console</span>\<span class="title">controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">yii</span>\<span class="title">console</span>\<span class="title">Controller</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> integer æ¥æ”¶çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> $param1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string æ¥æ”¶çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> $param2;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $actionID</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string[]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">options</span><span class="params">($actionID)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">'param1'</span>,</span><br><span class="line">            <span class="string">'param2'</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‚æ•°è®¾ç½®åˆ«å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">optionAliases</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">'p1'</span> =&gt; <span class="string">'param1'</span>,</span><br><span class="line">            <span class="string">'p2'</span> =&gt; <span class="string">'param2'</span></span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰§è¡Œæµ‹è¯•è„šæœ¬</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">actionDo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;param1 . PHP_EOL;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;param2 . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>p1</code>å’Œ<code>p2</code>å°±æ˜¯å‚æ•°çš„åˆ«åï¼Œæ‰§è¡Œè„šæ­¥å‘½ä»¤<code>php yii æ§åˆ¶å™¨å/æ–¹æ³•å --å‚æ•°= Â·Â·Â·Â·</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php yii <span class="built_in">test</span>/<span class="keyword">do</span> -p1=123 -p2=hello</span><br><span class="line">123</span><br><span class="line">hello</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè®¾ç½®å‚æ•°åˆ«ååï¼Œä½¿ç”¨åˆ«åå‚æ•°ç”¨ä¸€ä¸ªæ¨ªæ†ï¼ˆ-ï¼‰é“¾æ¥ã€‚</p></blockquote><h2 id="åœ¨Linuxé…ç½®crontab"><a href="#åœ¨Linuxé…ç½®crontab" class="headerlink" title="åœ¨Linuxé…ç½®crontab"></a>åœ¨Linuxé…ç½®crontab</h2><p>æ‰§è¡Œå‘½ä»¤<code>crontab -e</code>ï¼Œæˆ‘ä»¬ä»¥æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä¸ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/1 * * * * /usr/bin/php /var/www/html/yii2-project/yii <span class="built_in">test</span>/<span class="keyword">do</span> &gt;/dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>å…¶ä¸­</p><ul><li><code>/usr/bin/php</code> æ˜¯phpè¿è¡Œæ–‡ä»¶</li><li><code>/var/www/html/yii2-project/yii</code> é¡¹ç›®ç›®å½•ä¸­çš„yii æ–‡ä»¶</li><li><code>test/do</code> æ˜¯æ‰§è¡Œè„šæ­¥å‘½ä»¤</li><li><code>&gt;/dev/null 2&gt;&amp;1</code> è¿™ä¹ˆå†™å°±è¡Œå“ˆï¼Œå¯è‡ªè¡ŒæŸ¥æ‰¾</li></ul><p>ä¿å­˜é€€å‡ºå³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨æˆ‘ä»¬é¡¹ç›®å¼€å‘ä¸­ï¼Œéœ€è¦ä½¿ç”¨å®šæ—¶ä»»åŠ¡æ¥å®Œæˆæ‰¹å¤„ç†ä¸šåŠ¡ï¼Œä¸‹é¢é€šè¿‡Yii2æ¡†æ¶æ¥å®ç°å®šæ—¶ä»»åŠ¡&lt;/p&gt;
&lt;p&gt;Yii2æ¡†æ¶å®šæ—¶ä»»åŠ¡ä»£ç ç»Ÿä¸€æ”¾åœ¨ &lt;code&gt;./console&lt;/code&gt; ç›®å½•ä¸‹&lt;/p&gt;
&lt;h2 id=&quot;ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶&quot;&gt;&lt;/a&gt;ç®€å•çš„å®šæ—¶ä»»åŠ¡è„šæ­¥æ–‡ä»¶&lt;/h2&gt;&lt;p&gt;é¦–å…ˆåœ¨&lt;code&gt;console/controllerç›®å½•ä¸‹&lt;/code&gt;åˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡æ§åˆ¶å™¨&lt;code&gt;TestController.php&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="PHPæ¡†æ¶" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Yii" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/Yii/"/>
    
    
      <category term="YiiæŠ€å·§" scheme="https://xinyufeng.net/tags/Yii%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Bootstrap3 å®ç°ç©¿æ¢­æ¡†</title>
    <link href="https://xinyufeng.net/2022/08/23/Bootstrap3-%E5%AE%9E%E7%8E%B0%E7%A9%BF%E6%A2%AD%E6%A1%86/"/>
    <id>https://xinyufeng.net/2022/08/23/Bootstrap3-å®ç°ç©¿æ¢­æ¡†/</id>
    <published>2022-08-23T01:22:43.000Z</published>
    <updated>2022-08-23T01:24:47.676Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ Bootstrap3 æ¡†æ¶å®ç°ç©¿æ¢­æ¡†ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Bootstrap3 ç©¿æ¢­æ¡†<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Bootstrap --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"</span> <span class="attr">integrity</span>=<span class="string">"sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- HTML5 shim å’Œ Respond.js æ˜¯ä¸ºäº†è®© IE8 æ”¯æŒ HTML5 å…ƒç´ å’Œåª’ä½“æŸ¥è¯¢ï¼ˆmedia queriesï¼‰åŠŸèƒ½ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è­¦å‘Šï¼šé€šè¿‡ file:// åè®®ï¼ˆå°±æ˜¯ç›´æ¥å°† html é¡µé¢æ‹–æ‹½åˆ°æµè§ˆå™¨ä¸­ï¼‰è®¿é—®é¡µé¢æ—¶ Respond.js ä¸èµ·ä½œç”¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--[if lt IE 9]&gt;</span></span><br><span class="line"><span class="comment">      &lt;script src="https://cdn.jsdelivr.cn/npm/html5shiv@3.7.3/dist/html5shiv.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">      &lt;script src="https://cdn.jsdelivr.cn/npm/respond.js@1.4.2/dest/respond.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">    &lt;![endif]--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span>Bootstrap3 ç©¿æ¢­æ¡†<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table table-bordered dchannel-table"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"item-default"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width: 50%;"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"sel_all_area"</span> <span class="attr">multiple</span>=<span class="string">"multiple"</span> <span class="attr">size</span>=<span class="string">"10"</span> <span class="attr">style</span>=<span class="string">"width:100%;"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"4"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width: 50px;"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default btn-small"</span> <span class="attr">id</span>=<span class="string">"btn_select_all_area"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-forward"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default btn-small"</span> <span class="attr">id</span>=<span class="string">"btn_choose_selected_area"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-chevron-right"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default btn-small"</span> <span class="attr">id</span>=<span class="string">"btn_remove_selected_area"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-chevron-left"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-default btn-small"</span> <span class="attr">id</span>=<span class="string">"btn_remove_all_area"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-backward"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width: 50%;"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"sel_selected_areas"</span>  <span class="attr">multiple</span>=<span class="string">"multiple"</span> <span class="attr">size</span>=<span class="string">"10"</span> <span class="attr">style</span>=<span class="string">"width:100%;"</span>&gt;</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- jQuery (Bootstrap çš„æ‰€æœ‰ JavaScript æ’ä»¶éƒ½ä¾èµ– jQueryï¼Œæ‰€ä»¥å¿…é¡»æ”¾åœ¨å‰è¾¹) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åŠ è½½ Bootstrap çš„æ‰€æœ‰ JavaScript æ’ä»¶ã€‚ä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦åªåŠ è½½å•ä¸ªæ’ä»¶ã€‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"</span> <span class="attr">integrity</span>=<span class="string">"sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> all_area = $(<span class="string">"#sel_all_area"</span>), selected_areas = $(<span class="string">"#sel_selected_areas"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#btn_select_all_area"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> selectedAreaArray = [];</span></span><br><span class="line"><span class="javascript">                all_area.find(<span class="string">"option"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    selectedAreaArray[i] = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).appendTo(selected_areas);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="javascript">                doSubmit(<span class="string">'add'</span>, selectedAreaArray.toString());</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#btn_choose_selected_area"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> selectedAreaArray = [];</span></span><br><span class="line"><span class="javascript">                all_area.find(<span class="string">"option:selected"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    selectedAreaArray[i] = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).appendTo(selected_areas);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="javascript">                doSubmit(<span class="string">'add'</span>, selectedAreaArray.toString());</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#btn_remove_selected_area"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> selectedAreaArray = [];</span></span><br><span class="line"><span class="javascript">                selected_areas.find(<span class="string">"option:selected"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    selectedAreaArray[i] = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">                     $(<span class="keyword">this</span>).appendTo(all_area);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="javascript">                doSubmit(<span class="string">'del'</span>, selectedAreaArray.toString());</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#btn_remove_all_area"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> selectedAreaArray = [];</span></span><br><span class="line"><span class="javascript">                selected_areas.find(<span class="string">"option"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    selectedAreaArray[i] = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">                     $(<span class="keyword">this</span>).appendTo(all_area);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="javascript">                doSubmit(<span class="string">'del'</span>, selectedAreaArray.toString());</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">doSubmit</span>(<span class="params">select_type, key</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">`æ›´æ–° ç±»å‹: <span class="subst">$&#123;select_type&#125;</span>, KEY: <span class="subst">$&#123;key&#125;</span>`</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä½¿ç”¨ Bootstrap3 æ¡†æ¶å®ç°ç©¿æ¢­æ¡†ä»£ç &lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
      <category term="å‰ç«¯æ¡†æ¶" scheme="https://xinyufeng.net/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Bootstrap" scheme="https://xinyufeng.net/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Bootstrap/"/>
    
    
      <category term="Bootstrap" scheme="https://xinyufeng.net/tags/Bootstrap/"/>
    
  </entry>
  
  <entry>
    <title>Laravel ç¼“å­˜æ“ä½œ</title>
    <link href="https://xinyufeng.net/2022/04/29/Laravel-%E7%BC%93%E5%AD%98%E6%93%8D%E4%BD%9C/"/>
    <id>https://xinyufeng.net/2022/04/29/Laravel-ç¼“å­˜æ“ä½œ/</id>
    <published>2022-04-29T03:18:42.000Z</published>
    <updated>2022-04-29T05:33:28.324Z</updated>
    
    <content type="html"><![CDATA[<p>Laravelä¸ºä¸åŒçš„ç¼“å­˜ç³»ç»Ÿå°è£…äº†ç»Ÿä¸€çš„APIï¼Œç¼“å­˜é…ç½®æ–‡ä»¶<code>./config/cache.php</code></p><p><strong>ä¸»è¦çš„ç¼“å­˜ç±»å‹(é©±åŠ¨)</strong></p><ul><li>file - æ–‡ä»¶ï¼Œé»˜è®¤ä½¿ç”¨</li><li>memcached - memcached</li><li>redis - redis</li><li>database - æ•°æ®åº“</li></ul><p>é»˜è®¤laravelæ”¯æŒç¼“å­˜ä»‹è´¨ï¼š<code>apc</code>, <code>array</code>, <code>database</code>, <code>file</code>, <code>memcached</code>, <code>redis</code></p><p>åœ¨é…ç½®æ–‡ä»¶<code>.env</code>ä¸­ä¿®æ”¹é©±åŠ¨ç±»å‹</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CACHE_DRIVER=file</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®ç¼“å­˜"><a href="#è®¾ç½®ç¼“å­˜" class="headerlink" title="è®¾ç½®ç¼“å­˜"></a>è®¾ç½®ç¼“å­˜</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Cache</span>; <span class="comment">// Cacheé—¨é¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ  å¦‚æœkeyä¸å­˜åœ¨åˆ™æ·»åŠ æˆåŠŸï¼Œå¦‚æœkeyå­˜åœ¨ï¼Œè¿”å›false</span></span><br><span class="line">Cache::add(<span class="string">'key'</span>, <span class="string">'value'</span>, $seconds);</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® ä¸ç®¡keyå€¼æ˜¯å¦å­˜ï¼Œéƒ½å¯ä»¥è®¾ç½®æˆåŠŸ</span></span><br><span class="line">Cache::put(<span class="string">'key'</span>, <span class="string">'value'</span>, $seconds);</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ°¸ä¹…ç¼“å­˜</span></span><br><span class="line">Cache::forever(<span class="string">'key'</span>, <span class="string">'value'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>æ–‡ä»¶æ‰€ç”Ÿæˆçš„åœ°æ–¹åœ¨ <code>./storage/framework/cache/data/</code> ç›®å½•ä¸‹</p></blockquote><h2 id="è·å–ç¼“å­˜æ•°æ®"><a href="#è·å–ç¼“å­˜æ•°æ®" class="headerlink" title="è·å–ç¼“å­˜æ•°æ®"></a>è·å–ç¼“å­˜æ•°æ®</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$value = Cache::get(<span class="string">'key'</span>);</span><br><span class="line"></span><br><span class="line">$value = Cache::get(<span class="string">'key'</span>, <span class="string">'default'</span>);</span><br><span class="line"></span><br><span class="line">$value = Cache::get(<span class="string">'key'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–çš„åŒæ—¶å¹¶å­˜å‚¨</span></span><br><span class="line">$value = Cache::remember(<span class="string">'users'</span>, $minutes, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'keyä¸å­˜çš„æ—¶å€™è¿”å›çš„æ•°æ®'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ£€æŸ¥ç¼“å­˜é¡¹æ˜¯å¦å­˜åœ¨"><a href="#æ£€æŸ¥ç¼“å­˜é¡¹æ˜¯å¦å­˜åœ¨" class="headerlink" title="æ£€æŸ¥ç¼“å­˜é¡¹æ˜¯å¦å­˜åœ¨"></a>æ£€æŸ¥ç¼“å­˜é¡¹æ˜¯å¦å­˜åœ¨</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥ç¼“å­˜çš„keyå€¼æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›trueå¦åˆ™è¿”å›false</span></span><br><span class="line">Cache::has(<span class="string">'key'</span>)</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤ç¼“å­˜æ•°æ®"><a href="#åˆ é™¤ç¼“å­˜æ•°æ®" class="headerlink" title="åˆ é™¤ç¼“å­˜æ•°æ®"></a>åˆ é™¤ç¼“å­˜æ•°æ®</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…ˆè·å–å†åˆ é™¤</span></span><br><span class="line">$value = Cache::pull(<span class="string">'key'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å•ä¸ª</span></span><br><span class="line">Cache::forget(<span class="string">'key'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤æ‰€æœ‰çš„ç¼“å­˜</span></span><br><span class="line">Cache::flush();</span><br></pre></td></tr></table></figure><h2 id="ç¼“å­˜è¾…åŠ©å‡½æ•°"><a href="#ç¼“å­˜è¾…åŠ©å‡½æ•°" class="headerlink" title="ç¼“å­˜è¾…åŠ©å‡½æ•°"></a>ç¼“å­˜è¾…åŠ©å‡½æ•°</h2><p>é™¤äº†ä½¿ç”¨ <code>Cache</code> é—¨é¢æˆ–ç¼“å­˜å¥‘çº¦ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¨å±€çš„ <code>cache()</code> å‡½æ•°æ¥é€šè¿‡ç¼“å­˜è·å–å’Œå­˜å‚¨æ•°æ®ã€‚å½“å¸¦æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°çš„ <code>cache()</code> å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›ç»™å®šé”®å¯¹åº”çš„ç¼“å­˜å€¼ï¼ˆå–å€¼ï¼‰ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$value = cache(<span class="string">'key'</span>);</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æä¾›äº†é”®å€¼å¯¹æ•°ç»„å’Œä¸€ä¸ªè¿‡æœŸæ—¶é—´ç»™è¯¥å‡½æ•°ï¼Œåˆ™ä¼šåœ¨æŒ‡å®šçš„æœ‰æ•ˆæœŸå†…å­˜å‚¨ç¼“å­˜å€¼ï¼ˆå­˜å‚¨ï¼‰ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cache([<span class="string">'key'</span> =&gt; <span class="string">'value'</span>], $seconds);</span><br><span class="line"></span><br><span class="line">cache([<span class="string">'key'</span> =&gt; <span class="string">'value'</span>], now()-&gt;addMinutes(<span class="number">10</span>));</span><br></pre></td></tr></table></figure><p><code>cache()</code> å‡½æ•°ä¸å¸¦ä»»ä½•å‚æ•°è¢«è°ƒç”¨æ—¶ä¼šè¿”å› Illuminate\Contracts\Cache\Factory å®ç°çš„å®ä¾‹ï¼Œä»è€Œå…è®¸ä½ è°ƒç”¨å…¶å®ƒç¼“å­˜æ–¹æ³•ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cache()-&gt;remember(<span class="string">'users'</span>, $seconds, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> DB::table(<span class="string">'users'</span>)-&gt;get();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Laravelä¸ºä¸åŒçš„ç¼“å­˜ç³»ç»Ÿå°è£…äº†ç»Ÿä¸€çš„APIï¼Œç¼“å­˜é…ç½®æ–‡ä»¶&lt;code&gt;./config/cache.php&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸»è¦çš„ç¼“å­˜ç±»å‹(é©±åŠ¨)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;file - æ–‡ä»¶ï¼Œé»˜è®¤ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;memcached - memcached&lt;/li&gt;
&lt;li&gt;redis - redis&lt;/li&gt;
&lt;li&gt;database - æ•°æ®åº“&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é»˜è®¤laravelæ”¯æŒç¼“å­˜ä»‹è´¨ï¼š&lt;code&gt;apc&lt;/code&gt;, &lt;code&gt;array&lt;/code&gt;, &lt;code&gt;database&lt;/code&gt;, &lt;code&gt;file&lt;/code&gt;, &lt;code&gt;memcached&lt;/code&gt;, &lt;code&gt;redis&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é…ç½®æ–‡ä»¶&lt;code&gt;.env&lt;/code&gt;ä¸­ä¿®æ”¹é©±åŠ¨ç±»å‹&lt;/p&gt;
    
    </summary>
    
      <category term="PHPæ¡†æ¶" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/"/>
    
      <category term="Laravel" scheme="https://xinyufeng.net/categories/PHP%E6%A1%86%E6%9E%B6/Laravel/"/>
    
    
      <category term="LaravelæŠ€å·§" scheme="https://xinyufeng.net/tags/Laravel%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
</feed>
